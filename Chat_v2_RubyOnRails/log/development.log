Started GET "/" for ::1 at 2021-05-07 19:16:37 +0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 55.3ms | Allocations: 10896)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 6]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 7]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 8]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 9]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 175.6ms | Allocations: 39914)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 235ms (Views: 204.3ms | ActiveRecord: 6.9ms | Allocations: 48005)


Started GET "/cable" for ::1 at 2021-05-07 19:16:38 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:16:38 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 19:16:39 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 447)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 6]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 7]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 8]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 9]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.1ms | Allocations: 1092)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 709)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 763)
  Rendered messages/_form.html.erb (Duration: 3.4ms | Allocations: 735)
  Rendered rooms/index.html.erb within layouts/application (Duration: 117.6ms | Allocations: 27884)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 131ms (Views: 120.6ms | ActiveRecord: 6.0ms | Allocations: 31056)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/2" for ::1 at 2021-05-07 19:16:40 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.7ms | Allocations: 447)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 6]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 7]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 8]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 9]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 60.6ms | Allocations: 13841)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 70.8ms | ActiveRecord: 4.1ms | Allocations: 16985)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/rooms/2" for ::1 at 2021-05-07 19:17:12 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 3.0ms | Allocations: 441)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 6]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 7]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 8]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 9]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.2ms | Allocations: 763)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 62.3ms | Allocations: 13831)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 82ms (Views: 73.8ms | ActiveRecord: 4.4ms | Allocations: 16974)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:17:13 +0200
RoomChannel stopped streaming from room_channel_2
Started GET "/cable" for ::1 at 2021-05-07 19:17:13 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:17:13 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/" for ::1 at 2021-05-07 19:17:17 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.6ms | Allocations: 441)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 6]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 7]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 8]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 9]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 57.6ms | Allocations: 11100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 65.4ms | ActiveRecord: 5.1ms | Allocations: 13707)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:17:17 +0200
RoomChannel stopped streaming from room_channel_2
Started GET "/cable" for ::1 at 2021-05-07 19:17:18 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:17:18 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 19:17:19 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 5.4ms | Allocations: 441)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 6]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 7]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 8]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 9]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 18.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 763)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.1ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 1112)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 763)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 105.3ms | Allocations: 22236)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 117ms (Views: 105.4ms | ActiveRecord: 7.6ms | Allocations: 25368)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200501133606)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 17:19:20.990394"], ["updated_at", "2021-05-07 17:19:20.990394"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "ce4229a8d7ea66d7d2fda669c52432d1756618c9"], ["created_at", "2021-05-07 17:19:20.999702"], ["updated_at", "2021-05-07 17:19:20.999702"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200501133606)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 17:19:21.091523"], ["updated_at", "2021-05-07 17:19:21.091523"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 17:19:21.097841"], ["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "ce4229a8d7ea66d7d2fda669c52432d1756618c9"], ["created_at", "2021-05-07 17:19:21.104265"], ["updated_at", "2021-05-07 17:19:21.104265"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2021-05-07 19:19:34 +0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:19:34 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 19:19:37 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:10:in `generate'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Ancient-Highway-316"], ["LIMIT", 1]]
  â†³ app/models/user.rb:10:in `generate'
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["username", "Ancient-Highway-316"], ["created_at", "2021-05-07 17:19:37.280571"], ["updated_at", "2021-05-07 17:19:37.280571"]]
  â†³ app/models/user.rb:10:in `generate'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:10:in `generate'
  Rendered rooms/_form.html.erb (Duration: 32.0ms | Allocations: 2845)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  Rendered rooms/index.html.erb within layouts/application (Duration: 91.9ms | Allocations: 15022)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 143ms (Views: 108.3ms | ActiveRecord: 8.2ms | Allocations: 21185)


WebSocket error occurred: Broken pipe
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:19:37 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:19:37 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:19:37 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-07 19:19:41 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"asa"}, "commit"=>"AÃ±adir"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "asa"], ["created_at", "2021-05-07 17:19:41.209837"], ["updated_at", "2021-05-07 17:19:41.209837"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 28ms (ActiveRecord: 2.9ms | Allocations: 2933)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:19:41 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.8ms | Allocations: 447)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  Rendered messages/_form.html.erb (Duration: 11.6ms | Allocations: 741)
  Rendered rooms/index.html.erb within layouts/application (Duration: 84.2ms | Allocations: 14028)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 91.5ms | ActiveRecord: 3.8ms | Allocations: 17203)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:19:41 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 19:19:41 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:19:41 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 19:19:42 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 4.0ms | Allocations: 447)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  Rendered messages/_form.html.erb (Duration: 0.7ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 33.3ms | Allocations: 3858)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 41.0ms | ActiveRecord: 2.1ms | Allocations: 7013)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:19:43 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"asdas"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "asdas"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:19:43.954606"], ["updated_at", "2021-05-07 17:19:43.954606"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 25ms (ActiveRecord: 2.7ms | Allocations: 5649)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:19:43 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 441)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.9ms | Allocations: 1036)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 5134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 32.6ms | ActiveRecord: 1.2ms | Allocations: 8269)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:19:44 +0200
Started GET "/cable" for ::1 at 2021-05-07 19:19:44 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:19:44 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200501133606)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 17:19:56.328037"], ["updated_at", "2021-05-07 17:19:56.328037"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "ce4229a8d7ea66d7d2fda669c52432d1756618c9"], ["created_at", "2021-05-07 17:19:56.338682"], ["updated_at", "2021-05-07 17:19:56.338682"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200501133606)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 17:19:56.431553"], ["updated_at", "2021-05-07 17:19:56.431553"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 17:19:56.442411"], ["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "ce4229a8d7ea66d7d2fda669c52432d1756618c9"], ["created_at", "2021-05-07 17:19:56.449209"], ["updated_at", "2021-05-07 17:19:56.449209"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/messages" for ::1 at 2021-05-07 19:32:56 +0200
  [1m[35m (4.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"sada"}, "commit"=>"Enviar"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:10:in `generate'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Ancient-Jackhammer-715"], ["LIMIT", 1]]
  â†³ app/models/user.rb:10:in `generate'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["username", "Ancient-Jackhammer-715"], ["created_at", "2021-05-07 17:32:56.583883"], ["updated_at", "2021-05-07 17:32:56.583883"]]
  â†³ app/models/user.rb:10:in `generate'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:10:in `generate'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 242ms (ActiveRecord: 9.1ms | Allocations: 29701)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:32:56 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
Completed 404 Not Found in 9ms (ActiveRecord: 0.3ms | Allocations: 1773)


  
ActiveRecord::RecordNotFound (Couldn't find Room with 'id'=1):
  
app/controllers/rooms_controller.rb:69:in `set_room'
Started GET "/" for ::1 at 2021-05-07 19:33:00 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 9.3ms | Allocations: 1296)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  Rendered rooms/index.html.erb within layouts/application (Duration: 29.5ms | Allocations: 5603)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 47.1ms | ActiveRecord: 0.8ms | Allocations: 9400)


Started GET "/cable" for ::1 at 2021-05-07 19:33:00 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:00 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-07 19:33:06 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room1"}, "commit"=>"AÃ±adir"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room1"], ["created_at", "2021-05-07 17:33:06.419946"], ["updated_at", "2021-05-07 17:33:06.419946"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 17ms (ActiveRecord: 3.0ms | Allocations: 2943)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:33:06 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 447)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  Rendered messages/_form.html.erb (Duration: 9.2ms | Allocations: 685)
  Rendered rooms/index.html.erb within layouts/application (Duration: 51.2ms | Allocations: 7669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 60.3ms | ActiveRecord: 2.6ms | Allocations: 10728)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:06 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 19:33:06 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:06 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 19:33:08 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 442)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  Rendered messages/_form.html.erb (Duration: 0.6ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 3853)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 22.5ms | ActiveRecord: 4.9ms | Allocations: 7014)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:33:12 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hi"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (3.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hi"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:33:12.886164"], ["updated_at", "2021-05-07 17:33:12.886164"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 24ms (ActiveRecord: 5.4ms | Allocations: 7262)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:33:12 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 441)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 1034)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 19.4ms | Allocations: 5132)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.7ms | ActiveRecord: 1.5ms | Allocations: 8271)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:12 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:33:13 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:13 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:33:17 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"How are u"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "How are u"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:33:17.939271"], ["updated_at", "2021-05-07 17:33:17.939271"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 20ms (ActiveRecord: 3.6ms | Allocations: 4457)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:33:17 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.6ms | Allocations: 442)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 715)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 2.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 27.0ms | Allocations: 8161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 34.6ms | ActiveRecord: 1.1ms | Allocations: 11980)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:18 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:33:18 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:18 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:33:23 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"u good bro"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "u good bro"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:33:23.211756"], ["updated_at", "2021-05-07 17:33:23.211756"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 19ms (ActiveRecord: 3.2ms | Allocations: 4446)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:33:23 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 441)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:31:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:48
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.1ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.0ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.6ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 24.9ms | Allocations: 6251)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.4ms | ActiveRecord: 1.5ms | Allocations: 9395)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:23 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:33:23 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:33:23 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable" for ::1 at 2021-05-07 19:39:38 +0200
  [1m[35m (3.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.7) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.7) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2021-05-07 19:39:39 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.7) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.7) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/rooms/1" for ::1 at 2021-05-07 19:39:39 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.7) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.7) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddClearanceToUsers (20210507173731)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "email" varchar[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" varchar(128)[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token" varchar(128)[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_token" varchar(128)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT id FROM users WHERE remember_token IS NULL[0m
  [1m[35m (0.2ms)[0m  [1m[33mUPDATE users SET remember_token = 'c6274d62e115c675159a9abdbb62361615d67dea' WHERE id = '1'[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210507173731"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-07 19:40:11 +0200
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:13
  Rendered rooms/_form.html.erb (Duration: 51.7ms | Allocations: 2833)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:42
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:50:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 316.9ms | Allocations: 41380)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 404ms (Views: 358.3ms | ActiveRecord: 9.3ms | Allocations: 52263)


Started GET "/cable" for ::1 at 2021-05-07 19:40:12 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:40:12 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/sign_in" for ::1 at 2021-05-07 19:40:14 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.8ms | Allocations: 1008)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1469)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.5ms | ActiveRecord: 0.2ms | Allocations: 6552)


Started POST "/session" for ::1 at 2021-05-07 19:40:15 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.9ms | Allocations: 513)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 608)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
Completed 401 Unauthorized in 360ms (Views: 8.8ms | ActiveRecord: 0.7ms | Allocations: 7310)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:40:15 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 19:40:17 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.1ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3551)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
Completed 401 Unauthorized in 426ms (Views: 38.2ms | ActiveRecord: 0.7ms | Allocations: 21574)


Started GET "/sign_up" for ::1 at 2021-05-07 19:40:19 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 10.8ms | Allocations: 502)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 20.2ms | Allocations: 1410)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 40.1ms | ActiveRecord: 0.6ms | Allocations: 6209)


Started GET "/sign_in" for ::1 at 2021-05-07 19:40:20 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.7ms | Allocations: 529)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 624)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 32.3ms | ActiveRecord: 0.4ms | Allocations: 10222)


Started GET "/sign_up" for ::1 at 2021-05-07 19:40:21 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.0ms | Allocations: 299)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 717)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 13.1ms | ActiveRecord: 0.4ms | Allocations: 4702)


Started POST "/users" for ::1 at 2021-05-07 19:40:21 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c7f3f71363b903f361a7b69337b03d8db82c85"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 17:40:22.181014"], ["updated_at", "2021-05-07 17:40:22.181014"], ["email", "oussama.taheri27@gmail.com"], ["encrypted_password", "$2a$12$Lb1V3Yeb/0twVmLeCRTr7OKnk8SholSuu9zrZFvgAL4sQaZ1qZx8u"], ["remember_token", "1d6ea955b60757aa167b0077aa23160bd5ee7193"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 386ms (ActiveRecord: 3.5ms | Allocations: 9226)


Started GET "/" for ::1 at 2021-05-07 19:40:22 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "1d6ea955b60757aa167b0077aa23160bd5ee7193"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:13
  Rendered rooms/_form.html.erb (Duration: 2.2ms | Allocations: 441)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:42
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:50:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 3752)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.5ms | ActiveRecord: 1.2ms | Allocations: 6366)


Started GET "/cable" for ::1 at 2021-05-07 19:40:22 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:40:22 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:40:24 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "1d6ea955b60757aa167b0077aa23160bd5ee7193"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "30b21f83534bc1eae3d6b1fe3caf89f8c79d31e1"], ["updated_at", "2021-05-07 17:40:24.250254"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 20ms (ActiveRecord: 3.0ms | Allocations: 5651)


Started GET "/sign_in" for ::1 at 2021-05-07 19:40:24 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.6ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 3206)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:40:24 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 19:40:25 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 353ms (ActiveRecord: 0.3ms | Allocations: 1531)


Started GET "/" for ::1 at 2021-05-07 19:40:26 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "30b21f83534bc1eae3d6b1fe3caf89f8c79d31e1"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:13
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 435)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:42
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:50:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3733)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.9ms | Allocations: 6350)


Started GET "/cable" for ::1 at 2021-05-07 19:40:26 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:40:26 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 19:42:41 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "30b21f83534bc1eae3d6b1fe3caf89f8c79d31e1"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  Rendered rooms/_form.html.erb (Duration: 4.1ms | Allocations: 728)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 40.1ms | Allocations: 4819)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 60.7ms | ActiveRecord: 1.4ms | Allocations: 8469)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:42:41 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 19:42:41 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:42:41 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:42:42 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "30b21f83534bc1eae3d6b1fe3caf89f8c79d31e1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "e190e6882e9c522853c8be268268e28eb97e7199"], ["updated_at", "2021-05-07 17:42:42.579644"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 17ms (ActiveRecord: 3.6ms | Allocations: 5605)


Started GET "/sign_in" for ::1 at 2021-05-07 19:42:42 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.2ms | Allocations: 804)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1244)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.0ms | Allocations: 4967)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:42:42 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 19:42:43 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 396ms (ActiveRecord: 0.3ms | Allocations: 1826)


Started GET "/" for ::1 at 2021-05-07 19:42:44 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e190e6882e9c522853c8be268268e28eb97e7199"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 439)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 3968)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.5ms | ActiveRecord: 2.7ms | Allocations: 6580)


Started GET "/cable" for ::1 at 2021-05-07 19:42:44 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:42:44 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 19:43:33 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e190e6882e9c522853c8be268268e28eb97e7199"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:13
  Rendered rooms/_form.html.erb (Duration: 3.7ms | Allocations: 728)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:43
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:51:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 4838)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 40.9ms | ActiveRecord: 1.1ms | Allocations: 8491)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:43:33 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 19:43:34 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:43:34 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:43:35 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e190e6882e9c522853c8be268268e28eb97e7199"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["updated_at", "2021-05-07 17:43:35.382476"], ["id", 2]]
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 18ms (ActiveRecord: 4.1ms | Allocations: 5606)


Started GET "/sign_in" for ::1 at 2021-05-07 19:43:35 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.1ms | Allocations: 804)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 1249)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.0ms | Allocations: 4967)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:43:35 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 19:43:36 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 356ms (ActiveRecord: 0.8ms | Allocations: 2137)


Started GET "/" for ::1 at 2021-05-07 19:43:37 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:13
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 439)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:43
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:51:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3744)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 1.0ms | Allocations: 6358)


Started GET "/cable" for ::1 at 2021-05-07 19:43:37 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:43:37 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 19:43:39 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:13
  Rendered rooms/_form.html.erb (Duration: 1.2ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:43
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:51:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:68
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 1039)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 4.0ms | Allocations: 735)
  Rendered rooms/index.html.erb within layouts/application (Duration: 79.0ms | Allocations: 15676)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 105ms (Views: 98.6ms | ActiveRecord: 3.0ms | Allocations: 30402)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:43:43 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"sadas"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "sadas"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:43:43.425072"], ["updated_at", "2021-05-07 17:43:43.425072"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 49ms (ActiveRecord: 5.1ms | Allocations: 4765)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:43:43 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:13
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 437)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:43
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:51:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:68
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 710)
  [1m[36mCACHE User Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 10.4ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 8.7ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 55.1ms | Allocations: 8027)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 62.3ms | ActiveRecord: 3.5ms | Allocations: 11151)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:43:43 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:43:43 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:43:43 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 19:44:49 +0200
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 37.3ms | Allocations: 13533)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 9.6ms | Allocations: 1037)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 710)
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.5ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.5ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 5.0ms | Allocations: 734)
  Rendered rooms/index.html.erb within layouts/application (Duration: 234.4ms | Allocations: 41951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 356ms (Views: 301.1ms | ActiveRecord: 9.1ms | Allocations: 54963)


Started GET "/cable" for ::1 at 2021-05-07 19:44:50 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:44:50 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:44:54 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"adfa"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "adfa"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:44:54.275357"], ["updated_at", "2021-05-07 17:44:54.275357"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 21ms (ActiveRecord: 3.7ms | Allocations: 4922)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:44:54 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 3.5ms | Allocations: 440)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 711)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 34.0ms | Allocations: 8831)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 41.9ms | ActiveRecord: 2.1ms | Allocations: 11961)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:44:54 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:44:54 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:44:54 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:44:58 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"dsavdads"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "dsavdads"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:44:58.146476"], ["updated_at", "2021-05-07 17:44:58.146476"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 19ms (ActiveRecord: 3.1ms | Allocations: 4459)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:44:58 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 3.5ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 711)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 26.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 22.4ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 85.9ms | Allocations: 9617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 94.0ms | ActiveRecord: 2.1ms | Allocations: 12747)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:44:58 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:44:58 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:44:58 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 19:50:29 +0200
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#show as HTML
  Rendering welcome/show.html.erb within layouts/application
  Rendered welcome/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 191)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 32.7ms | ActiveRecord: 0.0ms | Allocations: 4614)


Started GET "/" for ::1 at 2021-05-07 19:50:34 +0200
Processing by WelcomeController#show as HTML
  Rendering welcome/show.html.erb within layouts/application
  Rendered welcome/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 5)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 2616)


Started GET "/" for ::1 at 2021-05-07 19:50:35 +0200
Processing by WelcomeController#show as HTML
  Rendering welcome/show.html.erb within layouts/application
  Rendered welcome/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 5)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 2602)


Started GET "/" for ::1 at 2021-05-07 19:50:44 +0200
  
ArgumentError (Invalid route name, already in use: 'root' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:6:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/" for ::1 at 2021-05-07 19:51:40 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 19.8ms | Allocations: 2824)
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 235.5ms | Allocations: 23070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 279ms (Views: 248.6ms | ActiveRecord: 9.7ms | Allocations: 28384)


Started GET "/cable" for ::1 at 2021-05-07 19:51:40 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:51:40 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:51:42 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "908258eb7361cf5534d9ea10a4b1eee15cfbe776"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "157763a4aca90f2035e364181240aaa4747a916b"], ["updated_at", "2021-05-07 17:51:42.201353"], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 16ms (ActiveRecord: 2.4ms | Allocations: 5863)


Started GET "/sign_in" for ::1 at 2021-05-07 19:51:42 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.6ms | Allocations: 921)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1382)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 29.1ms | ActiveRecord: 0.0ms | Allocations: 5105)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:51:42 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 19:51:43 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 400ms (ActiveRecord: 4.3ms | Allocations: 1743)


Started GET "/" for ::1 at 2021-05-07 19:51:43 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "157763a4aca90f2035e364181240aaa4747a916b"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 439)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3774)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.7ms | Allocations: 6382)


Started GET "/cable" for ::1 at 2021-05-07 19:51:43 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:51:43 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 19:51:45 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "157763a4aca90f2035e364181240aaa4747a916b"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.6ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 1042)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.8ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.1ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.0ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 5.1ms | Allocations: 736)
  Rendered rooms/index.html.erb within layouts/application (Duration: 111.3ms | Allocations: 15936)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 153ms (Views: 118.2ms | ActiveRecord: 4.4ms | Allocations: 19110)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:51:47 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"as"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "as"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 17:51:48.005723"], ["updated_at", "2021-05-07 17:51:48.005723"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 20ms (ActiveRecord: 3.3ms | Allocations: 4813)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:51:48 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "157763a4aca90f2035e364181240aaa4747a916b"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 6.0ms | Allocations: 437)
  [1m[36mRoom Load (3.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 711)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 81.1ms | Allocations: 26611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 88.8ms | ActiveRecord: 4.5ms | Allocations: 31775)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:51:48 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:51:48 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:51:48 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:53:55 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "157763a4aca90f2035e364181240aaa4747a916b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "781a2ff175ceefd6a6b2e545ceeab458ece2b5f0"], ["updated_at", "2021-05-07 17:53:55.254619"], ["id", 2]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 22ms (ActiveRecord: 3.8ms | Allocations: 5607)


Started GET "/sign_in" for ::1 at 2021-05-07 19:53:55 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.2ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.0ms | Allocations: 3218)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:53:55 +0200
RoomChannel stopped streaming from room_channel_1
Started POST "/session" for ::1 at 2021-05-07 19:53:57 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 351ms (ActiveRecord: 0.4ms | Allocations: 1848)


Started GET "/" for ::1 at 2021-05-07 19:53:57 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "781a2ff175ceefd6a6b2e545ceeab458ece2b5f0"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 435)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 6410)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.9ms | ActiveRecord: 1.1ms | Allocations: 9284)


Started GET "/cable" for ::1 at 2021-05-07 19:53:57 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:53:57 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:53:59 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "781a2ff175ceefd6a6b2e545ceeab458ece2b5f0"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "6508706578ea424ad2bdf5da069989663e8484dc"], ["updated_at", "2021-05-07 17:53:59.781855"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 24ms (ActiveRecord: 2.8ms | Allocations: 5618)


Started GET "/sign_in" for ::1 at 2021-05-07 19:53:59 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.3ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 3206)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:53:59 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 19:54:02 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 9.4ms | Allocations: 435)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 2270)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 34.0ms | ActiveRecord: 0.9ms | Allocations: 4875)


Started GET "/cable" for ::1 at 2021-05-07 19:54:02 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:54:02 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 19:54:05 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 2818)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 62.5ms | ActiveRecord: 0.6ms | Allocations: 18885)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:54:05 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 19:54:05 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:54:05 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/sign_in" for ::1 at 2021-05-07 19:54:08 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.5ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 3207)


Started POST "/session" for ::1 at 2021-05-07 19:54:09 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 351ms (ActiveRecord: 0.4ms | Allocations: 1960)


Started GET "/" for ::1 at 2021-05-07 19:54:09 +0200
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "6508706578ea424ad2bdf5da069989663e8484dc"], ["LIMIT", 1]]
  â†³ app/views/rooms/index.html.erb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:10:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 435)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 9508)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 39.5ms | ActiveRecord: 1.1ms | Allocations: 19126)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:54:09 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 19:54:09 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:54:09 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:54:11 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "6508706578ea424ad2bdf5da069989663e8484dc"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "1e3db5b90363b9391b0fbc5f8431e75ec6494445"], ["updated_at", "2021-05-07 17:54:11.749736"], ["id", 2]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 19ms (ActiveRecord: 3.5ms | Allocations: 7239)


Started GET "/sign_in" for ::1 at 2021-05-07 19:54:11 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.1ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 10816)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:54:11 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 19:55:03 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 527)


Started GET "/sign_in" for ::1 at 2021-05-07 19:55:03 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.9ms | Allocations: 530)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 624)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.0ms | Allocations: 3417)


Started GET "/" for ::1 at 2021-05-07 19:55:06 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 428)


Started GET "/sign_in" for ::1 at 2021-05-07 19:55:06 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.4ms | Allocations: 517)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 611)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 3218)


Started POST "/session" for ::1 at 2021-05-07 19:55:09 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 380ms (ActiveRecord: 2.7ms | Allocations: 8166)


Started GET "/" for ::1 at 2021-05-07 19:55:09 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "1e3db5b90363b9391b0fbc5f8431e75ec6494445"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 493)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 29.6ms | Allocations: 9073)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 37.4ms | ActiveRecord: 3.2ms | Allocations: 14762)


Started GET "/cable" for ::1 at 2021-05-07 19:55:09 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:09 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:55:14 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "1e3db5b90363b9391b0fbc5f8431e75ec6494445"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "769df7c248d329e951a3bb15bf09b381f826af31"], ["updated_at", "2021-05-07 17:55:14.170064"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 18ms (ActiveRecord: 2.5ms | Allocations: 5615)


Started GET "/sign_in" for ::1 at 2021-05-07 19:55:14 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.8ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms | Allocations: 3211)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:14 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 19:55:15 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 352ms (ActiveRecord: 0.3ms | Allocations: 1630)


Started GET "/" for ::1 at 2021-05-07 19:55:15 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "769df7c248d329e951a3bb15bf09b381f826af31"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 435)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 2960)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 19.4ms | ActiveRecord: 0.9ms | Allocations: 6901)


Started GET "/cable" for ::1 at 2021-05-07 19:55:15 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:15 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:55:17 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "769df7c248d329e951a3bb15bf09b381f826af31"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["updated_at", "2021-05-07 17:55:17.495948"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 22ms (ActiveRecord: 3.2ms | Allocations: 5610)


Started GET "/sign_in" for ::1 at 2021-05-07 19:55:17 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.5ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 3210)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:17 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 19:55:18 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 348ms (ActiveRecord: 0.3ms | Allocations: 1605)


Started GET "/" for ::1 at 2021-05-07 19:55:18 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 435)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2960)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.5ms | ActiveRecord: 1.0ms | Allocations: 6911)


Started GET "/cable" for ::1 at 2021-05-07 19:55:19 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:19 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 19:55:20 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 5194)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 37.6ms | ActiveRecord: 1.2ms | Allocations: 20916)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:20 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 19:55:21 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:21 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 19:55:24 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms | Allocations: 2867)


Started GET "/sign_in" for ::1 at 2021-05-07 19:55:24 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.4ms | Allocations: 527)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 621)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms | Allocations: 3179)


Started GET "/" for ::1 at 2021-05-07 19:55:49 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 396)


Started GET "/sign_in" for ::1 at 2021-05-07 19:55:49 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.8ms | Allocations: 519)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 613)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 47.0ms | ActiveRecord: 0.0ms | Allocations: 4655)


Started POST "/session" for ::1 at 2021-05-07 19:55:53 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 343ms (ActiveRecord: 0.2ms | Allocations: 1841)


Started GET "/" for ::1 at 2021-05-07 19:55:54 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:12:in `generate'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Effective-Jackhammer-555"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12:in `generate'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:12:in `generate'
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 437)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 46.3ms | Allocations: 12475)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 53.2ms | ActiveRecord: 1.6ms | Allocations: 16935)


Started GET "/cable" for ::1 at 2021-05-07 19:55:54 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:55:54 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 19:57:12 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11:in `current_user'
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 431)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 883)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 16.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 2.1ms | Allocations: 363)
  Rendered rooms/index.html.erb within layouts/application (Duration: 78.0ms | Allocations: 14393)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 91.9ms | ActiveRecord: 4.1ms | Allocations: 18875)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 19:58:54 +0200
Started GET "/cable" for ::1 at 2021-05-07 19:58:57 +0200
Started GET "/cable" for ::1 at 2021-05-07 19:59:07 +0200
Started GET "/cable" for ::1 at 2021-05-07 19:59:18 +0200
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:18 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:18 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:18 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Rendering rooms/index.html.erb within layouts/application
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:19 +0200
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:19 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
WebSocket error occurred: Broken pipe
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
  Rendered rooms/_form.html.erb (Duration: 183.5ms | Allocations: 20164)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 258.8ms | Allocations: 31351)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 515ms (Views: 319.9ms | ActiveRecord: 7.2ms | Allocations: 52036)


Started GET "/cable" for ::1 at 2021-05-07 19:59:19 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:19 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 19:59:22 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.3ms | Allocations: 435)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.7ms | Allocations: 1112)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 709)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 3.6ms | Allocations: 734)
  Rendered rooms/index.html.erb within layouts/application (Duration: 61.7ms | Allocations: 15077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 67.3ms | ActiveRecord: 3.0ms | Allocations: 19581)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:59:24 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"asa"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "asa"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 17:59:24.482834"], ["updated_at", "2021-05-07 17:59:24.482834"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (3.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 23ms (ActiveRecord: 6.0ms | Allocations: 5737)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:59:24 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 437)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 766)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 2.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 43.2ms | Allocations: 9947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 50.6ms | ActiveRecord: 2.2ms | Allocations: 14412)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:24 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:59:24 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:24 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 19:59:31 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"hellouda"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "hellouda"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 17:59:31.381334"], ["updated_at", "2021-05-07 17:59:31.381334"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (5.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 35ms (ActiveRecord: 8.1ms | Allocations: 5232)


Started GET "/rooms/1" for ::1 at 2021-05-07 19:59:31 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 787)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 60.4ms | Allocations: 10859)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 71.4ms | ActiveRecord: 2.7ms | Allocations: 15355)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:31 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 19:59:31 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:31 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 19:59:39 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 2406)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 40.5ms | ActiveRecord: 1.6ms | Allocations: 6314)


Started GET "/cable" for ::1 at 2021-05-07 19:59:39 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:39 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 19:59:41 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "f85bddaf3780e16d2a09a98a42132410f137df15"], ["updated_at", "2021-05-07 17:59:41.597218"], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 16ms (ActiveRecord: 2.3ms | Allocations: 5698)


Started GET "/sign_in" for ::1 at 2021-05-07 19:59:41 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.1ms | Allocations: 921)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1381)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.0ms | Allocations: 5059)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 19:59:41 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/sign_up" for ::1 at 2021-05-07 19:59:43 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.2ms | Allocations: 502)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 1411)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.0ms | Allocations: 4848)


Started POST "/users" for ::1 at 2021-05-07 19:59:48 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.ta7@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.ta7@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.2ms | Allocations: 299)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 723)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 368ms (Views: 11.2ms | ActiveRecord: 1.0ms | Allocations: 10024)


Started POST "/users" for ::1 at 2021-05-07 19:59:52 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.ta7@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.ta7@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.0ms | Allocations: 299)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 716)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 377ms (Views: 11.6ms | ActiveRecord: 0.9ms | Allocations: 9761)


Started POST "/users" for ::1 at 2021-05-07 20:00:04 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 0.9ms | Allocations: 299)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1443)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 399ms (Views: 35.5ms | ActiveRecord: 0.9ms | Allocations: 30831)


Started GET "/" for ::1 at 2021-05-07 20:00:08 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 407)


Started GET "/sign_in" for ::1 at 2021-05-07 20:00:08 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.3ms | Allocations: 528)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 622)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.0ms | Allocations: 3189)


Started POST "/session" for ::1 at 2021-05-07 20:00:15 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.7ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1152)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 389ms (Views: 35.1ms | ActiveRecord: 0.4ms | Allocations: 24652)


Started GET "/sign_up" for ::1 at 2021-05-07 20:00:21 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.1ms | Allocations: 301)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 718)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 3336)


Started POST "/users" for ::1 at 2021-05-07 20:00:24 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.2ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 719)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 397ms (Views: 11.5ms | ActiveRecord: 0.9ms | Allocations: 10112)


Started POST "/users" for ::1 at 2021-05-07 20:00:26 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.1ms | Allocations: 303)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 718)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 14.5ms | ActiveRecord: 1.3ms | Allocations: 10373)


Started POST "/users" for ::1 at 2021-05-07 20:00:27 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.0ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 719)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 372ms (Views: 12.0ms | ActiveRecord: 0.8ms | Allocations: 10054)


Started GET "/sign_in" for ::1 at 2021-05-07 20:00:29 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.5ms | Allocations: 519)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 613)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms | Allocations: 3164)


Started POST "/session" for ::1 at 2021-05-07 20:00:30 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 396ms (ActiveRecord: 0.5ms | Allocations: 1547)


Started GET "/" for ::1 at 2021-05-07 20:00:31 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f85bddaf3780e16d2a09a98a42132410f137df15"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 441)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2425)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.6ms | ActiveRecord: 0.8ms | Allocations: 6330)


Started GET "/cable" for ::1 at 2021-05-07 20:00:31 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:00:31 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:00:33 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f85bddaf3780e16d2a09a98a42132410f137df15"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.9ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 765)
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.4ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 50.6ms | Allocations: 10738)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 57.2ms | ActiveRecord: 2.2ms | Allocations: 15160)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:00:34 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"as"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f85bddaf3780e16d2a09a98a42132410f137df15"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "as"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:00:34.714657"], ["updated_at", "2021-05-07 18:00:34.714657"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 28ms (ActiveRecord: 3.2ms | Allocations: 5216)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:00:34 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f85bddaf3780e16d2a09a98a42132410f137df15"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 2.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 44.0ms | Allocations: 11539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 50.5ms | ActiveRecord: 2.1ms | Allocations: 15959)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:00:34 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:00:34 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:00:34 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:00:37 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f85bddaf3780e16d2a09a98a42132410f137df15"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "7c63684db8da89997e5921c658a222ef4f1d8b5e"], ["updated_at", "2021-05-07 18:00:37.162403"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 18ms (ActiveRecord: 3.1ms | Allocations: 5566)


Started GET "/sign_in" for ::1 at 2021-05-07 20:00:37 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.2ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms | Allocations: 3165)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:00:37 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/sign_up" for ::1 at 2021-05-07 20:00:38 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.8ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 719)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 3334)


Started POST "/users" for ::1 at 2021-05-07 20:00:43 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.2ms | Allocations: 299)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 944)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 383ms (Views: 18.4ms | ActiveRecord: 0.9ms | Allocations: 18556)


Started GET "/sign_in" for ::1 at 2021-05-07 20:00:45 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.4ms | Allocations: 519)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 613)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 3161)


Started POST "/session" for ::1 at 2021-05-07 20:00:50 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.4ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.6ms | Allocations: 609)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 505ms (Views: 31.2ms | ActiveRecord: 0.9ms | Allocations: 12104)


Started POST "/session" for ::1 at 2021-05-07 20:00:53 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.1ms | Allocations: 513)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 607)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 500ms (Views: 34.8ms | ActiveRecord: 0.3ms | Allocations: 4456)


Started POST "/session" for ::1 at 2021-05-07 20:00:57 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.3ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 609)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 356ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4456)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:01:02 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 625)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 3955)


Started POST "/passwords" for ::1 at 2021-05-07 20:01:04 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "38b2f412f434a4e2c28f017e96a2e9a9349bd070"], ["updated_at", "2021-05-07 18:01:04.332116"], ["id", 2]]
  [1m[35m (3.6ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 6.7ms | Allocations: 1872)
ClearanceMailer#change_password: processed outbound mail in 15.0ms
Completed 500 Internal Server Error in 255ms (ActiveRecord: 5.6ms | Allocations: 28708)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2021-05-07 20:02:50 +0200
Started GET "/cable" for ::1 at 2021-05-07 20:02:50 +0200
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:02:51 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:02:51 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 20:02:51 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 24ms (ActiveRecord: 0.0ms | Allocations: 2109)


Started GET "/sign_in" for ::1 at 2021-05-07 20:02:51 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 11.9ms | Allocations: 1340)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 18.4ms | Allocations: 1923)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 56.5ms | ActiveRecord: 0.0ms | Allocations: 6731)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:02:54 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 34.1ms | ActiveRecord: 0.0ms | Allocations: 3972)


Started POST "/passwords" for ::1 at 2021-05-07 20:02:55 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "05c54803a11175115744aba25218476e34237a5d"], ["updated_at", "2021-05-07 18:02:55.792353"], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 18.4ms | Allocations: 1747)
ClearanceMailer#change_password: processed outbound mail in 35.9ms
Completed 500 Internal Server Error in 144ms (ActiveRecord: 5.5ms | Allocations: 27912)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2021-05-07 20:03:33 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 402)


Started GET "/sign_in" for ::1 at 2021-05-07 20:03:33 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.6ms | Allocations: 530)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.3ms | ActiveRecord: 0.0ms | Allocations: 3200)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:03:34 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 369)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms | Allocations: 2936)


Started POST "/passwords" for ::1 at 2021-05-07 20:03:36 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "34ab2e1173ac8cebcf5df71bec044fcb46df9f8d"], ["updated_at", "2021-05-07 18:03:36.037353"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 1.8ms | Allocations: 1034)
ClearanceMailer#change_password: processed outbound mail in 6.4ms
Completed 500 Internal Server Error in 27ms (ActiveRecord: 3.5ms | Allocations: 7768)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2021-05-07 20:03:59 +0200
Started GET "/cable" for ::1 at 2021-05-07 20:03:59 +0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:03:59 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:03:59 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 20:04:07 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 26ms (ActiveRecord: 0.0ms | Allocations: 2131)


Started GET "/sign_in" for ::1 at 2021-05-07 20:04:07 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 8.4ms | Allocations: 1340)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 12.5ms | Allocations: 1923)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 38.6ms | ActiveRecord: 0.0ms | Allocations: 6729)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:04:09 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.0ms | Allocations: 3972)


Started POST "/passwords" for ::1 at 2021-05-07 20:04:10 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "5ef82b3a46baf3271976305621c57d1d8d072f75"], ["updated_at", "2021-05-07 18:04:11.009975"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 6.6ms | Allocations: 1747)
ClearanceMailer#change_password: processed outbound mail in 13.8ms
Completed 500 Internal Server Error in 161ms (ActiveRecord: 5.6ms | Allocations: 27891)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2021-05-07 20:05:14 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 406)


Started GET "/sign_in" for ::1 at 2021-05-07 20:05:14 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.5ms | Allocations: 530)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 3198)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:05:16 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 369)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 2940)


Started POST "/passwords" for ::1 at 2021-05-07 20:05:17 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "e75797c341b567e91dba3682ac405045930a38bc"], ["updated_at", "2021-05-07 18:05:17.817304"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 1.6ms | Allocations: 1034)
ClearanceMailer#change_password: processed outbound mail in 5.1ms
Completed 500 Internal Server Error in 34ms (ActiveRecord: 3.5ms | Allocations: 7772)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/passwords/new" for ::1 at 2021-05-07 20:10:44 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 363)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 2932)


Started POST "/passwords" for ::1 at 2021-05-07 20:10:46 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "ed0d6a52d137027b5167289b71a5f8d5c4929faf"], ["updated_at", "2021-05-07 18:10:46.509481"], ["id", 2]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 1.4ms | Allocations: 1033)
ClearanceMailer#change_password: processed outbound mail in 3.5ms
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.3ms | Allocations: 7674)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2021-05-07 20:11:13 +0200
Started GET "/cable" for ::1 at 2021-05-07 20:11:13 +0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:11:13 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:11:13 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 20:11:13 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 26ms (ActiveRecord: 0.0ms | Allocations: 2162)


Started GET "/sign_in" for ::1 at 2021-05-07 20:11:13 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 11.5ms | Allocations: 1406)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 16.3ms | Allocations: 1989)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 51.7ms | ActiveRecord: 0.0ms | Allocations: 6794)


Started POST "/session" for ::1 at 2021-05-07 20:11:19 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 403ms (ActiveRecord: 2.5ms | Allocations: 9324)


Started GET "/" for ::1 at 2021-05-07 20:11:20 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7c63684db8da89997e5921c658a222ef4f1d8b5e"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.8ms | Allocations: 860)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 62.0ms | Allocations: 12019)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 71.8ms | ActiveRecord: 4.3ms | Allocations: 18127)


Started GET "/cable" for ::1 at 2021-05-07 20:11:20 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:11:20 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:11:21 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7c63684db8da89997e5921c658a222ef4f1d8b5e"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "0daec2f1b484d8722c8fa62e6c691eaa9837a859"], ["updated_at", "2021-05-07 18:11:21.225359"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 20ms (ActiveRecord: 2.9ms | Allocations: 5737)


Started GET "/sign_in" for ::1 at 2021-05-07 20:11:21 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.6ms | Allocations: 598)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 693)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.0ms | Allocations: 3242)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:11:21 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/passwords/new" for ::1 at 2021-05-07 20:11:22 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 642)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.0ms | Allocations: 3963)


Started POST "/passwords" for ::1 at 2021-05-07 20:11:24 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "d5c812a05f91a3e204a4b3c0a1b42bccf5f9373c"], ["updated_at", "2021-05-07 18:11:24.071786"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 3.9ms | Allocations: 563)
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb (Duration: 2.9ms | Allocations: 255)
ClearanceMailer#change_password: processed outbound mail in 27.6ms
Delivered mail 609582cc2c88c_6cdf3ffadd1e854433333@MacBook-Air-de-Oussama-6.local.mail (691.2ms)
Date: Fri, 07 May 2021 20:11:24 +0200
From: reply@example.com
To: oussama.taheri27@gmail.com
Message-ID: <609582cc2c88c_6cdf3ffadd1e854433333@MacBook-Air-de-Oussama-6.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_609582cc29b05_6cdf3ffadd1e85443322b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_609582cc29b05_6cdf3ffadd1e85443322b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://domain.com/users/2/password/edit?token=d5c812a05f91a3e204a4b3c0a1b42bccf5f9373c

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_609582cc29b05_6cdf3ffadd1e85443322b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://domain.com/users/2/password/edit?token=d5c812a05f91a3e204a4b3c0a1b42bccf5f9373c">Change my password</a>
</p>

<p>If you didn&#39;t request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_609582cc29b05_6cdf3ffadd1e85443322b--

  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application (Duration: 0.8ms | Allocations: 136)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 812ms (Views: 10.6ms | ActiveRecord: 3.3ms | Allocations: 57108)


Started GET "/" for ::1 at 2021-05-07 20:12:12 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 399)


Started GET "/sign_in" for ::1 at 2021-05-07 20:12:12 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.0ms | Allocations: 594)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 689)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.0ms | Allocations: 3265)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:12:13 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 388)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 2953)


Started POST "/passwords" for ::1 at 2021-05-07 20:12:17 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "60db8a1840f1ba9781f15867582747ee491c6731"], ["updated_at", "2021-05-07 18:12:17.940784"], ["id", 2]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 0.7ms | Allocations: 167)
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb (Duration: 0.5ms | Allocations: 120)
ClearanceMailer#change_password: processed outbound mail in 7.8ms
Delivered mail 60958301ebffc_6cdf3ffadd1e88b4335d@MacBook-Air-de-Oussama-6.local.mail (697.0ms)
Date: Fri, 07 May 2021 20:12:17 +0200
From: reply@example.com
To: oussama.taheri27@gmail.com
Message-ID: <60958301ebffc_6cdf3ffadd1e88b4335d@MacBook-Air-de-Oussama-6.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_60958301ea7dc_6cdf3ffadd1e88b4334eb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_60958301ea7dc_6cdf3ffadd1e88b4334eb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://domain.com/users/2/password/edit?token=60db8a1840f1ba9781f15867582747ee491c6731

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_60958301ea7dc_6cdf3ffadd1e88b4334eb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://domain.com/users/2/password/edit?token=60db8a1840f1ba9781f15867582747ee491c6731">Change my password</a>
</p>

<p>If you didn&#39;t request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_60958301ea7dc_6cdf3ffadd1e88b4334eb--

  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application (Duration: 0.2ms | Allocations: 30)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 733ms (Views: 7.6ms | ActiveRecord: 4.3ms | Allocations: 42274)


Started GET "/" for ::1 at 2021-05-07 20:12:48 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/sign_in" for ::1 at 2021-05-07 20:12:48 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.1ms | Allocations: 585)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 679)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.4ms | ActiveRecord: 0.0ms | Allocations: 3242)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:13:02 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 385)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 2944)


Started POST "/passwords" for ::1 at 2021-05-07 20:13:05 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "8336912c2711f9962b2a1ffabef485b0f45dc47b"], ["updated_at", "2021-05-07 18:13:05.335203"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 0.8ms | Allocations: 159)
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb (Duration: 0.7ms | Allocations: 120)
ClearanceMailer#change_password: processed outbound mail in 13.4ms
Delivered mail 6095833158d8c_6cdf3ffadd1e879c337df@MacBook-Air-de-Oussama-6.local.mail (479.5ms)
Date: Fri, 07 May 2021 20:13:05 +0200
From: reply@example.com
To: oussama.taheri27@gmail.com
Message-ID: <6095833158d8c_6cdf3ffadd1e879c337df@MacBook-Air-de-Oussama-6.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_60958331578da_6cdf3ffadd1e879c336e0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_60958331578da_6cdf3ffadd1e879c336e0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://domain.com/users/2/password/edit?token=8336912c2711f9962b2a1ffabef485b0f45dc47b

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_60958331578da_6cdf3ffadd1e879c336e0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://domain.com/users/2/password/edit?token=8336912c2711f9962b2a1ffabef485b0f45dc47b">Change my password</a>
</p>

<p>If you didn&#39;t request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_60958331578da_6cdf3ffadd1e879c336e0--

  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application (Duration: 0.2ms | Allocations: 30)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 521ms (Views: 7.5ms | ActiveRecord: 3.5ms | Allocations: 42280)


Started GET "/" for ::1 at 2021-05-07 20:13:24 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 421)


Started GET "/sign_in" for ::1 at 2021-05-07 20:13:24 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.8ms | Allocations: 585)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 679)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 3240)


Started POST "/session" for ::1 at 2021-05-07 20:14:08 +0200
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 420ms (ActiveRecord: 2.2ms | Allocations: 8141)


Started GET "/" for ::1 at 2021-05-07 20:14:09 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0daec2f1b484d8722c8fa62e6c691eaa9837a859"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.7ms | Allocations: 493)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 36.0ms | Allocations: 10353)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 60.0ms | ActiveRecord: 2.3ms | Allocations: 21167)


Started GET "/cable" for ::1 at 2021-05-07 20:14:09 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:09 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:14:11 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0daec2f1b484d8722c8fa62e6c691eaa9837a859"], ["LIMIT", 1]]
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 1117)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 709)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 3.4ms | Allocations: 734)
  Rendered rooms/index.html.erb within layouts/application (Duration: 73.3ms | Allocations: 17584)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 78.5ms | ActiveRecord: 4.3ms | Allocations: 22024)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:14:14 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"sadsa"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0daec2f1b484d8722c8fa62e6c691eaa9837a859"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "sadsa"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:14:14.338124"], ["updated_at", "2021-05-07 18:14:14.338124"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 25ms (ActiveRecord: 3.1ms | Allocations: 7077)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:14:14 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0daec2f1b484d8722c8fa62e6c691eaa9837a859"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 437)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.4ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 83.8ms | Allocations: 12549)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 91.3ms | ActiveRecord: 1.9ms | Allocations: 16967)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:14 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:14:14 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:14 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:14:15 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:15 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:14:15 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:15 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:14:54 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0daec2f1b484d8722c8fa62e6c691eaa9837a859"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.8ms | Allocations: 729)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 910)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 1061)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 1192)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 1179)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 1383)
  Rendered messages/_form.html.erb (Duration: 5.5ms | Allocations: 607)
  Rendered rooms/index.html.erb within layouts/application (Duration: 67.4ms | Allocations: 16763)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 116ms (Views: 97.0ms | ActiveRecord: 4.6ms | Allocations: 28438)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:54 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:14:54 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:54 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:14:56 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0daec2f1b484d8722c8fa62e6c691eaa9837a859"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["updated_at", "2021-05-07 18:14:56.750523"], ["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 21ms (ActiveRecord: 3.3ms | Allocations: 5607)


Started GET "/sign_in" for ::1 at 2021-05-07 20:14:56 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.9ms | Allocations: 871)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1316)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 24.1ms | ActiveRecord: 0.0ms | Allocations: 4991)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:56 +0200
RoomChannel stopped streaming from room_channel_1
Started POST "/session" for ::1 at 2021-05-07 20:14:58 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 356ms (ActiveRecord: 0.4ms | Allocations: 1913)


Started GET "/" for ::1 at 2021-05-07 20:14:58 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 440)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 2506)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 47.9ms | ActiveRecord: 0.9ms | Allocations: 6416)


Started GET "/cable" for ::1 at 2021-05-07 20:14:59 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:14:59 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:15:01 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 56.7ms | Allocations: 12399)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 63.5ms | ActiveRecord: 4.6ms | Allocations: 16832)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel stopped streaming from room_channel_
Started POST "/messages" for ::1 at 2021-05-07 20:15:04 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"dada"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "dada"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:15:04.363376"], ["updated_at", "2021-05-07 18:15:04.363376"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 24ms (ActiveRecord: 3.2ms | Allocations: 5219)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:15:04 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 9.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 8.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 6.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 132.3ms | Allocations: 13567)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 158ms (Views: 140.5ms | ActiveRecord: 2.5ms | Allocations: 17985)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:15:04 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:15:04 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:15:04 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:15:18 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.3ms | Allocations: 729)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.4ms | Allocations: 910)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 5.9ms | Allocations: 607)
  Rendered rooms/index.html.erb within layouts/application (Duration: 66.0ms | Allocations: 15011)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 83.3ms | ActiveRecord: 2.3ms | Allocations: 20468)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:15:18 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:15:18 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:15:18 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:15:46 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.9ms | Allocations: 729)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 910)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 2.9ms | Allocations: 607)
  Rendered rooms/index.html.erb within layouts/application (Duration: 63.8ms | Allocations: 15008)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 106ms (Views: 95.1ms | ActiveRecord: 2.3ms | Allocations: 30525)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:15:46 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:15:46 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:15:46 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:15:53 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/index.html.erb within layouts/application (Duration: 45.9ms | Allocations: 5641)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 0.9ms | Allocations: 8788)


  
ActionView::Template::Error (undefined method `user_name' for #<User:0x00007ff5b9610380>
Did you mean?  username
               username=
               username?):
    16:         <div class="card-body">
    17:           <% if signed_in? %>
    18:           <small>En lÃ­nea como: </small><br>
    19:           <b><%= current_user.user_name %><br></b>
    20:           <%= button_to 'Sign out', sign_out_path, method: :delete %>
    21:         <% else %>
    22:           <%= link_to 'Sign in', sign_in_path %>
  
app/views/rooms/index.html.erb:19
app/controllers/rooms_controller.rb:14:in `show'
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:15:54 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:16:03 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.0ms | Allocations: 747)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 910)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 2.1ms | Allocations: 607)
  Rendered rooms/index.html.erb within layouts/application (Duration: 64.9ms | Allocations: 15042)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 82.0ms | ActiveRecord: 2.5ms | Allocations: 20555)


Started GET "/cable" for ::1 at 2021-05-07 20:16:03 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:16:03 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 20:19:10 +0200
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 64.6ms | Allocations: 11887)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 125.5ms | Allocations: 26718)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 236ms (Views: 154.4ms | ActiveRecord: 5.1ms | Allocations: 44013)


Started GET "/cable" for ::1 at 2021-05-07 20:19:10 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:19:11 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:19:12 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a723864a64f8994ebb4a749f2a5ae39f6dea0ea3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "35201fa81691c4aabfc02b49ea299aae566f2bb9"], ["updated_at", "2021-05-07 18:19:13.014017"], ["id", 2]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 23ms (ActiveRecord: 3.8ms | Allocations: 5854)


Started GET "/sign_in" for ::1 at 2021-05-07 20:19:13 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.5ms | Allocations: 987)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1448)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.0ms | Allocations: 5135)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:19:13 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:19:13 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:19:13 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:19:13 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:19:13 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/passwords/new" for ::1 at 2021-05-07 20:19:14 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 642)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 3972)


Started POST "/passwords" for ::1 at 2021-05-07 20:19:16 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "3784ada5a0ca5a5ca6dee014645268eb1ba4082c"], ["updated_at", "2021-05-07 18:19:16.574208"], ["id", 2]]
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 3.6ms | Allocations: 817)
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb (Duration: 1.3ms | Allocations: 255)
ClearanceMailer#change_password: processed outbound mail in 23.3ms
Delivered mail 609584a4a63b6_6f193ff7e6d66f6423616@MacBook-Air-de-Oussama-6.local.mail (451.6ms)
Date: Fri, 07 May 2021 20:19:16 +0200
From: oussama.taheri27@gmail.com
To: oussama.taheri27@gmail.com
Message-ID: <609584a4a63b6_6f193ff7e6d66f6423616@MacBook-Air-de-Oussama-6.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_609584a4a45cc_6f193ff7e6d66f642359c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_609584a4a45cc_6f193ff7e6d66f642359c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://domain.com/users/2/password/edit?token=3784ada5a0ca5a5ca6dee014645268eb1ba4082c

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_609584a4a45cc_6f193ff7e6d66f642359c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://domain.com/users/2/password/edit?token=3784ada5a0ca5a5ca6dee014645268eb1ba4082c">Change my password</a>
</p>

<p>If you didn&#39;t request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_609584a4a45cc_6f193ff7e6d66f642359c--

  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application (Duration: 1.2ms | Allocations: 141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 575ms (Views: 11.9ms | ActiveRecord: 4.6ms | Allocations: 56753)


Started GET "/passwords" for ::1 at 2021-05-07 20:21:48 +0200
  
ActionController::RoutingError (No route matches [GET] "/passwords"):
  
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2021-05-07 20:21:52 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 433)


Started GET "/sign_in" for ::1 at 2021-05-07 20:21:52 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 14.0ms | Allocations: 868)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 18.8ms | Allocations: 1320)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 62.6ms | ActiveRecord: 0.0ms | Allocations: 5405)


Started POST "/session" for ::1 at 2021-05-07 20:21:54 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 381ms (ActiveRecord: 0.3ms | Allocations: 1577)


Started GET "/" for ::1 at 2021-05-07 20:21:54 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "35201fa81691c4aabfc02b49ea299aae566f2bb9"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 742)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 3614)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 26.1ms | ActiveRecord: 1.0ms | Allocations: 8233)


Started GET "/cable" for ::1 at 2021-05-07 20:21:55 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:21:55 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:21:57 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "35201fa81691c4aabfc02b49ea299aae566f2bb9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["updated_at", "2021-05-07 18:21:57.423715"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 18ms (ActiveRecord: 3.3ms | Allocations: 5601)


Started GET "/sign_in" for ::1 at 2021-05-07 20:21:57 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.4ms | Allocations: 598)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 692)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.0ms | Allocations: 3242)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:21:57 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 20:21:59 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 369ms (ActiveRecord: 0.5ms | Allocations: 2024)


Started GET "/" for ::1 at 2021-05-07 20:21:59 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.5ms | Allocations: 436)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 2511)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 24.1ms | ActiveRecord: 1.3ms | Allocations: 6417)


Started GET "/cable" for ::1 at 2021-05-07 20:21:59 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:21:59 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:22:01 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.2ms | Allocations: 432)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.0ms | Allocations: 1115)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.1ms | Allocations: 4235)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.5ms | Allocations: 2484)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.8ms | Allocations: 1911)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 1469)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 1445)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.4ms | Allocations: 2291)
  Rendered messages/_form.html.erb (Duration: 3.6ms | Allocations: 736)
  Rendered rooms/index.html.erb within layouts/application (Duration: 106.6ms | Allocations: 33232)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 136ms (Views: 120.1ms | ActiveRecord: 3.7ms | Allocations: 38040)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel stopped streaming from room_channel_
Started POST "/messages" for ::1 at 2021-05-07 20:22:03 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:22:03.388449"], ["updated_at", "2021-05-07 18:22:03.388449"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 22ms (ActiveRecord: 3.3ms | Allocations: 5576)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:22:03 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 437)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 764)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 707)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 705)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 705)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.5ms | Allocations: 705)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 705)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 705)
  Rendered messages/_form.html.erb (Duration: 2.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 64.2ms | Allocations: 13992)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 68.9ms | ActiveRecord: 2.7ms | Allocations: 18408)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:03 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:22:03 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:03 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:22:12 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"asd"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "asd"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:22:12.187808"], ["updated_at", "2021-05-07 18:22:12.187808"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 20ms (ActiveRecord: 3.3ms | Allocations: 5205)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:22:12 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 729)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.0ms | Allocations: 910)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 766)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 2.1ms | Allocations: 607)
  Rendered rooms/index.html.erb within layouts/application (Duration: 78.9ms | Allocations: 16617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 94.4ms | ActiveRecord: 2.2ms | Allocations: 22077)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:12 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:22:12 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:12 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:22:31 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.8ms | Allocations: 729)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.6ms | Allocations: 911)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.2ms | Allocations: 768)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.8ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 3.2ms | Allocations: 607)
  Rendered rooms/index.html.erb within layouts/application (Duration: 84.2ms | Allocations: 16632)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 102.4ms | ActiveRecord: 2.4ms | Allocations: 22087)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:31 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:22:31 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:31 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:22:39 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.4ms | Allocations: 729)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.4ms | Allocations: 908)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 706)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 706)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 769)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 3.0ms | Allocations: 607)
  Rendered rooms/index.html.erb within layouts/application (Duration: 72.4ms | Allocations: 16618)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 82.5ms | ActiveRecord: 3.3ms | Allocations: 22070)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:39 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:22:40 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:40 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 20:22:51 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 7.2ms | Allocations: 436)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 33.8ms | Allocations: 2544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 80.3ms | ActiveRecord: 1.0ms | Allocations: 6451)


Started GET "/cable" for ::1 at 2021-05-07 20:22:52 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:52 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:22:53 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "62a74ba0d7e5d844906852e00e2f3a96c544566f"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["updated_at", "2021-05-07 18:22:53.457412"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 18ms (ActiveRecord: 2.8ms | Allocations: 5589)


Started GET "/sign_in" for ::1 at 2021-05-07 20:22:53 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.6ms | Allocations: 870)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 4994)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:22:53 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/sign_up" for ::1 at 2021-05-07 20:22:56 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 3.5ms | Allocations: 501)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 1449)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.0ms | Allocations: 4840)


Started POST "/users" for ::1 at 2021-05-07 20:23:00 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 18:23:00.712472"], ["updated_at", "2021-05-07 18:23:00.712472"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$3Df2dBot4okNFSoAOknZDOn4oPkuhPduCYgPHbr275/W9v5VVqJY6"], ["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 395ms (ActiveRecord: 2.9ms | Allocations: 6172)


Started GET "/" for ::1 at 2021-05-07 20:23:00 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 441)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2550)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 18.4ms | ActiveRecord: 0.8ms | Allocations: 6454)


Started GET "/cable" for ::1 at 2021-05-07 20:23:00 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:00 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:02 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.0ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 763)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 706)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 706)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 59.0ms | Allocations: 14796)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 65.9ms | ActiveRecord: 2.4ms | Allocations: 19213)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:23:06 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"guasa guasa"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "guasa guasa"], ["user_id", 3], ["room_id", 1], ["created_at", "2021-05-07 18:23:06.088129"], ["updated_at", "2021-05-07 18:23:06.088129"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 26ms (ActiveRecord: 5.1ms | Allocations: 5214)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:06 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 432)
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 1112)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 706)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 2.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 89.3ms | Allocations: 16005)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 94.1ms | ActiveRecord: 7.0ms | Allocations: 20424)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:06 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:23:06 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:06 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:17 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 706)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 707)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 706)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 10.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 87.0ms | Allocations: 15657)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 98.1ms | ActiveRecord: 3.5ms | Allocations: 20087)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:22 +0200
Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:25 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.4ms | Allocations: 3829)


Started GET "/sign_in" for ::1 at 2021-05-07 20:23:25 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "70155925b1fd274b1fc4891d12197469dc8cdc58"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.1ms | Allocations: 598)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 692)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 0.2ms | Allocations: 4649)


Started POST "/session" for ::1 at 2021-05-07 20:23:26 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 631ms (ActiveRecord: 0.5ms | Allocations: 4151)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:27 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.2ms | Allocations: 436)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 706)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 706)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 769)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 712)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 710)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 1.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 97.4ms | Allocations: 15678)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 111ms (Views: 103.4ms | ActiveRecord: 3.1ms | Allocations: 20153)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:27 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:23:28 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:28 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:28 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.8ms | Allocations: 432)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 706)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 8.4ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 706)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 769)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 710)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 64.6ms | Allocations: 15669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 69.2ms | ActiveRecord: 3.2ms | Allocations: 20140)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:23:32 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"hey"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "hey"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:23:32.120968"], ["updated_at", "2021-05-07 18:23:32.120968"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 22ms (ActiveRecord: 4.3ms | Allocations: 5262)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:32 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 11.9ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 15.8ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.7ms | Allocations: 706)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.9ms | Allocations: 769)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 29.0ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 713)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 710)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 117.5ms | Allocations: 16477)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 133ms (Views: 122.8ms | ActiveRecord: 2.5ms | Allocations: 21203)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:32 +0200
Started GET "/cable" for ::1 at 2021-05-07 20:23:32 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:23:32 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:35 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 706)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 62.8ms | Allocations: 16459)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 70.6ms | ActiveRecord: 2.6ms | Allocations: 20880)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:23:41 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.7ms | Allocations: 432)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 763)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 706)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.8ms | Allocations: 706)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 706)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 15.8ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 86.2ms | Allocations: 16461)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 104ms (Views: 92.5ms | ActiveRecord: 3.4ms | Allocations: 20880)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"1\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel","room_id":"1"}]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:74:in `find' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:46:in `remove' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:18:in `execute_command' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (26.8ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 18:24:22.562825"], ["updated_at", "2021-05-07 18:24:22.562825"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 18:24:22.575208"], ["updated_at", "2021-05-07 18:24:22.575208"]]
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 18:24:22.726508"], ["updated_at", "2021-05-07 18:24:22.726508"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 18:24:22.747230"], ["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 18:24:22.753478"], ["updated_at", "2021-05-07 18:24:22.753478"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2021-05-07 20:24:43 +0200
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:24:43 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 20:24:48 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 175ms (ActiveRecord: 2.3ms | Allocations: 16431)


Started GET "/sign_in" for ::1 at 2021-05-07 20:24:48 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 10.4ms | Allocations: 1407)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 13.9ms | Allocations: 1992)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 72.8ms | ActiveRecord: 0.3ms | Allocations: 8177)


Started GET "/" for ::1 at 2021-05-07 20:24:58 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.3ms | Allocations: 3055)


Started GET "/sign_in" for ::1 at 2021-05-07 20:24:58 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.2ms | Allocations: 592)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 24.9ms | ActiveRecord: 0.7ms | Allocations: 4584)


Started POST "/session" for ::1 at 2021-05-07 20:25:18 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.1ms | Allocations: 581)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1315)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
Completed 401 Unauthorized in 471ms (Views: 20.5ms | ActiveRecord: 0.9ms | Allocations: 21172)


Started GET "/sign_up" for ::1 at 2021-05-07 20:25:21 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.4ms | Allocations: 513)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 30.5ms | Allocations: 1472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 44.2ms | ActiveRecord: 0.4ms | Allocations: 6291)


Started POST "/users" for ::1 at 2021-05-07 20:25:23 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "184c78805dd92f5dd2a0eb2d427d59d6e893ff48"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 18:25:23.640221"], ["updated_at", "2021-05-07 18:25:23.640221"], ["email", "oussama.taheri27@gmail.com"], ["encrypted_password", "$2a$12$g8hFyhxuOfCmcDJfmETY6.cybxoQ7YPx9dP/VhV.3Bm5OWsNH9LJ6"], ["remember_token", "08331aac51a79c1d6b01faedf5aef8bb074c2d96"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 399ms (ActiveRecord: 3.0ms | Allocations: 22104)


Started GET "/" for ::1 at 2021-05-07 20:25:23 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "08331aac51a79c1d6b01faedf5aef8bb074c2d96"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.7ms | Allocations: 839)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 5191)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 30.2ms | ActiveRecord: 2.4ms | Allocations: 11344)


Started GET "/cable" for ::1 at 2021-05-07 20:25:24 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:25:24 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:25:37 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "08331aac51a79c1d6b01faedf5aef8bb074c2d96"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "98c095204b0f61253309140ede4f03e3088d01ad"], ["updated_at", "2021-05-07 18:25:37.940630"], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 21ms (ActiveRecord: 2.7ms | Allocations: 5669)


Started GET "/sign_in" for ::1 at 2021-05-07 20:25:37 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.7ms | Allocations: 598)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 692)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 3292)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:25:38 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 20:25:41 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 356ms (ActiveRecord: 0.4ms | Allocations: 2504)


Started GET "/" for ::1 at 2021-05-07 20:25:42 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c095204b0f61253309140ede4f03e3088d01ad"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 435)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 2865)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.1ms | ActiveRecord: 0.6ms | Allocations: 16722)


Started GET "/cable" for ::1 at 2021-05-07 20:25:42 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:25:42 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/sign_up" for ::1 at 2021-05-07 20:26:03 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.3ms | Allocations: 306)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1024)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 44.1ms | ActiveRecord: 0.3ms | Allocations: 17514)


Started POST "/users" for ::1 at 2021-05-07 20:26:10 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"catalinlinlin@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "09dc905b76909578e2072aa8a7eedcf6c23a7d49"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "catalinlinlin@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 18:26:10.893746"], ["updated_at", "2021-05-07 18:26:10.893746"], ["email", "catalinlinlin@gmail.com"], ["encrypted_password", "$2a$12$1dRTXspoV1BngZaEV3RkDe3wqx5xp4r4m0XKcO9Ddt6BNU7pl7Dny"], ["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 558ms (ActiveRecord: 2.8ms | Allocations: 7632)


Started GET "/" for ::1 at 2021-05-07 20:26:10 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.8ms | Allocations: 436)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.5ms | Allocations: 5214)


Started GET "/cable" for ::1 at 2021-05-07 20:26:11 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:26:11 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-07 20:26:15 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room1"], ["created_at", "2021-05-07 18:26:15.062171"], ["updated_at", "2021-05-07 18:26:15.062171"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 102ms (ActiveRecord: 4.3ms | Allocations: 15265)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:26:15 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 4.0ms | Allocations: 740)
  Rendered rooms/index.html.erb within layouts/application (Duration: 80.2ms | Allocations: 15713)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 85.4ms | ActiveRecord: 2.8ms | Allocations: 20185)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:26:15 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:26:15 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:26:15 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:26:19 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"asdasd"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "asdasd"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:26:19.678030"], ["updated_at", "2021-05-07 18:26:19.678030"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (4.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 54ms (ActiveRecord: 5.6ms | Allocations: 6332)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:26:19 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 437)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 1112)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 32.0ms | Allocations: 4839)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 37.6ms | ActiveRecord: 1.9ms | Allocations: 9258)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:26:19 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:26:19 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:26:19 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 20:26:27 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c095204b0f61253309140ede4f03e3088d01ad"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 433)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.4ms | ActiveRecord: 0.9ms | Allocations: 6322)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:26:27 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:26:28 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:26:28 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:26:29 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c095204b0f61253309140ede4f03e3088d01ad"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 432)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 23.7ms | Allocations: 4674)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 28.4ms | ActiveRecord: 1.9ms | Allocations: 9137)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:28:01 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c095204b0f61253309140ede4f03e3088d01ad"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.8ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 4324)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 27.3ms | ActiveRecord: 1.5ms | Allocations: 8787)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:28:06 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "98c095204b0f61253309140ede4f03e3088d01ad"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "f32f195e43f306c0e0be009e1ce9fad2cc872636"], ["updated_at", "2021-05-07 18:28:06.142649"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 20ms (ActiveRecord: 3.3ms | Allocations: 5653)


Started GET "/sign_in" for ::1 at 2021-05-07 20:28:06 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.3ms | Allocations: 598)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 692)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 3285)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:28:06 +0200
Started POST "/session" for ::1 at 2021-05-07 20:28:08 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 348ms (ActiveRecord: 0.3ms | Allocations: 1885)


Started GET "/" for ::1 at 2021-05-07 20:28:08 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f32f195e43f306c0e0be009e1ce9fad2cc872636"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 436)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2366)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 13.7ms | ActiveRecord: 0.8ms | Allocations: 6311)


Started GET "/cable" for ::1 at 2021-05-07 20:28:09 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:28:09 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:28:09 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f32f195e43f306c0e0be009e1ce9fad2cc872636"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "0281ddeb67924867c15c78f25e4eef81dba70780"], ["updated_at", "2021-05-07 18:28:09.777334"], ["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 21ms (ActiveRecord: 3.6ms | Allocations: 5626)


Started GET "/sign_in" for ::1 at 2021-05-07 20:28:09 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.4ms | Allocations: 589)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms | Allocations: 3623)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:28:09 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/passwords/new" for ::1 at 2021-05-07 20:28:10 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 646)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.0ms | Allocations: 4022)


Started POST "/passwords" for ::1 at 2021-05-07 20:28:12 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "f3306003abcc92aa1b5a545b989d48264af8ea96"], ["updated_at", "2021-05-07 18:28:12.603751"], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 4.1ms | Allocations: 514)
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb (Duration: 1.5ms | Allocations: 255)
ClearanceMailer#change_password: processed outbound mail in 51.3ms
Delivered mail 609586bcb0641_70903fd94c611fb0489a7@MacBook-Air-de-Oussama-6.local.mail (415.9ms)
Date: Fri, 07 May 2021 20:28:12 +0200
From: oussama.taheri27@gmail.com
To: oussama.taheri27@gmail.com
Message-ID: <609586bcb0641_70903fd94c611fb0489a7@MacBook-Air-de-Oussama-6.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_609586bcae8f5_70903fd94c611fb0488ab";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_609586bcae8f5_70903fd94c611fb0488ab
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://domain.com/users/1/password/edit?token=f3306003abcc92aa1b5a545b989d48264af8ea96

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_609586bcae8f5_70903fd94c611fb0488ab
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://domain.com/users/1/password/edit?token=f3306003abcc92aa1b5a545b989d48264af8ea96">Change my password</a>
</p>

<p>If you didn&#39;t request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_609586bcae8f5_70903fd94c611fb0488ab--

  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application (Duration: 1.0ms | Allocations: 136)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 568ms (Views: 12.2ms | ActiveRecord: 3.1ms | Allocations: 33427)


Started GET "/" for ::1 at 2021-05-07 20:32:31 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms | Allocations: 2332)


Started GET "/sign_in" for ::1 at 2021-05-07 20:32:31 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 10.9ms | Allocations: 594)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 17.1ms | Allocations: 688)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.9ms | ActiveRecord: 0.0ms | Allocations: 3306)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:32:32 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 388)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 2993)


Started POST "/passwords" for ::1 at 2021-05-07 20:32:34 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "d0b1b46d29538946a833bb11d13bdcfbafe8de04"], ["updated_at", "2021-05-07 18:32:34.284131"], ["id", 1]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 0.6ms | Allocations: 167)
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.text.erb (Duration: 0.4ms | Allocations: 120)
ClearanceMailer#change_password: processed outbound mail in 5.7ms
Delivered mail 609587c24ba12_70903fd94c611fb049114@MacBook-Air-de-Oussama-6.local.mail (658.3ms)
Date: Fri, 07 May 2021 20:32:34 +0200
From: oussama.taheri27@gmail.com
To: oussama.taheri27@gmail.com
Message-ID: <609587c24ba12_70903fd94c611fb049114@MacBook-Air-de-Oussama-6.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_609587c24ac10_70903fd94c611fb049075";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_609587c24ac10_70903fd94c611fb049075
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://domain.com/users/1/password/edit?token=d0b1b46d29538946a833bb11d13bdcfbafe8de04

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_609587c24ac10_70903fd94c611fb049075
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://domain.com/users/1/password/edit?token=d0b1b46d29538946a833bb11d13bdcfbafe8de04">Change my password</a>
</p>

<p>If you didn&#39;t request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_609587c24ac10_70903fd94c611fb049075--

  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/create.html.erb within layouts/application (Duration: 0.2ms | Allocations: 30)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 698ms (Views: 7.9ms | ActiveRecord: 6.4ms | Allocations: 19383)


Started GET "/" for ::1 at 2021-05-07 20:35:49 +0200
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 40ms (ActiveRecord: 0.0ms | Allocations: 7116)


Started GET "/sign_in" for ::1 at 2021-05-07 20:35:49 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 8.6ms | Allocations: 1341)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 1926)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 37.1ms | ActiveRecord: 0.0ms | Allocations: 7627)


Started GET "/cable" for ::1 at 2021-05-07 20:35:52 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:35:52 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:35:52 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:35:52 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/passwords/new" for ::1 at 2021-05-07 20:35:52 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 651)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.0ms | Allocations: 4399)


Started POST "/passwords" for ::1 at 2021-05-07 20:35:54 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "bc8ee8af46a05fbb4df6ece7a821ba3484220b7a"], ["updated_at", "2021-05-07 18:35:54.203098"], ["id", 1]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 5.5ms | Allocations: 1746)
ClearanceMailer#change_password: processed outbound mail in 19.4ms
Completed 500 Internal Server Error in 152ms (ActiveRecord: 4.0ms | Allocations: 27938)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2021-05-07 20:36:38 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 461)


Started GET "/sign_in" for ::1 at 2021-05-07 20:36:38 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.8ms | Allocations: 530)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.0ms | Allocations: 3252)


Started GET "/passwords/new" for ::1 at 2021-05-07 20:36:40 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 2976)


Started POST "/passwords" for ::1 at 2021-05-07 20:36:42 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "83da4c492853c00664516f6f39a6812b4d2b7a0e"], ["updated_at", "2021-05-07 18:36:42.377466"], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 1.7ms | Allocations: 1034)
ClearanceMailer#change_password: processed outbound mail in 4.4ms
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.9ms | Allocations: 7797)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2021-05-07 20:46:31 +0200
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 31ms (ActiveRecord: 0.0ms | Allocations: 4816)


Started GET "/sign_in" for ::1 at 2021-05-07 20:46:31 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 13.7ms | Allocations: 1341)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 23.4ms | Allocations: 1926)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 84.6ms | ActiveRecord: 0.0ms | Allocations: 6779)


Started POST "/session" for ::1 at 2021-05-07 20:46:35 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 383ms (ActiveRecord: 2.1ms | Allocations: 8942)


Started GET "/" for ::1 at 2021-05-07 20:46:35 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0281ddeb67924867c15c78f25e4eef81dba70780"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3021)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.5ms | Allocations: 8761)


  
ActionView::Template::Error (undefined method `name' for "oussama.taheri27@gmail.com":String):
    16:         <div class="card-body">
    17:           <% if signed_in? %>
    18:           <small>En lÃ­nea como: </small><br>
    19:           <b><%= current_user.email.name %><br></b>
    20:           <%= button_to 'Sign out', sign_out_path, method: :delete %>
    21:         <% else %>
    22:           <%= link_to 'Sign in', sign_in_path %>
  
app/views/rooms/index.html.erb:19
Started GET "/cable" for ::1 at 2021-05-07 20:46:36 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:46:36 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:46:36 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:46:36 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 20:49:15 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0281ddeb67924867c15c78f25e4eef81dba70780"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2433)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 1.5ms | Allocations: 5159)


  
ActionView::Template::Error (undefined method `name' for "oussama.taheri27@gmail.com":String):
    16:         <div class="card-body">
    17:           <% if signed_in? %>
    18:           <small>En lÃ­nea como: </small><br>
    19:           <%= current_user.email.name %><br>
    20:           <%= button_to 'Sign out', sign_out_path, method: :delete %>
    21:         <% else %>
    22:           <%= link_to 'Sign in', sign_in_path %>
  
app/views/rooms/index.html.erb:19
Started GET "/" for ::1 at 2021-05-07 20:49:22 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0281ddeb67924867c15c78f25e4eef81dba70780"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.5ms | Allocations: 885)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 115.7ms | Allocations: 14212)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 150ms (Views: 131.7ms | ActiveRecord: 4.1ms | Allocations: 19136)


Started GET "/cable" for ::1 at 2021-05-07 20:49:22 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:49:22 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 20:49:24 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0281ddeb67924867c15c78f25e4eef81dba70780"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["updated_at", "2021-05-07 18:49:24.568108"], ["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 22ms (ActiveRecord: 3.1ms | Allocations: 5760)


Started GET "/sign_in" for ::1 at 2021-05-07 20:49:24 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.2ms | Allocations: 804)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1244)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.0ms | Allocations: 4972)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:49:24 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 20:49:27 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 473ms (ActiveRecord: 0.4ms | Allocations: 1897)


Started GET "/" for ::1 at 2021-05-07 20:49:27 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.8ms | Allocations: 439)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 23.5ms | Allocations: 2330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 28.8ms | ActiveRecord: 7.1ms | Allocations: 6280)


Started GET "/cable" for ::1 at 2021-05-07 20:49:28 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:49:28 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 20:50:52 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.2ms | Allocations: 728)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 3402)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 32.8ms | ActiveRecord: 1.3ms | Allocations: 8388)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:50:52 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:50:53 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:50:53 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:51:05 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 435)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 1116)
  Rendered messages/_form.html.erb (Duration: 3.9ms | Allocations: 735)
  Rendered rooms/index.html.erb within layouts/application (Duration: 77.7ms | Allocations: 12541)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 98ms (Views: 86.9ms | ActiveRecord: 3.2ms | Allocations: 17032)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:51:11 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 18:51:11.644023"], ["updated_at", "2021-05-07 18:51:11.644023"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 22ms (ActiveRecord: 3.2ms | Allocations: 5611)


Started GET "/rooms/1" for ::1 at 2021-05-07 20:51:11 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.1ms | Allocations: 437)
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 769)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 58.9ms | Allocations: 5150)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 67.5ms | ActiveRecord: 2.9ms | Allocations: 9620)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:51:11 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:51:12 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:51:12 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:53:34 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 494)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 959)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 1371)
  Rendered messages/_form.html.erb (Duration: 1.7ms | Allocations: 363)
  Rendered rooms/index.html.erb within layouts/application (Duration: 61.8ms | Allocations: 20592)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 126ms (Views: 78.5ms | ActiveRecord: 7.1ms | Allocations: 41232)


Started GET "/cable" for ::1 at 2021-05-07 20:53:34 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:34 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 20:53:38 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.6ms | Allocations: 436)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 769)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 29.3ms | Allocations: 5144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 36.8ms | ActiveRecord: 2.9ms | Allocations: 9622)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:53:41 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Gola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Gola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 18:53:41.598167"], ["updated_at", "2021-05-07 18:53:41.598167"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (5.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 1cc44441-7ba6-48ba-9c4b-728c21a51563) to Async(default) with arguments: #<GlobalID:0x00007ff73d26ef30 @uri=#<URI::GID gid://chat-room/Message/3>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 84ms (ActiveRecord: 7.5ms | Allocations: 10033)


  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [1cc44441-7ba6-48ba-9c4b-728c21a51563] Performing SendMessageJob (Job ID: 1cc44441-7ba6-48ba-9c4b-728c21a51563) from Async(default) enqueued at 2021-05-07T18:53:41Z with arguments: #<GlobalID:0x00007ff7413c7a40 @uri=#<URI::GID gid://chat-room/Message/3>>
Started GET "/rooms/1" for ::1 at 2021-05-07 20:53:41 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [1cc44441-7ba6-48ba-9c4b-728c21a51563]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [1cc44441-7ba6-48ba-9c4b-728c21a51563]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [1cc44441-7ba6-48ba-9c4b-728c21a51563]   Rendered messages/_mine.html.erb (Duration: 23.7ms | Allocations: 3826)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.0ms | Allocations: 436)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
[ActiveJob] [SendMessageJob] [1cc44441-7ba6-48ba-9c4b-728c21a51563]   Rendered messages/_theirs.html.erb (Duration: 5.0ms | Allocations: 1200)
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
[ActiveJob] [SendMessageJob] [1cc44441-7ba6-48ba-9c4b-728c21a51563] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Gola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Gola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 3, content: "Gola", user_id: 1, room_id: 1, created_at: "2021-05-07 18:53:41", updated_at: "2021-05-07 18:53:41">}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 8.1ms | Allocations: 1878)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.2ms | Allocations: 1337)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [1cc44441-7ba6-48ba-9c4b-728c21a51563] Performed SendMessageJob (Job ID: 1cc44441-7ba6-48ba-9c4b-728c21a51563) from Async(default) in 67.09ms
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.2ms | Allocations: 1078)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 42.0ms | Allocations: 12768)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 84ms (Views: 58.4ms | ActiveRecord: 3.8ms | Allocations: 27335)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:41 +0200
Started GET "/cable" for ::1 at 2021-05-07 20:53:42 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:42 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:53:42 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:42 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 20:53:42 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:42 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 20:53:48 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 432)
  [1m[36mRoom Load (2.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 2346)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 39.7ms | ActiveRecord: 3.3ms | Allocations: 6271)


Started GET "/cable" for ::1 at 2021-05-07 20:53:48 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:48 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 20:53:51 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 13.4ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 36.0ms | Allocations: 5940)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 44.4ms | ActiveRecord: 2.1ms | Allocations: 10360)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel stopped streaming from room_channel_
Started POST "/messages" for ::1 at 2021-05-07 20:53:56 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"xd"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "xd"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:53:56.430233"], ["updated_at", "2021-05-07 18:53:56.430233"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: fbeb8b9a-e4d2-4f98-a70a-33bed58844ed) to Async(default) with arguments: #<GlobalID:0x00007ff73d5b2070 @uri=#<URI::GID gid://chat-room/Message/4>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 29ms (ActiveRecord: 4.5ms | Allocations: 5552)


  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [fbeb8b9a-e4d2-4f98-a70a-33bed58844ed] Performing SendMessageJob (Job ID: fbeb8b9a-e4d2-4f98-a70a-33bed58844ed) from Async(default) enqueued at 2021-05-07T18:53:56Z with arguments: #<GlobalID:0x00007ff740d952f8 @uri=#<URI::GID gid://chat-room/Message/4>>
[ActiveJob] [SendMessageJob] [fbeb8b9a-e4d2-4f98-a70a-33bed58844ed]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [fbeb8b9a-e4d2-4f98-a70a-33bed58844ed]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [fbeb8b9a-e4d2-4f98-a70a-33bed58844ed]   Rendered messages/_mine.html.erb (Duration: 3.0ms | Allocations: 723)
[ActiveJob] [SendMessageJob] [fbeb8b9a-e4d2-4f98-a70a-33bed58844ed]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [fbeb8b9a-e4d2-4f98-a70a-33bed58844ed] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      xd\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      xd\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 4, content: "xd", user_id: 2, room_id: 1, created_at: "2021-05-07 18:53:56", updated_at: "2021-05-07 18:53:56">}
Started GET "/rooms/1" for ::1 at 2021-05-07 20:53:56 +0200
[ActiveJob] [SendMessageJob] [fbeb8b9a-e4d2-4f98-a70a-33bed58844ed] Performed SendMessageJob (Job ID: fbeb8b9a-e4d2-4f98-a70a-33bed58844ed) from Async(default) in 9.5ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      xd\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"co... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      xd\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"co... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      xd\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"co... (via streamed from room_channel_1)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.9ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 768)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 40.2ms | Allocations: 6747)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 45.2ms | ActiveRecord: 2.7ms | Allocations: 11168)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:56 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:53:56 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:53:56 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:54:00 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"pero"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "pero"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:54:00.341829"], ["updated_at", "2021-05-07 18:54:00.341829"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 23c68ea2-9967-4223-935a-18e038c718c2) to Async(default) with arguments: #<GlobalID:0x00007ff740dffc20 @uri=#<URI::GID gid://chat-room/Message/5>>
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [23c68ea2-9967-4223-935a-18e038c718c2] Performing SendMessageJob (Job ID: 23c68ea2-9967-4223-935a-18e038c718c2) from Async(default) enqueued at 2021-05-07T18:54:00Z with arguments: #<GlobalID:0x00007ff73d6925f8 @uri=#<URI::GID gid://chat-room/Message/5>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 28ms (ActiveRecord: 2.9ms | Allocations: 6948)


[ActiveJob] [SendMessageJob] [23c68ea2-9967-4223-935a-18e038c718c2]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [23c68ea2-9967-4223-935a-18e038c718c2]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [23c68ea2-9967-4223-935a-18e038c718c2]   Rendered messages/_mine.html.erb (Duration: 6.3ms | Allocations: 1158)
[ActiveJob] [SendMessageJob] [23c68ea2-9967-4223-935a-18e038c718c2]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [23c68ea2-9967-4223-935a-18e038c718c2] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      pero\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      pero\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 5, content: "pero", user_id: 2, room_id: 1, created_at: "2021-05-07 18:54:00", updated_at: "2021-05-07 18:54:00">}
[ActiveJob] [SendMessageJob] [23c68ea2-9967-4223-935a-18e038c718c2] Performed SendMessageJob (Job ID: 23c68ea2-9967-4223-935a-18e038c718c2) from Async(default) in 14.04ms
Started GET "/rooms/1" for ::1 at 2021-05-07 20:54:00 +0200
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      pero\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      pero\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  Rendering rooms/index.html.erb within layouts/application
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      pero\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  Rendered rooms/_form.html.erb (Duration: 2.9ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 10.5ms | Allocations: 768)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.5ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 710)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 64.8ms | Allocations: 7776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 113ms (Views: 75.5ms | ActiveRecord: 2.3ms | Allocations: 12432)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:54:00 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:54:00 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:54:00 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:54:05 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"MMMM"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "MMMM"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 18:54:05.044457"], ["updated_at", "2021-05-07 18:54:05.044457"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 49ee72e3-1f63-4114-a46d-d49b5717e96f) to Async(default) with arguments: #<GlobalID:0x00007ff73de32c68 @uri=#<URI::GID gid://chat-room/Message/6>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 38ms (ActiveRecord: 11.0ms | Allocations: 5509)


  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [49ee72e3-1f63-4114-a46d-d49b5717e96f] Performing SendMessageJob (Job ID: 49ee72e3-1f63-4114-a46d-d49b5717e96f) from Async(default) enqueued at 2021-05-07T18:54:05Z with arguments: #<GlobalID:0x00007ff73d3d4ff0 @uri=#<URI::GID gid://chat-room/Message/6>>
[ActiveJob] [SendMessageJob] [49ee72e3-1f63-4114-a46d-d49b5717e96f]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [49ee72e3-1f63-4114-a46d-d49b5717e96f]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [49ee72e3-1f63-4114-a46d-d49b5717e96f]   Rendered messages/_mine.html.erb (Duration: 3.1ms | Allocations: 724)
[ActiveJob] [SendMessageJob] [49ee72e3-1f63-4114-a46d-d49b5717e96f]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [49ee72e3-1f63-4114-a46d-d49b5717e96f] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      MMMM\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      MMMM\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 6, content: "MMMM", user_id: 1, room_id: 1, created_at: "2021-05-07 18:54:05", updated_at: "2021-05-07 18:54:05">}
[ActiveJob] [SendMessageJob] [49ee72e3-1f63-4114-a46d-d49b5717e96f] Performed SendMessageJob (Job ID: 49ee72e3-1f63-4114-a46d-d49b5717e96f) from Async(default) in 22.82ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      MMMM\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-07 20:54:05 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      MMMM\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      MMMM\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 432)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (20.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 766)
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 11.7ms | Allocations: 769)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 16.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.2ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 94.1ms | Allocations: 8355)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 119ms (Views: 75.6ms | ActiveRecord: 30.4ms | Allocations: 13576)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:54:05 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:54:05 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:54:05 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:54:45 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"jkhkjh"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "jkhkjh"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 18:54:45.628877"], ["updated_at", "2021-05-07 18:54:45.628877"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 74754dd4-057d-4879-bd0f-1caaa804e14e) to Async(default) with arguments: #<GlobalID:0x00007ff740cb4410 @uri=#<URI::GID gid://chat-room/Message/7>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 58ms (ActiveRecord: 2.9ms | Allocations: 5712)


  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [74754dd4-057d-4879-bd0f-1caaa804e14e] Performing SendMessageJob (Job ID: 74754dd4-057d-4879-bd0f-1caaa804e14e) from Async(default) enqueued at 2021-05-07T18:54:45Z with arguments: #<GlobalID:0x00007ff740ce7518 @uri=#<URI::GID gid://chat-room/Message/7>>
[ActiveJob] [SendMessageJob] [74754dd4-057d-4879-bd0f-1caaa804e14e]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [74754dd4-057d-4879-bd0f-1caaa804e14e]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [74754dd4-057d-4879-bd0f-1caaa804e14e]   Rendered messages/_mine.html.erb (Duration: 3.9ms | Allocations: 776)
[ActiveJob] [SendMessageJob] [74754dd4-057d-4879-bd0f-1caaa804e14e]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [74754dd4-057d-4879-bd0f-1caaa804e14e] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jkhkjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jkhkjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 7, content: "jkhkjh", user_id: 1, room_id: 1, created_at: "2021-05-07 18:54:45", updated_at: "2021-05-07 18:54:45">}
Started GET "/rooms/1" for ::1 at 2021-05-07 20:54:45 +0200
[ActiveJob] [SendMessageJob] [74754dd4-057d-4879-bd0f-1caaa804e14e] Performed SendMessageJob (Job ID: 74754dd4-057d-4879-bd0f-1caaa804e14e) from Async(default) in 8.48ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jkhkjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jkhkjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=... (via streamed from room_channel_1)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jkhkjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=... (via streamed from room_channel_1)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 766)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 769)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.5ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 22.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 52.3ms | Allocations: 9160)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 58.3ms | ActiveRecord: 2.2ms | Allocations: 13852)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:54:45 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:54:46 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:54:46 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:55:43 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"jgvjhvjh"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "jgvjhvjh"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 18:55:43.398291"], ["updated_at", "2021-05-07 18:55:43.398291"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 78fd4a57-3699-43d0-9a75-878ab02de855) to Async(default) with arguments: #<GlobalID:0x00007ff73d5e0b50 @uri=#<URI::GID gid://chat-room/Message/8>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 34ms (ActiveRecord: 3.0ms | Allocations: 5485)


  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [78fd4a57-3699-43d0-9a75-878ab02de855] Performing SendMessageJob (Job ID: 78fd4a57-3699-43d0-9a75-878ab02de855) from Async(default) enqueued at 2021-05-07T18:55:43Z with arguments: #<GlobalID:0x00007ff73d609938 @uri=#<URI::GID gid://chat-room/Message/8>>
[ActiveJob] [SendMessageJob] [78fd4a57-3699-43d0-9a75-878ab02de855]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/rooms/1" for ::1 at 2021-05-07 20:55:43 +0200
[ActiveJob] [SendMessageJob] [78fd4a57-3699-43d0-9a75-878ab02de855]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [78fd4a57-3699-43d0-9a75-878ab02de855]   Rendered messages/_mine.html.erb (Duration: 84.7ms | Allocations: 1784)
[ActiveJob] [SendMessageJob] [78fd4a57-3699-43d0-9a75-878ab02de855]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [78fd4a57-3699-43d0-9a75-878ab02de855] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jgvjhvjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jgvjhvjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 8, content: "jgvjhvjh", user_id: 1, room_id: 1, created_at: "2021-05-07 18:55:43", updated_at: "2021-05-07 18:55:43">}
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [SendMessageJob] [78fd4a57-3699-43d0-9a75-878ab02de855] Performed SendMessageJob (Job ID: 78fd4a57-3699-43d0-9a75-878ab02de855) from Async(default) in 89.59ms
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jgvjhvjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div clas... (via streamed from room_channel_1)
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jgvjhvjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div clas... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      jgvjhvjh\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div clas... (via streamed from room_channel_1)
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 766)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.9ms | Allocations: 770)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 22.5ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 712)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 74.3ms | Allocations: 9968)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 102ms (Views: 82.2ms | ActiveRecord: 3.8ms | Allocations: 16004)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:55:43 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:55:43 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:55:43 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 20:55:49 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"ouoiujpo"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "ouoiujpo"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 18:55:49.854315"], ["updated_at", "2021-05-07 18:55:49.854315"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 1bb73f7d-69f6-46cf-88df-f235d5ed3ca0) to Async(default) with arguments: #<GlobalID:0x00007ff73d4e0a98 @uri=#<URI::GID gid://chat-room/Message/9>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 87ms (ActiveRecord: 2.9ms | Allocations: 5516)


  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [1bb73f7d-69f6-46cf-88df-f235d5ed3ca0] Performing SendMessageJob (Job ID: 1bb73f7d-69f6-46cf-88df-f235d5ed3ca0) from Async(default) enqueued at 2021-05-07T18:55:49Z with arguments: #<GlobalID:0x00007ff73dee9b48 @uri=#<URI::GID gid://chat-room/Message/9>>
[ActiveJob] [SendMessageJob] [1bb73f7d-69f6-46cf-88df-f235d5ed3ca0]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/rooms/1" for ::1 at 2021-05-07 20:55:50 +0200
[ActiveJob] [SendMessageJob] [1bb73f7d-69f6-46cf-88df-f235d5ed3ca0]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [1bb73f7d-69f6-46cf-88df-f235d5ed3ca0]   Rendered messages/_mine.html.erb (Duration: 233.8ms | Allocations: 24232)
[ActiveJob] [SendMessageJob] [1bb73f7d-69f6-46cf-88df-f235d5ed3ca0]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [1bb73f7d-69f6-46cf-88df-f235d5ed3ca0] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      ouoiujpo\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      ouoiujpo\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 9, content: "ouoiujpo", user_id: 2, room_id: 1, created_at: "2021-05-07 18:55:49", updated_at: "2021-05-07 18:55:49">}
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [SendMessageJob] [1bb73f7d-69f6-46cf-88df-f235d5ed3ca0] Performed SendMessageJob (Job ID: 1bb73f7d-69f6-46cf-88df-f235d5ed3ca0) from Async(default) in 238.36ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      ouoiujpo\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div clas... (via streamed from room_channel_1)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      ouoiujpo\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div clas... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      ouoiujpo\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div clas... (via streamed from room_channel_1)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 34.6ms | Allocations: 768)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 76.5ms | Allocations: 10764)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 144ms (Views: 95.8ms | ActiveRecord: 2.4ms | Allocations: 16546)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:55:50 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 20:55:50 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 20:55:50 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 20:59:42 +0200
RoomChannel stopped streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 21:00:04 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 21:46:04 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 431)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2548)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 50.5ms | ActiveRecord: 2.4ms | Allocations: 6483)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 21:46:05 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 21:46:05 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 21:46:05 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 21:46:07 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0936a66afd018609a0ca4e197a359f3f61443be9"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "57bd8a06bbd8e2dbbf58d0cf413fb699517468df"], ["updated_at", "2021-05-07 19:46:07.607302"], ["id", 2]]
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 19ms (ActiveRecord: 4.9ms | Allocations: 5648)


Started GET "/sign_in" for ::1 at 2021-05-07 21:46:07 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.4ms | Allocations: 806)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 1253)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.1ms | ActiveRecord: 0.0ms | Allocations: 4929)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 21:46:07 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/passwords/new" for ::1 at 2021-05-07 21:46:11 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 3949)


Started POST "/passwords" for ::1 at 2021-05-07 21:46:13 +0200
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "confirmation_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmation_token", "336ec4827ef768f08ea0f4ae62c059089d44108e"], ["updated_at", "2021-05-07 19:46:13.219857"], ["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/clearance_mailer/change_password.html.erb (Duration: 30.2ms | Allocations: 1430)
ClearanceMailer#change_password: processed outbound mail in 319.1ms
Completed 500 Internal Server Error in 756ms (ActiveRecord: 2.9ms | Allocations: 39270)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: <p>
    4:   <%= link_to t(".link_text", default: "Change my password"),
    5:     url_for([@user, :password, action: :edit, token: @user.confirmation_token]) %>
    6: </p>
    7: 
    8: <p><%= t(".closing") %></p>
  
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:63:in `full_url_for'
actionpack (6.0.3.7) lib/action_dispatch/http/url.rb:53:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:333:in `block in <class:RouteSet>'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:828:in `url_for'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:269:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:211:in `call'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:326:in `block in define_url_helper'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:232:in `polymorphic_method'
actionpack (6.0.3.7) lib/action_dispatch/routing/polymorphic_routes.rb:116:in `polymorphic_url'
actionview (6.0.3.7) lib/action_view/routing_url_for.rb:104:in `url_for'
clearance (2.4.0) app/views/clearance_mailer/change_password.html.erb:5
actionview (6.0.3.7) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.7) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.7) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.7) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.7) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.7) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.7) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.7) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.7) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.7) lib/action_view/rendering.rb:116:in `_render_template'
actionview (6.0.3.7) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.7) lib/abstract_controller/rendering.rb:25:in `render'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:977:in `block in collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `each'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `map'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:974:in `collect_responses_from_templates'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:952:in `collect_responses'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:858:in `mail'
clearance (2.4.0) app/mailers/clearance_mailer.rb:4:in `change_password'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:25:in `block in process'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
actionmailer (6.0.3.7) lib/action_mailer/rescuable.rb:24:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:637:in `block in process'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionmailer (6.0.3.7) lib/action_mailer/base.rb:636:in `process'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:124:in `block in processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `tap'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:123:in `processed_mailer'
actionmailer (6.0.3.7) lib/action_mailer/message_delivery.rb:114:in `deliver_now'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:48:in `deliver_email'
clearance (2.4.0) app/controllers/clearance/passwords_controller.rb:15:in `create'
actionpack (6.0.3.7) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.7) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.7) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.7) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.7) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.7) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.7) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.7) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.7) lib/action_dispatch/routing/route_set.rb:834:in `call'
clearance (2.4.0) lib/clearance/rack_session.rb:23:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.7) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.7) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.7) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:06:32 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 316)


Started GET "/sign_in" for ::1 at 2021-05-07 23:06:32 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.4ms | Allocations: 529)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 623)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 3180)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:06:32 +0200
RoomChannel stopped streaming from room_channel_1
Started POST "/session" for ::1 at 2021-05-07 23:06:36 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 397ms (ActiveRecord: 2.7ms | Allocations: 1671)


Started GET "/" for ::1 at 2021-05-07 23:06:37 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 440)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 4302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 20.5ms | ActiveRecord: 2.1ms | Allocations: 10153)


Started GET "/cable" for ::1 at 2021-05-07 23:06:37 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:06:37 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:06:38 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "1d9faab8883acbcd4b82e7caf7fb841ec3fc1232"], ["updated_at", "2021-05-07 21:06:38.887914"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 24ms (ActiveRecord: 3.2ms | Allocations: 5856)


Started GET "/sign_in" for ::1 at 2021-05-07 23:06:38 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.1ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 3167)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:06:38 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/" for ::1 at 2021-05-07 23:16:34 +0200
  [1m[35m (3.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 163ms (ActiveRecord: 0.0ms | Allocations: 12530)


Started GET "/sign_in" for ::1 at 2021-05-07 23:16:34 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 31.6ms | Allocations: 1340)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 64.9ms | Allocations: 1924)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 167ms (Views: 163.0ms | ActiveRecord: 0.0ms | Allocations: 6743)


Started POST "/session" for ::1 at 2021-05-07 23:16:44 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 863ms (ActiveRecord: 3.0ms | Allocations: 14888)


Started GET "/" for ::1 at 2021-05-07 23:16:45 +0200
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "1d9faab8883acbcd4b82e7caf7fb841ec3fc1232"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 7.5ms | Allocations: 1150)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 114.5ms | Allocations: 15124)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 163ms (Views: 127.9ms | ActiveRecord: 8.5ms | Allocations: 22699)


Started GET "/cable" for ::1 at 2021-05-07 23:16:45 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:16:45 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:16:48 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "1d9faab8883acbcd4b82e7caf7fb841ec3fc1232"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "e54fcb201fece06d33bacdc37dbe709cf80464b3"], ["updated_at", "2021-05-07 21:16:48.309352"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 21ms (ActiveRecord: 3.8ms | Allocations: 5718)


Started GET "/sign_in" for ::1 at 2021-05-07 23:16:48 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 6.5ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 0.0ms | Allocations: 3180)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:16:48 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/sign_up" for ::1 at 2021-05-07 23:16:49 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 3.2ms | Allocations: 502)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 12.8ms | Allocations: 1411)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.0ms | Allocations: 4864)


Started POST "/users" for ::1 at 2021-05-07 23:17:08 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.co", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.co"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 21:17:08.930279"], ["updated_at", "2021-05-07 21:17:08.930279"], ["email", "oussama@gmail.co"], ["encrypted_password", "$2a$12$nDXkBRBLs83jD.ubpqNDMOhjfF1awU546RPgcbyJhNJ4PD3epXwkm"], ["remember_token", "63519fc7134ee1454dac700717d13b9d542f1542"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 579ms (ActiveRecord: 5.8ms | Allocations: 9035)


Started GET "/" for ::1 at 2021-05-07 23:17:08 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "63519fc7134ee1454dac700717d13b9d542f1542"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.1ms | Allocations: 441)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 25.7ms | Allocations: 3206)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 50.2ms | ActiveRecord: 2.9ms | Allocations: 7579)


Started GET "/cable" for ::1 at 2021-05-07 23:17:09 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:17:09 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 23:17:16 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "63519fc7134ee1454dac700717d13b9d542f1542"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 12.2ms | Allocations: 1115)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 767)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.7ms | Allocations: 709)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.3ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.9ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 7.0ms | Allocations: 734)
  Rendered rooms/index.html.erb within layouts/application (Duration: 120.7ms | Allocations: 19360)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 145ms (Views: 128.2ms | ActiveRecord: 6.0ms | Allocations: 23809)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:17:35.605272"], ["updated_at", "2021-05-07 21:17:35.605272"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:17:35.640447"], ["updated_at", "2021-05-07 21:17:35.640447"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:17:35.771965"], ["updated_at", "2021-05-07 21:17:35.771965"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 21:17:35.780533"], ["key", "environment"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:17:35.788289"], ["updated_at", "2021-05-07 21:17:35.788289"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:20:16 +0200
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "63519fc7134ee1454dac700717d13b9d542f1542"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 60ms (ActiveRecord: 5.2ms | Allocations: 4178)


Started GET "/sign_in" for ::1 at 2021-05-07 23:20:16 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 11.3ms | Allocations: 1862)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 106.7ms | Allocations: 14207)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 166ms (Views: 164.1ms | ActiveRecord: 0.0ms | Allocations: 23533)


Started GET "/sign_up" for ::1 at 2021-05-07 23:20:29 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.4ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 1435)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 30.0ms | ActiveRecord: 0.0ms | Allocations: 9927)


Started POST "/users" for ::1 at 2021-05-07 23:20:39 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 21:20:39.596974"], ["updated_at", "2021-05-07 21:20:39.596974"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$uGFUnSjMb5S4Z/47iC21Oe44m6QFxVcT6cAUR59S/LP.g.XY6iaXy"], ["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"]]
  [1m[35m (5.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 536ms (ActiveRecord: 10.2ms | Allocations: 6361)


Started GET "/" for ::1 at 2021-05-07 23:20:39 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.8ms | Allocations: 840)
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 39.5ms | Allocations: 5177)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 60.1ms | ActiveRecord: 3.0ms | Allocations: 11305)


Started GET "/cable" for ::1 at 2021-05-07 23:20:39 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:20:39 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-07 23:20:44 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (11.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (2.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room1"], ["created_at", "2021-05-07 21:20:44.720026"], ["updated_at", "2021-05-07 21:20:44.720026"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 59ms (ActiveRecord: 15.7ms | Allocations: 4196)


Started GET "/rooms/1" for ::1 at 2021-05-07 23:20:44 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.3ms | Allocations: 431)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 31.6ms | Allocations: 6476)
  Rendered rooms/index.html.erb within layouts/application (Duration: 220.9ms | Allocations: 23017)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 293ms (Views: 249.9ms | ActiveRecord: 5.5ms | Allocations: 32420)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:20:45 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 23:20:45 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:20:45 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 23:20:46 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 437)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 3426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 30.4ms | ActiveRecord: 1.5ms | Allocations: 7850)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 23:20:59 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"asddfalkjf"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (3.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "asddfalkjf"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 21:20:59.907823"], ["updated_at", "2021-05-07 21:20:59.907823"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: e03fc896-4250-4329-bc09-b1e1f9eac5a7) to Async(default) with arguments: #<GlobalID:0x00007ffd12fcf118 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 128ms (ActiveRecord: 7.3ms | Allocations: 22876)


[ActiveJob] [SendMessageJob] [e03fc896-4250-4329-bc09-b1e1f9eac5a7] Performing SendMessageJob (Job ID: e03fc896-4250-4329-bc09-b1e1f9eac5a7) from Async(default) enqueued at 2021-05-07T21:20:59Z with arguments: #<GlobalID:0x00007ffd0ed4da60 @uri=#<URI::GID gid://chat-room/Message/1>>
Started GET "/rooms/1" for ::1 at 2021-05-07 23:21:00 +0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] [SendMessageJob] [e03fc896-4250-4329-bc09-b1e1f9eac5a7]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Processing by RoomsController#show as HTML
[ActiveJob] [SendMessageJob] [e03fc896-4250-4329-bc09-b1e1f9eac5a7]   â†³ app/views/messages/_mine.html.erb:7
  Parameters: {"id"=>"1"}
[ActiveJob] [SendMessageJob] [e03fc896-4250-4329-bc09-b1e1f9eac5a7]   Rendered messages/_mine.html.erb (Duration: 21.1ms | Allocations: 2470)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.2ms | Allocations: 436)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
[ActiveJob] [SendMessageJob] [e03fc896-4250-4329-bc09-b1e1f9eac5a7]   Rendered messages/_theirs.html.erb (Duration: 13.3ms | Allocations: 1125)
  â†³ app/views/rooms/index.html.erb:35
[ActiveJob] [SendMessageJob] [e03fc896-4250-4329-bc09-b1e1f9eac5a7] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asddfalkjf\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asddfalkjf\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "asddfalkjf", user_id: 1, room_id: 1, created_at: "2021-05-07 21:20:59", updated_at: "2021-05-07 21:20:59">}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
[ActiveJob] [SendMessageJob] [e03fc896-4250-4329-bc09-b1e1f9eac5a7] Performed SendMessageJob (Job ID: e03fc896-4250-4329-bc09-b1e1f9eac5a7) from Async(default) in 91.22ms
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.8ms | Allocations: 1067)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 43.9ms | Allocations: 6263)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 54.8ms | ActiveRecord: 3.7ms | Allocations: 11036)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:21:00 +0200
Started GET "/cable" for ::1 at 2021-05-07 23:21:00 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:21:00 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 23:21:10 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.7ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 2317)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 69.3ms | ActiveRecord: 1.1ms | Allocations: 6226)


Started GET "/cable" for ::1 at 2021-05-07 23:21:11 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:21:11 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:21:13 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "8d654b1f060b8b157daad1b105d63b163a5707bd"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "b396ba84444b3e6ee1c9f6f18518fcd55f49deb0"], ["updated_at", "2021-05-07 21:21:13.682925"], ["id", 1]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 31ms (ActiveRecord: 5.7ms | Allocations: 7307)


Started GET "/sign_in" for ::1 at 2021-05-07 23:21:13 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.0ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms | Allocations: 3184)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:21:13 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 23:21:16 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.4ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 917)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 643ms (Views: 57.8ms | ActiveRecord: 0.4ms | Allocations: 27770)


Started GET "/sign_up" for ::1 at 2021-05-07 23:21:19 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.7ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.0ms | Allocations: 3345)


Started POST "/users" for ::1 at 2021-05-07 23:21:20 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 21:21:21.542798"], ["updated_at", "2021-05-07 21:21:21.542798"], ["email", "oussama.taheri27@gmail.com"], ["encrypted_password", "$2a$12$T9Bh757GrmaUSjLP0Z8KtO/UXJYuLtUT2a1Dv//zOAw/igHGLadCO"], ["remember_token", "2f1353d724a0177630365c32e6a25dc819ad2311"]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 820ms (ActiveRecord: 5.4ms | Allocations: 16666)


Started GET "/" for ::1 at 2021-05-07 23:21:21 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "2f1353d724a0177630365c32e6a25dc819ad2311"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.2ms | Allocations: 436)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 41.0ms | Allocations: 5032)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 55.8ms | ActiveRecord: 3.6ms | Allocations: 9416)


Started GET "/cable" for ::1 at 2021-05-07 23:21:21 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:21:21 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 23:21:23 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "2f1353d724a0177630365c32e6a25dc819ad2311"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 2.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 26.0ms | Allocations: 4274)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 40.9ms | ActiveRecord: 2.3ms | Allocations: 8692)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 23:21:27 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "2f1353d724a0177630365c32e6a25dc819ad2311"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 21:21:27.150942"], ["updated_at", "2021-05-07 21:21:27.150942"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 493b9c53-bab0-4571-9c97-7a9d09816fff) to Async(default) with arguments: #<GlobalID:0x00007ffd0eca5a40 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 21ms (ActiveRecord: 2.4ms | Allocations: 5539)


  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [493b9c53-bab0-4571-9c97-7a9d09816fff] Performing SendMessageJob (Job ID: 493b9c53-bab0-4571-9c97-7a9d09816fff) from Async(default) enqueued at 2021-05-07T21:21:27Z with arguments: #<GlobalID:0x00007ffd0ecbd730 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [493b9c53-bab0-4571-9c97-7a9d09816fff]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [493b9c53-bab0-4571-9c97-7a9d09816fff]   â†³ app/views/messages/_mine.html.erb:7
Started GET "/rooms/1" for ::1 at 2021-05-07 23:21:27 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [SendMessageJob] [493b9c53-bab0-4571-9c97-7a9d09816fff]   Rendered messages/_mine.html.erb (Duration: 19.2ms | Allocations: 1853)
[ActiveJob] [SendMessageJob] [493b9c53-bab0-4571-9c97-7a9d09816fff]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "2f1353d724a0177630365c32e6a25dc819ad2311"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [493b9c53-bab0-4571-9c97-7a9d09816fff] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "hola", user_id: 2, room_id: 1, created_at: "2021-05-07 21:21:27", updated_at: "2021-05-07 21:21:27">}
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
[ActiveJob] [SendMessageJob] [493b9c53-bab0-4571-9c97-7a9d09816fff] Performed SendMessageJob (Job ID: 493b9c53-bab0-4571-9c97-7a9d09816fff) from Async(default) in 39.3ms
  Rendered rooms/_form.html.erb (Duration: 5.8ms | Allocations: 432)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.6ms | Allocations: 766)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.2ms | Allocations: 768)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 67.7ms | Allocations: 6057)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 102ms (Views: 79.5ms | ActiveRecord: 4.1ms | Allocations: 11008)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:21:27 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 23:21:27 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:21:27 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:23:28.189307"], ["updated_at", "2021-05-07 21:23:28.189307"]]
  [1m[35m (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:23:28.235594"], ["updated_at", "2021-05-07 21:23:28.235594"]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (3.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:23:28.423082"], ["updated_at", "2021-05-07 21:23:28.423082"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (1.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 21:23:28.436700"], ["key", "environment"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:23:28.449835"], ["updated_at", "2021-05-07 21:23:28.449835"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-07 23:28:51 +0200
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 216ms (ActiveRecord: 6.8ms | Allocations: 15864)


Started GET "/sign_in" for ::1 at 2021-05-07 23:28:51 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 27.1ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 30.8ms | Allocations: 1924)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 79.8ms | ActiveRecord: 0.4ms | Allocations: 8109)


  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:29:14.728792"], ["updated_at", "2021-05-07 21:29:14.728792"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:29:14.742082"], ["updated_at", "2021-05-07 21:29:14.742082"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:29:14.866085"], ["updated_at", "2021-05-07 21:29:14.866085"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 21:29:14.874597"], ["key", "environment"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:29:14.885162"], ["updated_at", "2021-05-07 21:29:14.885162"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-07 23:29:36 +0200
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 293ms (ActiveRecord: 2.9ms | Allocations: 31920)


Started GET "/sign_in" for ::1 at 2021-05-07 23:29:36 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 14.9ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 22.5ms | Allocations: 1921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 71.6ms | ActiveRecord: 0.9ms | Allocations: 8103)


Started GET "/" for ::1 at 2021-05-07 23:29:59 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 3103)


Started GET "/sign_in" for ::1 at 2021-05-07 23:29:59 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.2ms | Allocations: 526)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 621)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 15.8ms | ActiveRecord: 0.6ms | Allocations: 4563)


  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:30:16.191125"], ["updated_at", "2021-05-07 21:30:16.191125"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:30:16.202672"], ["updated_at", "2021-05-07 21:30:16.202672"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:30:16.325808"], ["updated_at", "2021-05-07 21:30:16.325808"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 21:30:16.334201"], ["key", "environment"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:30:16.342897"], ["updated_at", "2021-05-07 21:30:16.342897"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-07 23:31:57 +0200
  [1m[35m (5.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 270ms (ActiveRecord: 18.7ms | Allocations: 26931)


Started GET "/sign_in" for ::1 at 2021-05-07 23:31:58 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 19.8ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 32.1ms | Allocations: 1921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 114ms (Views: 97.3ms | ActiveRecord: 0.5ms | Allocations: 8095)


Started POST "/session" for ::1 at 2021-05-07 23:32:07 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.5ms | Allocations: 522)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 24.8ms | Allocations: 2086)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
Completed 401 Unauthorized in 657ms (Views: 87.1ms | ActiveRecord: 1.8ms | Allocations: 35159)


Started GET "/sign_up" for ::1 at 2021-05-07 23:32:12 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.8ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1428)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 28.9ms | ActiveRecord: 0.5ms | Allocations: 6276)


Started POST "/users" for ::1 at 2021-05-07 23:32:17 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "0a0a91328f479585cc6ed07de18358a4ade80a00"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 21:32:18.790710"], ["updated_at", "2021-05-07 21:32:18.790710"], ["email", "oussama.taheri27@gmail.com"], ["encrypted_password", "$2a$12$UApcftXNaQki6QGVtRQNFONrY0q8gGNl8pDVYAH5O/lNnygX.0PMC"], ["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 917ms (ActiveRecord: 4.7ms | Allocations: 16935)


Started GET "/" for ::1 at 2021-05-07 23:32:18 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.4ms | Allocations: 840)
  [1m[36mRoom Load (1.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 45.8ms | Allocations: 5728)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 68.4ms | ActiveRecord: 3.0ms | Allocations: 13032)


Started GET "/cable" for ::1 at 2021-05-07 23:32:19 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:32:19 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-07 23:32:33 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (3.1ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room1"], ["created_at", "2021-05-07 21:32:33.921007"], ["updated_at", "2021-05-07 21:32:33.921007"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (11.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 81ms (ActiveRecord: 15.3ms | Allocations: 4233)


Started GET "/rooms/1" for ::1 at 2021-05-07 23:32:34 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.7ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 20.1ms | Allocations: 3239)
  Rendered rooms/index.html.erb within layouts/application (Duration: 185.4ms | Allocations: 19628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 233ms (Views: 211.1ms | ActiveRecord: 5.6ms | Allocations: 26919)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:32:34 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 23:32:34 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:32:34 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 23:32:38 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.7ms | Allocations: 437)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (2.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 29.1ms | Allocations: 3427)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 44.2ms | ActiveRecord: 4.5ms | Allocations: 7893)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 23:32:48 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (2.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 21:32:48.537199"], ["updated_at", "2021-05-07 21:32:48.537199"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (12.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: dec0ea68-176c-498e-883c-d1efff5d0562) to Async(default) with arguments: #<GlobalID:0x00007fe81ac5f1c0 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 100ms (ActiveRecord: 16.1ms | Allocations: 10712)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [dec0ea68-176c-498e-883c-d1efff5d0562] Performing SendMessageJob (Job ID: dec0ea68-176c-498e-883c-d1efff5d0562) from Async(default) enqueued at 2021-05-07T21:32:48Z with arguments: #<GlobalID:0x00007fe8208a4278 @uri=#<URI::GID gid://chat-room/Message/1>>
Started GET "/rooms/1" for ::1 at 2021-05-07 23:32:48 +0200
[ActiveJob] [SendMessageJob] [dec0ea68-176c-498e-883c-d1efff5d0562]   [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Processing by RoomsController#show as HTML
[ActiveJob] [SendMessageJob] [dec0ea68-176c-498e-883c-d1efff5d0562]   â†³ app/views/messages/_mine.html.erb:7
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [dec0ea68-176c-498e-883c-d1efff5d0562]   Rendered messages/_mine.html.erb (Duration: 13.3ms | Allocations: 1779)
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
[ActiveJob] [SendMessageJob] [dec0ea68-176c-498e-883c-d1efff5d0562]   Rendered messages/_theirs.html.erb (Duration: 2.4ms | Allocations: 324)
  Rendered rooms/_form.html.erb (Duration: 6.7ms | Allocations: 436)
[ActiveJob] [SendMessageJob] [dec0ea68-176c-498e-883c-d1efff5d0562] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "hola", user_id: 1, room_id: 1, created_at: "2021-05-07 21:32:48", updated_at: "2021-05-07 21:32:48">}
[ActiveJob] [SendMessageJob] [dec0ea68-176c-498e-883c-d1efff5d0562] Performed SendMessageJob (Job ID: dec0ea68-176c-498e-883c-d1efff5d0562) from Async(default) in 60.04ms
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.5ms | Allocations: 939)
  Rendered messages/_form.html.erb (Duration: 0.8ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 127.9ms | Allocations: 6551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 175ms (Views: 150.9ms | ActiveRecord: 3.5ms | Allocations: 11324)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:32:48 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 23:32:49 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:32:49 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-07 23:32:58 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 312)


Started GET "/sign_in" for ::1 at 2021-05-07 23:32:58 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.5ms | Allocations: 537)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 631)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.0ms | Allocations: 3195)


Started GET "/sign_up" for ::1 at 2021-05-07 23:33:02 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.4ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.0ms | Allocations: 3372)


Started POST "/users" for ::1 at 2021-05-07 23:33:10 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmal.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmal.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 21:33:11.466756"], ["updated_at", "2021-05-07 21:33:11.466756"], ["email", "oussama@gmal.com"], ["encrypted_password", "$2a$12$pIQ9IT905nKuI8ure8EdK.CbbkxrznsgMFCP5ydnylhAnC0.6iUyu"], ["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"]]
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 501ms (ActiveRecord: 4.0ms | Allocations: 6048)


Started GET "/" for ::1 at 2021-05-07 23:33:11 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.9ms | Allocations: 437)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 2325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 23.1ms | ActiveRecord: 1.5ms | Allocations: 6247)


Started GET "/cable" for ::1 at 2021-05-07 23:33:11 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:11 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 23:33:14 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.2ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 2.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 22.8ms | Allocations: 4274)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 37.5ms | ActiveRecord: 2.4ms | Allocations: 8702)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel stopped streaming from room_channel_
Started POST "/messages" for ::1 at 2021-05-07 23:33:22 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 21:33:22.198939"], ["updated_at", "2021-05-07 21:33:22.198939"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 8a5305f9-619d-4724-9f13-c2aa0940d23e) to Async(default) with arguments: #<GlobalID:0x00007fe8208ae520 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 34ms (ActiveRecord: 4.7ms | Allocations: 5747)


  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8a5305f9-619d-4724-9f13-c2aa0940d23e] Performing SendMessageJob (Job ID: 8a5305f9-619d-4724-9f13-c2aa0940d23e) from Async(default) enqueued at 2021-05-07T21:33:22Z with arguments: #<GlobalID:0x00007fe81ac7ee08 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [8a5305f9-619d-4724-9f13-c2aa0940d23e]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8a5305f9-619d-4724-9f13-c2aa0940d23e]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [8a5305f9-619d-4724-9f13-c2aa0940d23e]   Rendered messages/_mine.html.erb (Duration: 1.5ms | Allocations: 723)
[ActiveJob] [SendMessageJob] [8a5305f9-619d-4724-9f13-c2aa0940d23e]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [8a5305f9-619d-4724-9f13-c2aa0940d23e] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-07 21:33:22", updated_at: "2021-05-07 21:33:22">}
[ActiveJob] [SendMessageJob] [8a5305f9-619d-4724-9f13-c2aa0940d23e] Performed SendMessageJob (Job ID: 8a5305f9-619d-4724-9f13-c2aa0940d23e) from Async(default) in 5.1ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-07 23:33:22 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 7.3ms | Allocations: 432)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.1ms | Allocations: 767)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 10.4ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.7ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 68.5ms | Allocations: 5281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 114ms (Views: 99.5ms | ActiveRecord: 3.9ms | Allocations: 9735)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:22 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 23:33:22 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:22 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 23:33:26 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 431)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 769)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.9ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 3.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 5136)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 42.2ms | ActiveRecord: 3.2ms | Allocations: 9601)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/rooms" for ::1 at 2021-05-07 23:33:29 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>""}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", ""], ["created_at", "2021-05-07 21:33:29.930688"], ["updated_at", "2021-05-07 21:33:29.930688"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/2
Completed 302 Found in 27ms (ActiveRecord: 3.3ms | Allocations: 5504)


Started GET "/rooms/2" for ::1 at 2021-05-07 23:33:29 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.2ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 56.3ms | Allocations: 10024)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 226ms (Views: 211.2ms | ActiveRecord: 5.3ms | Allocations: 15524)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:30 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 23:33:30 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:30 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/rooms/2" for ::1 at 2021-05-07 23:33:32 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 36.7ms | Allocations: 7923)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 54.8ms | ActiveRecord: 2.3ms | Allocations: 16385)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"2"}
RoomChannel stopped streaming from room_channel_2
Started POST "/rooms" for ::1 at 2021-05-07 23:33:37 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"sala 2"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.4ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "sala 2"], ["created_at", "2021-05-07 21:33:37.929369"], ["updated_at", "2021-05-07 21:33:37.929369"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/3
Completed 302 Found in 25ms (ActiveRecord: 3.5ms | Allocations: 4050)


Started GET "/rooms/3" for ::1 at 2021-05-07 23:33:37 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.9ms | Allocations: 431)
  [1m[36mRoom Load (5.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 62.5ms | Allocations: 5838)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 120ms (Views: 93.4ms | ActiveRecord: 8.4ms | Allocations: 15484)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:38 +0200
Started GET "/cable" for ::1 at 2021-05-07 23:33:38 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:38 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_3
Started GET "/rooms/3" for ::1 at 2021-05-07 23:33:39 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.5ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 34.0ms | Allocations: 5485)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 41.6ms | ActiveRecord: 2.6ms | Allocations: 9910)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"3"}
RoomChannel stopped streaming from room_channel_3
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_3
Started GET "/rooms/1" for ::1 at 2021-05-07 23:33:42 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 13.4ms | Allocations: 1329)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.3ms | Allocations: 1592)
  Rendered messages/_form.html.erb (Duration: 3.7ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 70.9ms | Allocations: 10029)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 124ms (Views: 113.6ms | ActiveRecord: 3.3ms | Allocations: 20436)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/3" for ::1 at 2021-05-07 23:33:44 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 66.7ms | Allocations: 5486)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 72.5ms | ActiveRecord: 4.6ms | Allocations: 9951)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"1\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"RoomChannel","room_id":"1"}]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:74:in `find' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:46:in `remove' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:18:in `execute_command' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_3
Started POST "/messages" for ::1 at 2021-05-07 23:33:47 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"3", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 3], ["created_at", "2021-05-07 21:33:47.616795"], ["updated_at", "2021-05-07 21:33:47.616795"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c) to Async(default) with arguments: #<GlobalID:0x00007fe81c5f1390 @uri=#<URI::GID gid://chat-room/Message/3>>
Redirected to http://localhost:3000/rooms/3
Completed 302 Found in 33ms (ActiveRecord: 3.6ms | Allocations: 9918)


  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c] Performing SendMessageJob (Job ID: e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c) from Async(default) enqueued at 2021-05-07T21:33:47Z with arguments: #<GlobalID:0x00007fe82088e130 @uri=#<URI::GID gid://chat-room/Message/3>>
[ActiveJob] [SendMessageJob] [e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c]   Rendered messages/_mine.html.erb (Duration: 4.5ms | Allocations: 1118)
[ActiveJob] [SendMessageJob] [e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c] [ActionCable] Broadcasting to room_channel_3: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 3, content: "Hola", user_id: 1, room_id: 3, created_at: "2021-05-07 21:33:47", updated_at: "2021-05-07 21:33:47">}
[ActiveJob] [SendMessageJob] [e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c] Performed SendMessageJob (Job ID: e46f233c-9bbe-4275-a5cf-95bfbcbb2e4c) from Async(default) in 18.57ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_3)
Started GET "/rooms/3" for ::1 at 2021-05-07 23:33:47 +0200
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_3)
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 12.1ms | Allocations: 769)
  Rendered messages/_form.html.erb (Duration: 2.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 104.8ms | Allocations: 6349)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 146ms (Views: 108.6ms | ActiveRecord: 5.6ms | Allocations: 10958)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:48 +0200
RoomChannel stopped streaming from room_channel_3
Started GET "/cable" for ::1 at 2021-05-07 23:33:48 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:33:48 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_3
Started GET "/rooms/3" for ::1 at 2021-05-07 23:33:50 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.6ms | Allocations: 431)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 66.5ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 7.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 150.7ms | Allocations: 6345)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 198ms (Views: 187.2ms | ActiveRecord: 3.3ms | Allocations: 10768)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"3"}
RoomChannel stopped streaming from room_channel_3
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:34:38 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "f8d06c42885bebcab5f4f81f37dcca278de3ec26"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "4cff5ef7e0a70a84b71f833d483646cd59c30585"], ["updated_at", "2021-05-07 21:34:38.997808"], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 38ms (ActiveRecord: 2.6ms | Allocations: 5634)


Started GET "/sign_in" for ::1 at 2021-05-07 23:34:39 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.2ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.0ms | Allocations: 3173)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:34:39 +0200
Started GET "/passwords/new" for ::1 at 2021-05-07 23:34:40 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 623)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.5ms | ActiveRecord: 0.0ms | Allocations: 3978)


Started DELETE "/sign_out" for ::1 at 2021-05-07 23:36:06 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "c48b207fbbf6559a6ac866332933c166ec6ac9ca"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "32d8cf9d6954d8ad867e03881debc7b1cad1046c"], ["updated_at", "2021-05-07 21:36:06.179350"], ["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 16ms (ActiveRecord: 2.4ms | Allocations: 5607)


Started GET "/sign_in" for ::1 at 2021-05-07 23:36:06 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.6ms | Allocations: 528)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 622)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 3221)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:36:06 +0200
RoomChannel stopped streaming from room_channel_3
Started GET "/" for ::1 at 2021-05-07 23:36:15 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 2869)


Started GET "/sign_in" for ::1 at 2021-05-07 23:36:15 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.8ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 30.3ms | ActiveRecord: 0.0ms | Allocations: 3178)


Started GET "/packs/js/application-0bc650953d3b0ba0cbdd.js" for ::1 at 2021-05-07 23:36:15 +0200
  
ActionController::RoutingError (No route matches [GET] "/packs/js/application-0bc650953d3b0ba0cbdd.js"):
  
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/sign_in" for ::1 at 2021-05-07 23:36:23 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.1ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 624)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.0ms | Allocations: 3203)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:36:51.950655"], ["updated_at", "2021-05-07 21:36:51.950655"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:36:51.959127"], ["updated_at", "2021-05-07 21:36:51.959127"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (17.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 21:36:52.049530"], ["updated_at", "2021-05-07 21:36:52.049530"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 21:36:52.072680"], ["key", "environment"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 21:36:52.080842"], ["updated_at", "2021-05-07 21:36:52.080842"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-07 23:38:20 +0200
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 0.0ms | Allocations: 8595)


Started GET "/sign_in" for ::1 at 2021-05-07 23:38:20 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 31.4ms | Allocations: 1575)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 47.0ms | Allocations: 2786)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 216ms (Views: 205.2ms | ActiveRecord: 0.0ms | Allocations: 14714)


Started POST "/session" for ::1 at 2021-05-07 23:38:38 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"dasohfao@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dasohfao@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.3ms | Allocations: 522)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 722ms (Views: 48.6ms | ActiveRecord: 4.8ms | Allocations: 20655)


Started GET "/sign_in" for ::1 at 2021-05-07 23:38:40 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 8.7ms | Allocations: 517)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 612)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 38.1ms | ActiveRecord: 0.0ms | Allocations: 3163)


Started GET "/sign_up" for ::1 at 2021-05-07 23:38:42 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 5.1ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 1425)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 43.2ms | ActiveRecord: 0.0ms | Allocations: 4876)


Started POST "/users" for ::1 at 2021-05-07 23:38:49 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 21:38:49.926621"], ["updated_at", "2021-05-07 21:38:49.926621"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$Xh3xaLKQlJzi.DhHorfAVOc/kG8d5/MEU1L92z8X7wxPllLVZ/38K"], ["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 440ms (ActiveRecord: 4.7ms | Allocations: 6409)


Started GET "/" for ::1 at 2021-05-07 23:38:49 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 10.4ms | Allocations: 840)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 46.2ms | Allocations: 5173)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 102ms (Views: 73.7ms | ActiveRecord: 3.6ms | Allocations: 11318)


Started GET "/cable" for ::1 at 2021-05-07 23:38:50 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:38:50 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-07 23:39:07 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (3.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 1"], ["created_at", "2021-05-07 21:39:07.424723"], ["updated_at", "2021-05-07 21:39:07.424723"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 22ms (ActiveRecord: 6.7ms | Allocations: 4181)


Started GET "/rooms/1" for ::1 at 2021-05-07 23:39:07 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (7.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.8ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 36.8ms | Allocations: 3042)
  Rendered rooms/index.html.erb within layouts/application (Duration: 245.7ms | Allocations: 20528)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 316ms (Views: 275.2ms | ActiveRecord: 11.9ms | Allocations: 26863)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:39:07 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-07 23:39:07 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:39:07 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 23:39:10 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 437)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 48.7ms | Allocations: 4448)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 53.1ms | ActiveRecord: 4.1ms | Allocations: 8886)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started POST "/rooms" for ::1 at 2021-05-07 23:39:17 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 2"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.9ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 2"], ["created_at", "2021-05-07 21:39:17.462515"], ["updated_at", "2021-05-07 21:39:17.462515"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/2
Completed 302 Found in 17ms (ActiveRecord: 2.6ms | Allocations: 4050)


Started GET "/rooms/2" for ::1 at 2021-05-07 23:39:17 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.5ms | Allocations: 640)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 35.7ms | Allocations: 6999)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 58.8ms | ActiveRecord: 1.9ms | Allocations: 16866)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:39:17 +0200
Started GET "/cable" for ::1 at 2021-05-07 23:39:17 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:39:17 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/rooms/2" for ::1 at 2021-05-07 23:39:19 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 4437)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.7ms | ActiveRecord: 1.2ms | Allocations: 8861)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"2"}
RoomChannel stopped streaming from room_channel_2
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/sign_in" for ::1 at 2021-05-07 23:39:24 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 8.8ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.0ms | Allocations: 3200)


Started GET "/sign_up" for ::1 at 2021-05-07 23:39:26 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 0.8ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 51.4ms | ActiveRecord: 0.0ms | Allocations: 3354)


Started POST "/users" for ::1 at 2021-05-07 23:39:34 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"adrian@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 21:39:34.850143"], ["updated_at", "2021-05-07 21:39:34.850143"], ["email", "adrian@gmail.com"], ["encrypted_password", "$2a$12$5gUtPSAAPSE.way1EVPAIuPtzzigm6jhrGknlXq4oPfesh3a8QZgm"], ["remember_token", "946d0ba2a96981959e0509e558b83fbc56c67dcd"]]
  [1m[35m (3.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 453ms (ActiveRecord: 4.9ms | Allocations: 8137)


Started GET "/" for ::1 at 2021-05-07 23:39:34 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "946d0ba2a96981959e0509e558b83fbc56c67dcd"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 436)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (22.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 125.4ms | Allocations: 3334)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 163ms (Views: 128.4ms | ActiveRecord: 24.3ms | Allocations: 7252)


Started GET "/cable" for ::1 at 2021-05-07 23:39:35 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:39:35 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-07 23:39:38 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "946d0ba2a96981959e0509e558b83fbc56c67dcd"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 431)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 4437)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 30.0ms | ActiveRecord: 1.8ms | Allocations: 8854)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 23:39:42 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "946d0ba2a96981959e0509e558b83fbc56c67dcd"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (2.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-07 21:39:42.295533"], ["updated_at", "2021-05-07 21:39:42.295533"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (6.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8) to Async(default) with arguments: #<GlobalID:0x00007ff0e1cafee8 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 302 Found in 138ms (ActiveRecord: 9.2ms | Allocations: 12167)


  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8] Performing SendMessageJob (Job ID: 1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8) from Async(default) enqueued at 2021-05-07T21:39:42Z with arguments: #<GlobalID:0x00007ff0e1cf4c78 @uri=#<URI::GID gid://chat-room/Message/1>>
[ActiveJob] [SendMessageJob] [1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8]   [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8]   Rendered messages/_mine.html.erb (Duration: 16.7ms | Allocations: 2016)
[ActiveJob] [SendMessageJob] [1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8]   Rendered messages/_theirs.html.erb (Duration: 1.4ms | Allocations: 374)
[ActiveJob] [SendMessageJob] [1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-07 21:39:42", updated_at: "2021-05-07 21:39:42">}
Started GET "/rooms/1" for ::1 at 2021-05-07 23:39:42 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "946d0ba2a96981959e0509e558b83fbc56c67dcd"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
[ActiveJob] [SendMessageJob] [1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8] Performed SendMessageJob (Job ID: 1ef1f9d0-1ba2-43c3-bd65-35b1f4b3d0c8) from Async(default) in 62.69ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.2ms | Allocations: 436)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 13.6ms | Allocations: 938)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 82.2ms | Allocations: 5778)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 132ms (Views: 102.2ms | ActiveRecord: 5.4ms | Allocations: 13724)


Started GET "/cable" for ::1 at 2021-05-07 23:39:42 +0200
Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:39:42 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:39:42 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-07 23:39:55 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.8ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 32.5ms | Allocations: 5302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 60.0ms | ActiveRecord: 2.4ms | Allocations: 21160)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"2"}
RoomChannel stopped streaming from room_channel_2
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-07 23:40:07 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola adrian"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola adrian"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 21:40:07.185675"], ["updated_at", "2021-05-07 21:40:07.185675"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 52e4402e-02fc-4274-8ee5-2c027df274b8) to Async(default) with arguments: #<GlobalID:0x00007ff0de581d18 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 28ms (ActiveRecord: 3.0ms | Allocations: 5543)


  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [52e4402e-02fc-4274-8ee5-2c027df274b8] Performing SendMessageJob (Job ID: 52e4402e-02fc-4274-8ee5-2c027df274b8) from Async(default) enqueued at 2021-05-07T21:40:07Z with arguments: #<GlobalID:0x00007ff0de5ba1e0 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [52e4402e-02fc-4274-8ee5-2c027df274b8]   [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [52e4402e-02fc-4274-8ee5-2c027df274b8]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [52e4402e-02fc-4274-8ee5-2c027df274b8]   Rendered messages/_mine.html.erb (Duration: 8.6ms | Allocations: 723)
[ActiveJob] [SendMessageJob] [52e4402e-02fc-4274-8ee5-2c027df274b8]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [52e4402e-02fc-4274-8ee5-2c027df274b8] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola adrian\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola adrian\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola adrian", user_id: 1, room_id: 1, created_at: "2021-05-07 21:40:07", updated_at: "2021-05-07 21:40:07">}
[ActiveJob] [SendMessageJob] [52e4402e-02fc-4274-8ee5-2c027df274b8] Performed SendMessageJob (Job ID: 52e4402e-02fc-4274-8ee5-2c027df274b8) from Async(default) in 25.36ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola adrian\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div c... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola adrian\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div c... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-07 23:40:07 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 432)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 12.1ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.6ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 3.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 64.7ms | Allocations: 6303)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 128ms (Views: 105.1ms | ActiveRecord: 5.8ms | Allocations: 10760)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:07 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 23:40:07 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:07 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/rooms" for ::1 at 2021-05-07 23:40:19 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 3"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.9ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 3"], ["created_at", "2021-05-07 21:40:19.693983"], ["updated_at", "2021-05-07 21:40:19.693983"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/3
Completed 302 Found in 15ms (ActiveRecord: 3.9ms | Allocations: 4033)


Started GET "/rooms/3" for ::1 at 2021-05-07 23:40:19 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (2.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 8.8ms | Allocations: 431)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 89.5ms | Allocations: 5489)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 121ms (Views: 104.6ms | ActiveRecord: 6.7ms | Allocations: 9929)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:19 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-07 23:40:20 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:20 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_3
Started POST "/rooms" for ::1 at 2021-05-07 23:40:22 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 4"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.7ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 4"], ["created_at", "2021-05-07 21:40:22.680339"], ["updated_at", "2021-05-07 21:40:22.680339"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/4
Completed 302 Found in 16ms (ActiveRecord: 2.4ms | Allocations: 4027)


Started GET "/rooms/4" for ::1 at 2021-05-07 23:40:22 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 74.0ms | Allocations: 6512)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 118ms (Views: 96.7ms | ActiveRecord: 3.3ms | Allocations: 10946)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:22 +0200
RoomChannel stopped streaming from room_channel_3
Started GET "/cable" for ::1 at 2021-05-07 23:40:22 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:22 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_4
Started POST "/rooms" for ::1 at 2021-05-07 23:40:26 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 4"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.5ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 4"], ["created_at", "2021-05-07 21:40:26.121877"], ["updated_at", "2021-05-07 21:40:26.121877"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/5
Completed 302 Found in 15ms (ActiveRecord: 1.9ms | Allocations: 4024)


Started GET "/rooms/5" for ::1 at 2021-05-07 23:40:26 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 75.8ms | Allocations: 11836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 126ms (Views: 96.5ms | ActiveRecord: 4.9ms | Allocations: 20772)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:26 +0200
RoomChannel stopped streaming from room_channel_4
Started GET "/cable" for ::1 at 2021-05-07 23:40:26 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:26 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_5
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:40:38 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "e4596a82df1771684d3eed3a6671c2b2508a42f9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["updated_at", "2021-05-07 21:40:38.631257"], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 21ms (ActiveRecord: 3.0ms | Allocations: 5600)


Started GET "/sign_in" for ::1 at 2021-05-07 23:40:38 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.5ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 21.2ms | ActiveRecord: 0.0ms | Allocations: 3176)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:40:38 +0200
RoomChannel stopped streaming from room_channel_5
Started GET "/" for ::1 at 2021-05-07 23:45:25 +0200
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "946d0ba2a96981959e0509e558b83fbc56c67dcd"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 57.3ms | Allocations: 5745)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (48.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 229.3ms | Allocations: 22265)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 339ms (Views: 208.9ms | ActiveRecord: 54.2ms | Allocations: 38014)


Started GET "/cable" for ::1 at 2021-05-07 23:45:26 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:45:26 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-07 23:45:28 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "946d0ba2a96981959e0509e558b83fbc56c67dcd"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "fb41a3a492f5c664319e69ae318e7ef2c26b7b6e"], ["updated_at", "2021-05-07 21:45:28.306194"], ["id", 2]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 49ms (ActiveRecord: 7.3ms | Allocations: 5825)


Started GET "/sign_in" for ::1 at 2021-05-07 23:45:28 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 31.9ms | Allocations: 920)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 40.7ms | Allocations: 1375)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 83.3ms | ActiveRecord: 0.0ms | Allocations: 5058)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-07 23:45:28 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-07 23:45:37 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 472ms (ActiveRecord: 5.2ms | Allocations: 1764)


Started GET "/" for ::1 at 2021-05-07 23:45:38 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.3ms | Allocations: 439)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 132.2ms | Allocations: 7023)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 207ms (Views: 171.1ms | ActiveRecord: 6.6ms | Allocations: 20954)


Started GET "/cable" for ::1 at 2021-05-07 23:45:38 +0200
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-07 23:45:38 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/" for ::1 at 2021-05-08 01:04:55 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 497)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 45.9ms | Allocations: 11384)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 60.1ms | ActiveRecord: 3.1ms | Allocations: 22300)


Started GET "/cable" for ::1 at 2021-05-08 01:04:55 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:04:55 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 01:04:58 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.0ms | Allocations: 1117)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 15.5ms | Allocations: 735)
  Rendered rooms/index.html.erb within layouts/application (Duration: 101.5ms | Allocations: 15256)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 126ms (Views: 106.4ms | ActiveRecord: 4.5ms | Allocations: 19706)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 01:05:03 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"asas"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "asas"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 23:05:03.126703"], ["updated_at", "2021-05-07 23:05:03.126703"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 99e545a6-787b-4199-9cff-a1240257f747) to Async(default) with arguments: #<GlobalID:0x00007f97395ae600 @uri=#<URI::GID gid://chat-room/Message/3>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 62ms (ActiveRecord: 3.4ms | Allocations: 9944)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [99e545a6-787b-4199-9cff-a1240257f747] Performing SendMessageJob (Job ID: 99e545a6-787b-4199-9cff-a1240257f747) from Async(default) enqueued at 2021-05-07T23:05:03Z with arguments: #<GlobalID:0x00007f9739617768 @uri=#<URI::GID gid://chat-room/Message/3>>
[ActiveJob] [SendMessageJob] [99e545a6-787b-4199-9cff-a1240257f747]   [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [99e545a6-787b-4199-9cff-a1240257f747]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [99e545a6-787b-4199-9cff-a1240257f747]   Rendered messages/_mine.html.erb (Duration: 5.9ms | Allocations: 881)
Started GET "/rooms/1" for ::1 at 2021-05-08 01:05:03 +0200
[ActiveJob] [SendMessageJob] [99e545a6-787b-4199-9cff-a1240257f747]   Rendered messages/_theirs.html.erb (Duration: 1.3ms | Allocations: 280)
[ActiveJob] [SendMessageJob] [99e545a6-787b-4199-9cff-a1240257f747] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asas\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asas\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 3, content: "asas", user_id: 1, room_id: 1, created_at: "2021-05-07 23:05:03", updated_at: "2021-05-07 23:05:03">}
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.5ms | Allocations: 440)
  [1m[36mRoom Load (3.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
[ActiveJob] [SendMessageJob] [99e545a6-787b-4199-9cff-a1240257f747] Performed SendMessageJob (Job ID: 99e545a6-787b-4199-9cff-a1240257f747) from Async(default) in 90.87ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asas\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 767)
  [1m[36mCACHE User Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 711)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 73.4ms | Allocations: 11217)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 78.0ms | ActiveRecord: 7.1ms | Allocations: 15660)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:03 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 01:05:03 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:03 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 01:05:07 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"osas"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "osas"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-07 23:05:07.798978"], ["updated_at", "2021-05-07 23:05:07.798978"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: ad7f8115-f886-4b11-9e10-e330f8b89775) to Async(default) with arguments: #<GlobalID:0x00007f97396b9ef0 @uri=#<URI::GID gid://chat-room/Message/4>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 19ms (ActiveRecord: 3.8ms | Allocations: 5531)


  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [ad7f8115-f886-4b11-9e10-e330f8b89775] Performing SendMessageJob (Job ID: ad7f8115-f886-4b11-9e10-e330f8b89775) from Async(default) enqueued at 2021-05-07T23:05:07Z with arguments: #<GlobalID:0x00007f9738340b08 @uri=#<URI::GID gid://chat-room/Message/4>>
[ActiveJob] [SendMessageJob] [ad7f8115-f886-4b11-9e10-e330f8b89775]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [ad7f8115-f886-4b11-9e10-e330f8b89775]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [ad7f8115-f886-4b11-9e10-e330f8b89775]   Rendered messages/_mine.html.erb (Duration: 3.4ms | Allocations: 723)
[ActiveJob] [SendMessageJob] [ad7f8115-f886-4b11-9e10-e330f8b89775]   Rendered messages/_theirs.html.erb (Duration: 2.5ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [ad7f8115-f886-4b11-9e10-e330f8b89775] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      osas\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      osas\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 4, content: "osas", user_id: 1, room_id: 1, created_at: "2021-05-07 23:05:07", updated_at: "2021-05-07 23:05:07">}
[ActiveJob] [SendMessageJob] [ad7f8115-f886-4b11-9e10-e330f8b89775] Performed SendMessageJob (Job ID: ad7f8115-f886-4b11-9e10-e330f8b89775) from Async(default) in 30.15ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      osas\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-08 01:05:07 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 48.1ms | Allocations: 10984)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 50.1ms | ActiveRecord: 6.5ms | Allocations: 15442)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:07 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 01:05:08 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:08 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started DELETE "/sign_out" for ::1 at 2021-05-08 01:05:11 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a180f9557a87218b75edb590a2b3aef780c0b845"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "1671948f7f515fc4dca7612bb8e80c5c9b9a4d89"], ["updated_at", "2021-05-07 23:05:11.524730"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 21ms (ActiveRecord: 4.3ms | Allocations: 5643)


Started GET "/sign_in" for ::1 at 2021-05-08 01:05:11 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.5ms | Allocations: 534)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms | Allocations: 3338)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:11 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-08 01:05:18 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 335)


Started GET "/sign_in" for ::1 at 2021-05-08 01:05:18 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.2ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 3185)


Started POST "/session" for ::1 at 2021-05-08 01:05:27 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.6ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1167)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 397ms (Views: 22.8ms | ActiveRecord: 0.7ms | Allocations: 18654)


Started POST "/session" for ::1 at 2021-05-08 01:05:29 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 6.5ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1095)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 447ms (Views: 48.8ms | ActiveRecord: 0.4ms | Allocations: 27778)


Started GET "/sign_up" for ::1 at 2021-05-08 01:05:31 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 7.1ms | Allocations: 501)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 15.9ms | Allocations: 1408)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.9ms | ActiveRecord: 0.0ms | Allocations: 4854)


Started POST "/users" for ::1 at 2021-05-08 01:05:37 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussaama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussaama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 23:05:38.175973"], ["updated_at", "2021-05-07 23:05:38.175973"], ["email", "oussaama@gmail.com"], ["encrypted_password", "$2a$12$RTPKRcpqR15qqnQrp8DUS.3sk4UkVJzi9O.jxZzpduFdC6UGd/JZG"], ["remember_token", "beb0a79525aba7976adf5dbedc98926135af4784"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 367ms (ActiveRecord: 3.1ms | Allocations: 6199)


Started GET "/" for ::1 at 2021-05-08 01:05:38 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "beb0a79525aba7976adf5dbedc98926135af4784"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 441)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 26.3ms | Allocations: 6472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 38.7ms | ActiveRecord: 1.7ms | Allocations: 10381)


Started GET "/cable" for ::1 at 2021-05-08 01:05:38 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:38 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 01:05:39 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "beb0a79525aba7976adf5dbedc98926135af4784"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.2ms | Allocations: 846)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.9ms | Allocations: 765)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 2.4ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 68.1ms | Allocations: 25414)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 77.2ms | ActiveRecord: 2.8ms | Allocations: 29833)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 01:05:41 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"asa"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "beb0a79525aba7976adf5dbedc98926135af4784"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "asa"], ["user_id", 3], ["room_id", 1], ["created_at", "2021-05-07 23:05:41.602428"], ["updated_at", "2021-05-07 23:05:41.602428"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (3.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 8cd17768-6aa9-4895-a61e-240d0d1165e7) to Async(default) with arguments: #<GlobalID:0x00007f9738146f50 @uri=#<URI::GID gid://chat-room/Message/5>>
Redirected to http://localhost:3000/rooms/1
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8cd17768-6aa9-4895-a61e-240d0d1165e7] Performing SendMessageJob (Job ID: 8cd17768-6aa9-4895-a61e-240d0d1165e7) from Async(default) enqueued at 2021-05-07T23:05:41Z with arguments: #<GlobalID:0x00007f973930e1c0 @uri=#<URI::GID gid://chat-room/Message/5>>
Completed 302 Found in 55ms (ActiveRecord: 4.9ms | Allocations: 5820)


[ActiveJob] [SendMessageJob] [8cd17768-6aa9-4895-a61e-240d0d1165e7]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8cd17768-6aa9-4895-a61e-240d0d1165e7]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [8cd17768-6aa9-4895-a61e-240d0d1165e7]   Rendered messages/_mine.html.erb (Duration: 5.7ms | Allocations: 1077)
[ActiveJob] [SendMessageJob] [8cd17768-6aa9-4895-a61e-240d0d1165e7]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [8cd17768-6aa9-4895-a61e-240d0d1165e7] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asa\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asa\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 5, content: "asa", user_id: 3, room_id: 1, created_at: "2021-05-07 23:05:41", updated_at: "2021-05-07 23:05:41">}
[ActiveJob] [SendMessageJob] [8cd17768-6aa9-4895-a61e-240d0d1165e7] Performed SendMessageJob (Job ID: 8cd17768-6aa9-4895-a61e-240d0d1165e7) from Async(default) in 10.85ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      asa\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"c... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-08 01:05:41 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "beb0a79525aba7976adf5dbedc98926135af4784"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.6ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 3]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 4]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 5]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 708)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 57.6ms | Allocations: 11693)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 60.6ms | ActiveRecord: 4.0ms | Allocations: 16111)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:41 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 01:05:41 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:41 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:05:43 +0200
RoomChannel stopped streaming from room_channel_1
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 23:28:14.426075"], ["updated_at", "2021-05-07 23:28:14.426075"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 23:28:14.437146"], ["updated_at", "2021-05-07 23:28:14.437146"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 23:28:14.536322"], ["updated_at", "2021-05-07 23:28:14.536322"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-07 23:28:14.543643"], ["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-07 23:28:14.550059"], ["updated_at", "2021-05-07 23:28:14.550059"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-08 01:34:59 +0200
  [1m[35m (5.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 33ms (ActiveRecord: 0.0ms | Allocations: 4513)


Started GET "/sign_in" for ::1 at 2021-05-08 01:35:00 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 16.6ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 24.2ms | Allocations: 1921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 69.5ms | ActiveRecord: 0.0ms | Allocations: 6734)


Started POST "/session" for ::1 at 2021-05-08 01:35:22 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.0ms | Allocations: 522)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1165)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 687ms (Views: 55.5ms | ActiveRecord: 7.3ms | Allocations: 20994)


Started GET "/sign_up" for ::1 at 2021-05-08 01:35:26 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 4.7ms | Allocations: 1781)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 17.8ms | Allocations: 3986)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 41.3ms | ActiveRecord: 0.0ms | Allocations: 11517)


Started POST "/users" for ::1 at 2021-05-08 01:35:34 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (13.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 23:35:34.681428"], ["updated_at", "2021-05-07 23:35:34.681428"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$tZkau7UjmJ5nmGEXK1xs3.TxsT.ks8h8swgOBG2rG/BcBqCcTNbHu"], ["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 639ms (ActiveRecord: 15.9ms | Allocations: 6784)


Started GET "/" for ::1 at 2021-05-08 01:35:34 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 12.5ms | Allocations: 1536)
  [1m[36mRoom Load (2.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 85.5ms | Allocations: 7553)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 186ms (Views: 120.9ms | ActiveRecord: 6.8ms | Allocations: 20133)


Started GET "/cable" for ::1 at 2021-05-08 01:35:35 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:35:35 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-08 01:35:47 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.9ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room 1"], ["created_at", "2021-05-07 23:35:47.598549"], ["updated_at", "2021-05-07 23:35:47.598549"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 25ms (ActiveRecord: 2.9ms | Allocations: 4181)


Started GET "/rooms/1" for ::1 at 2021-05-08 01:35:47 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 5.8ms | Allocations: 740)
  Rendered rooms/index.html.erb within layouts/application (Duration: 124.2ms | Allocations: 13934)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 179ms (Views: 139.7ms | ActiveRecord: 4.5ms | Allocations: 18404)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:35:47 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-08 01:35:47 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:35:47 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 01:35:49 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 437)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 23.6ms | Allocations: 6642)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 55.9ms | ActiveRecord: 2.2ms | Allocations: 24861)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/rooms" for ::1 at 2021-05-08 01:35:53 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room 2"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.5ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room 2"], ["created_at", "2021-05-07 23:35:53.639784"], ["updated_at", "2021-05-07 23:35:53.639784"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/2
Completed 302 Found in 17ms (ActiveRecord: 3.3ms | Allocations: 4049)


Started GET "/rooms/2" for ::1 at 2021-05-08 01:35:53 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 6.8ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 4440)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 48.9ms | ActiveRecord: 1.8ms | Allocations: 8874)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:35:53 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 01:35:53 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:35:53 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/rooms/2" for ::1 at 2021-05-08 01:35:54 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[36mRoom Load (1.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.2ms | Allocations: 431)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 4437)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 37.7ms | ActiveRecord: 3.0ms | Allocations: 8863)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"2"}
RoomChannel stopped streaming from room_channel_2
Started POST "/messages" for ::1 at 2021-05-08 01:35:58 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"2", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (8.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 2], ["created_at", "2021-05-07 23:35:58.704657"], ["updated_at", "2021-05-07 23:35:58.704657"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: c9308fb3-b644-468c-b9ac-beaa1faca22b) to Async(default) with arguments: #<GlobalID:0x00007ffda62b4570 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/2
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 302 Found in 176ms (ActiveRecord: 13.6ms | Allocations: 11257)


  [1m[36mMessage Load (2.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [c9308fb3-b644-468c-b9ac-beaa1faca22b] Performing SendMessageJob (Job ID: c9308fb3-b644-468c-b9ac-beaa1faca22b) from Async(default) enqueued at 2021-05-07T23:35:58Z with arguments: #<GlobalID:0x00007ffda2b8b990 @uri=#<URI::GID gid://chat-room/Message/1>>
[ActiveJob] [SendMessageJob] [c9308fb3-b644-468c-b9ac-beaa1faca22b]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [c9308fb3-b644-468c-b9ac-beaa1faca22b]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [c9308fb3-b644-468c-b9ac-beaa1faca22b]   Rendered messages/_mine.html.erb (Duration: 15.4ms | Allocations: 1049)
[ActiveJob] [SendMessageJob] [c9308fb3-b644-468c-b9ac-beaa1faca22b]   Rendered messages/_theirs.html.erb (Duration: 6.9ms | Allocations: 190)
[ActiveJob] [SendMessageJob] [c9308fb3-b644-468c-b9ac-beaa1faca22b] [ActionCable] Broadcasting to room_channel_2: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 1, room_id: 2, created_at: "2021-05-07 23:35:58", updated_at: "2021-05-07 23:35:58">}
[ActiveJob] [SendMessageJob] [c9308fb3-b644-468c-b9ac-beaa1faca22b] Performed SendMessageJob (Job ID: c9308fb3-b644-468c-b9ac-beaa1faca22b) from Async(default) in 46.7ms
Started GET "/rooms/2" for ::1 at 2021-05-08 01:35:58 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 11.8ms | Allocations: 436)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 9.6ms | Allocations: 917)
  Rendered messages/_form.html.erb (Duration: 5.4ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 69.7ms | Allocations: 5758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 142ms (Views: 118.1ms | ActiveRecord: 8.6ms | Allocations: 10214)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:35:59 +0200
Started GET "/cable" for ::1 at 2021-05-08 01:35:59 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:35:59 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/" for ::1 at 2021-05-08 01:36:20 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 306)


Started GET "/sign_in" for ::1 at 2021-05-08 01:36:20 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 13.1ms | Allocations: 536)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 13.6ms | Allocations: 630)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms | Allocations: 3196)


Started GET "/sign_up" for ::1 at 2021-05-08 01:36:26 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.7ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 730)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.0ms | Allocations: 3373)


Started POST "/users" for ::1 at 2021-05-08 01:36:36 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"ADRIAN@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-07 23:36:37.162631"], ["updated_at", "2021-05-07 23:36:37.162631"], ["email", "adrian@gmail.com"], ["encrypted_password", "$2a$12$Lu2bVco8QFboaB9QVCQZEOW/mWAfj7Cch3xXCfgNe6QUfT3HJH0iO"], ["remember_token", "05ae836f123fe69323561df8075d8c53a1cf3e86"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 597ms (ActiveRecord: 7.8ms | Allocations: 8732)


Started GET "/" for ::1 at 2021-05-08 01:36:37 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "05ae836f123fe69323561df8075d8c53a1cf3e86"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.4ms | Allocations: 437)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 58.6ms | Allocations: 3350)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 137ms (Views: 89.2ms | ActiveRecord: 4.8ms | Allocations: 7411)


Started GET "/cable" for ::1 at 2021-05-08 01:36:37 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:36:37 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 01:36:39 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "05ae836f123fe69323561df8075d8c53a1cf3e86"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.1ms | Allocations: 431)
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.8ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 39.1ms | Allocations: 4449)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 52.0ms | ActiveRecord: 2.0ms | Allocations: 8870)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/2" for ::1 at 2021-05-08 01:36:40 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "05ae836f123fe69323561df8075d8c53a1cf3e86"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.3ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 60.1ms | Allocations: 7705)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 129ms (Views: 99.0ms | ActiveRecord: 7.3ms | Allocations: 14259)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started POST "/messages" for ::1 at 2021-05-08 01:36:46 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"2", "content"=>"Hola "}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "05ae836f123fe69323561df8075d8c53a1cf3e86"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola "], ["user_id", 2], ["room_id", 2], ["created_at", "2021-05-07 23:36:46.454248"], ["updated_at", "2021-05-07 23:36:46.454248"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 76ce7575-d260-4935-978d-6e3f5551b172) to Async(default) with arguments: #<GlobalID:0x00007ffda64eba50 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/2
Completed 302 Found in 58ms (ActiveRecord: 4.5ms | Allocations: 11677)


  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [76ce7575-d260-4935-978d-6e3f5551b172] Performing SendMessageJob (Job ID: 76ce7575-d260-4935-978d-6e3f5551b172) from Async(default) enqueued at 2021-05-07T23:36:46Z with arguments: #<GlobalID:0x00007ffda6509f00 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [76ce7575-d260-4935-978d-6e3f5551b172]   [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [76ce7575-d260-4935-978d-6e3f5551b172]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [76ce7575-d260-4935-978d-6e3f5551b172]   Rendered messages/_mine.html.erb (Duration: 11.9ms | Allocations: 744)
[ActiveJob] [SendMessageJob] [76ce7575-d260-4935-978d-6e3f5551b172]   Rendered messages/_theirs.html.erb (Duration: 0.2ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [76ce7575-d260-4935-978d-6e3f5551b172] [ActionCable] Broadcasting to room_channel_2: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola \n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola \n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola ", user_id: 2, room_id: 2, created_at: "2021-05-07 23:36:46", updated_at: "2021-05-07 23:36:46">}
[ActiveJob] [SendMessageJob] [76ce7575-d260-4935-978d-6e3f5551b172] Performed SendMessageJob (Job ID: 76ce7575-d260-4935-978d-6e3f5551b172) from Async(default) in 38.83ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola \n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\... (via streamed from room_channel_2)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola \n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\... (via streamed from room_channel_2)
Started GET "/rooms/2" for ::1 at 2021-05-08 01:36:46 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "05ae836f123fe69323561df8075d8c53a1cf3e86"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.4ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 766)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 5.6ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 62.2ms | Allocations: 6158)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 121ms (Views: 86.3ms | ActiveRecord: 3.5ms | Allocations: 10577)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:36:46 +0200
RoomChannel stopped streaming from room_channel_2
Started GET "/cable" for ::1 at 2021-05-08 01:36:46 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:36:46 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/rooms/2" for ::1 at 2021-05-08 01:36:50 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.2ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 8.2ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 1.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 40.2ms | Allocations: 6157)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 52.9ms | ActiveRecord: 3.5ms | Allocations: 10576)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"2"}
RoomChannel stopped streaming from room_channel_2
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started DELETE "/sign_out" for ::1 at 2021-05-08 01:37:02 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "05ae836f123fe69323561df8075d8c53a1cf3e86"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "97cd03aba6e23921ae17d73d1db808bf9ca19d80"], ["updated_at", "2021-05-07 23:37:02.111042"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 23ms (ActiveRecord: 3.3ms | Allocations: 5618)


Started GET "/sign_in" for ::1 at 2021-05-08 01:37:02 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 10.8ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 16.4ms | Allocations: 719)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 65.6ms | ActiveRecord: 0.0ms | Allocations: 4253)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:37:02 +0200
RoomChannel stopped streaming from room_channel_2
Started GET "/passwords/new" for ::1 at 2021-05-08 01:37:05 +0200
Processing by Clearance::PasswordsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/passwords/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 625)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 29.1ms | ActiveRecord: 0.0ms | Allocations: 3957)


Started GET "/sign_out" for ::1 at 2021-05-08 01:43:23 +0200
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/sign_out"):
  
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2021-05-08 01:43:28 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 33.0ms | Allocations: 2702)
  [1m[36mRoom Load (5.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 344.6ms | Allocations: 14707)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 497ms (Views: 346.6ms | ActiveRecord: 40.9ms | Allocations: 28993)


Started GET "/cable" for ::1 at 2021-05-08 01:43:28 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 01:43:28 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-08 01:43:30 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "fdf2e11c93c41828ca7617b284cc9204e8675114"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "ccc9c91ac3d092593bde582dce6fbbd8d3b602b2"], ["updated_at", "2021-05-07 23:43:30.490307"], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 54ms (ActiveRecord: 4.9ms | Allocations: 5834)


Started GET "/sign_in" for ::1 at 2021-05-08 01:43:30 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 10.9ms | Allocations: 920)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 14.3ms | Allocations: 1380)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 66.0ms | ActiveRecord: 0.0ms | Allocations: 5067)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 01:43:30 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/" for ::1 at 2021-05-08 02:58:00 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 411)


Started GET "/sign_in" for ::1 at 2021-05-08 02:58:00 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.6ms | Allocations: 520)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 614)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms | Allocations: 3187)


Started GET "/" for ::1 at 2021-05-08 13:08:25 +0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.0ms | Allocations: 416)


Started GET "/sign_in" for ::1 at 2021-05-08 13:08:25 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.5ms | Allocations: 520)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 614)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 41.6ms | ActiveRecord: 0.0ms | Allocations: 3191)


Started GET "/" for ::1 at 2021-05-08 13:08:27 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 402)


Started GET "/sign_in" for ::1 at 2021-05-08 13:08:27 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.8ms | Allocations: 519)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 614)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 20.8ms | ActiveRecord: 0.0ms | Allocations: 3195)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 11:08:54.550623"], ["updated_at", "2021-05-08 11:08:54.550623"]]
  [1m[35m (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 11:08:54.570741"], ["updated_at", "2021-05-08 11:08:54.570741"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 11:08:54.660796"], ["updated_at", "2021-05-08 11:08:54.660796"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-08 11:08:54.667731"], ["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 11:08:54.674776"], ["updated_at", "2021-05-08 11:08:54.674776"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-08 13:13:52 +0200
  [1m[35m (5.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 74ms (ActiveRecord: 0.0ms | Allocations: 9665)


Started GET "/sign_in" for ::1 at 2021-05-08 13:13:52 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 14.2ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 18.7ms | Allocations: 1924)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 60.3ms | ActiveRecord: 0.0ms | Allocations: 6739)


Started GET "/sign_up" for ::1 at 2021-05-08 13:14:01 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 3.4ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 21.9ms | Allocations: 6748)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 107ms (Views: 68.2ms | ActiveRecord: 1.3ms | Allocations: 26125)


Started POST "/users" for ::1 at 2021-05-08 13:14:12 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussamaa@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussamaa@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 11:14:12.502363"], ["updated_at", "2021-05-08 11:14:12.502363"], ["email", "oussamaa@gmail.com"], ["encrypted_password", "$2a$12$OvpMOfL23hWexHbTS7qB.eR.tmVzyE0HrRXKH5HEEgYidweVflrLS"], ["remember_token", "d51260762c33b3725980e900b495ae595bc37c0e"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 497ms (ActiveRecord: 6.4ms | Allocations: 6778)


Started GET "/" for ::1 at 2021-05-08 13:14:12 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d51260762c33b3725980e900b495ae595bc37c0e"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 13.3ms | Allocations: 840)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 123.0ms | Allocations: 5712)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 352ms (Views: 255.7ms | ActiveRecord: 10.7ms | Allocations: 27925)


Started GET "/cable" for ::1 at 2021-05-08 13:14:13 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:14:13 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-08 13:14:18 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d51260762c33b3725980e900b495ae595bc37c0e"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["updated_at", "2021-05-08 11:14:18.294281"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 26ms (ActiveRecord: 3.7ms | Allocations: 5608)


Started GET "/sign_in" for ::1 at 2021-05-08 13:14:18 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 10.6ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 32.4ms | ActiveRecord: 0.0ms | Allocations: 3185)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:14:18 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-08 13:14:26 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussamaa@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussamaa@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 4.3ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 609)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 582ms (Views: 85.3ms | ActiveRecord: 2.5ms | Allocations: 19072)


Started POST "/session" for ::1 at 2021-05-08 13:14:37 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussamaa@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussamaa@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 699ms (ActiveRecord: 0.3ms | Allocations: 9502)


Started GET "/" for ::1 at 2021-05-08 13:14:38 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.1ms | Allocations: 435)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 1277)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 48.7ms | ActiveRecord: 0.9ms | Allocations: 5192)


Started GET "/cable" for ::1 at 2021-05-08 13:14:38 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:14:38 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-08 13:14:43 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room 1"], ["created_at", "2021-05-08 11:14:43.043957"], ["updated_at", "2021-05-08 11:14:43.043957"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 19ms (ActiveRecord: 3.0ms | Allocations: 4183)


Started GET "/rooms/1" for ::1 at 2021-05-08 13:14:43 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 16.8ms | Allocations: 740)
  Rendered rooms/index.html.erb within layouts/application (Duration: 208.2ms | Allocations: 15982)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 238ms (Views: 212.3ms | ActiveRecord: 16.2ms | Allocations: 20446)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:14:43 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-08 13:14:43 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:14:43 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:14:44 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.5ms | Allocations: 437)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 2.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 3426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 31.1ms | ActiveRecord: 1.8ms | Allocations: 7845)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 13:14:55 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-08 11:14:55.104117"], ["updated_at", "2021-05-08 11:14:55.104117"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: a3807830-bb0a-47d9-b734-3e0256b12e2f) to Async(default) with arguments: #<GlobalID:0x00007fc1ff4e24b0 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 115ms (ActiveRecord: 19.3ms | Allocations: 11521)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (3.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [a3807830-bb0a-47d9-b734-3e0256b12e2f] Performing SendMessageJob (Job ID: a3807830-bb0a-47d9-b734-3e0256b12e2f) from Async(default) enqueued at 2021-05-08T11:14:55Z with arguments: #<GlobalID:0x00007fc1ff54cf90 @uri=#<URI::GID gid://chat-room/Message/1>>
Started GET "/rooms/1" for ::1 at 2021-05-08 13:14:55 +0200
[ActiveJob] [SendMessageJob] [a3807830-bb0a-47d9-b734-3e0256b12e2f]   [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [a3807830-bb0a-47d9-b734-3e0256b12e2f]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [a3807830-bb0a-47d9-b734-3e0256b12e2f]   Rendered messages/_mine.html.erb (Duration: 21.1ms | Allocations: 2801)
[ActiveJob] [SendMessageJob] [a3807830-bb0a-47d9-b734-3e0256b12e2f]   Rendered messages/_theirs.html.erb (Duration: 12.3ms | Allocations: 4124)
Processing by RoomsController#show as HTML
[ActiveJob] [SendMessageJob] [a3807830-bb0a-47d9-b734-3e0256b12e2f] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 1, room_id: 1, created_at: "2021-05-08 11:14:55", updated_at: "2021-05-08 11:14:55">}
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.3ms | Allocations: 436)
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
[ActiveJob] [SendMessageJob] [a3807830-bb0a-47d9-b734-3e0256b12e2f] Performed SendMessageJob (Job ID: a3807830-bb0a-47d9-b734-3e0256b12e2f) from Async(default) in 102.55ms
  â†³ app/views/rooms/index.html.erb:60
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 9.1ms | Allocations: 938)
  Rendered messages/_form.html.erb (Duration: 1.8ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 76.3ms | Allocations: 5350)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 142ms (Views: 120.0ms | ActiveRecord: 5.2ms | Allocations: 10329)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:14:55 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 13:14:55 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:14:55 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-08 13:15:11 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms | Allocations: 308)


Started GET "/sign_in" for ::1 at 2021-05-08 13:15:11 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.5ms | Allocations: 536)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 630)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 3191)


Started GET "/sign_up" for ::1 at 2021-05-08 13:15:14 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 3.2ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 36.3ms | ActiveRecord: 0.0ms | Allocations: 3366)


Started POST "/users" for ::1 at 2021-05-08 13:15:23 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"adrian1@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian1@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 11:15:25.311143"], ["updated_at", "2021-05-08 11:15:25.311143"], ["email", "adrian1@gmail.com"], ["encrypted_password", "$2a$12$kbplzo3WrE7DVAV5Me/3reXnGt4m66Dfx1TYs3OqjmRKdZ0Z3Ctji"], ["remember_token", "296a0d59f67057af2b69df3e8d6807d757cd8431"]]
  [1m[35m (6.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1571ms (ActiveRecord: 8.2ms | Allocations: 29394)


Started GET "/" for ::1 at 2021-05-08 13:15:25 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "296a0d59f67057af2b69df3e8d6807d757cd8431"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 437)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (26.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 39.4ms | Allocations: 2325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 55.1ms | ActiveRecord: 26.7ms | Allocations: 6246)


Started GET "/cable" for ::1 at 2021-05-08 13:15:25 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:15:25 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 13:15:27 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "296a0d59f67057af2b69df3e8d6807d757cd8431"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.9ms | Allocations: 431)
  [1m[36mRoom Load (2.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.0ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 34.3ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 51.2ms | ActiveRecord: 4.9ms | Allocations: 8690)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel stopped streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 13:15:34 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "296a0d59f67057af2b69df3e8d6807d757cd8431"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.8ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.8ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 46.3ms | ActiveRecord: 2.9ms | Allocations: 8693)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:15:43 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "296a0d59f67057af2b69df3e8d6807d757cd8431"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.6ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 16.4ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 2.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 40.9ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 51.6ms | ActiveRecord: 2.2ms | Allocations: 8700)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
RoomChannel stopped streaming from room_channel_1
Started DELETE "/sign_out" for ::1 at 2021-05-08 13:15:45 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "296a0d59f67057af2b69df3e8d6807d757cd8431"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "bad5cffd3e86d4ecbae1f0e94511ff9b37f0fe78"], ["updated_at", "2021-05-08 11:15:45.823981"], ["id", 2]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 38ms (ActiveRecord: 4.6ms | Allocations: 5608)


Started GET "/sign_in" for ::1 at 2021-05-08 13:15:45 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 6.2ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 618)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.0ms | Allocations: 3169)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:15:45 +0200
Started POST "/session" for ::1 at 2021-05-08 13:15:55 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"adrian1@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian1@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.6ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1062)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 399ms (Views: 23.0ms | ActiveRecord: 0.4ms | Allocations: 13215)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 11:16:27.498261"], ["updated_at", "2021-05-08 11:16:27.498261"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 11:16:27.515652"], ["updated_at", "2021-05-08 11:16:27.515652"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 11:16:27.633058"], ["updated_at", "2021-05-08 11:16:27.633058"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-08 11:16:27.642159"], ["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 11:16:27.649097"], ["updated_at", "2021-05-08 11:16:27.649097"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-08 13:20:06 +0200
  [1m[35m (3.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 119ms (ActiveRecord: 0.0ms | Allocations: 16860)


Started GET "/sign_in" for ::1 at 2021-05-08 13:20:06 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 30.4ms | Allocations: 1344)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 47.6ms | Allocations: 1926)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 146ms (Views: 141.0ms | ActiveRecord: 0.0ms | Allocations: 6739)


Started GET "/sign_up" for ::1 at 2021-05-08 13:20:18 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 8.6ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 24.2ms | Allocations: 1524)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 104ms (Views: 46.6ms | ActiveRecord: 3.8ms | Allocations: 12110)


Started POST "/users" for ::1 at 2021-05-08 13:20:38 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 11:20:39.395923"], ["updated_at", "2021-05-08 11:20:39.395923"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$YBxXwkR7hGuTPdQ0lKWaKuL5TwyrSguirnBXtXFXgsbHli6w.Xz3y"], ["remember_token", "7f8a476515ce63f8865db0e6bb8df3dc7fe5fa37"]]
  [1m[35m (4.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 625ms (ActiveRecord: 9.0ms | Allocations: 9675)


Started GET "/" for ::1 at 2021-05-08 13:20:39 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7f8a476515ce63f8865db0e6bb8df3dc7fe5fa37"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 9.6ms | Allocations: 840)
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 57.8ms | Allocations: 7142)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 146ms (Views: 89.1ms | ActiveRecord: 14.5ms | Allocations: 19194)


Started GET "/cable" for ::1 at 2021-05-08 13:20:39 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:20:39 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-08 13:20:41 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7f8a476515ce63f8865db0e6bb8df3dc7fe5fa37"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "a142b591f067a179a3070ae95c174f04736ef173"], ["updated_at", "2021-05-08 11:20:41.045557"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 32ms (ActiveRecord: 3.7ms | Allocations: 5627)


Started GET "/sign_in" for ::1 at 2021-05-08 13:20:41 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 9.7ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 35.6ms | ActiveRecord: 0.0ms | Allocations: 3183)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:20:41 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-08 13:21:17 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 6.9ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 23.3ms | Allocations: 1612)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 887ms (Views: 109.7ms | ActiveRecord: 0.9ms | Allocations: 21692)


Started POST "/session" for ::1 at 2021-05-08 13:21:27 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 589ms (ActiveRecord: 0.3ms | Allocations: 2658)


Started GET "/" for ::1 at 2021-05-08 13:21:28 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a142b591f067a179a3070ae95c174f04736ef173"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.3ms | Allocations: 435)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 59.7ms | Allocations: 12137)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 85.6ms | ActiveRecord: 0.9ms | Allocations: 19201)


Started GET "/cable" for ::1 at 2021-05-08 13:21:28 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:21:28 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-08 13:21:44 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a142b591f067a179a3070ae95c174f04736ef173"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 1"], ["created_at", "2021-05-08 11:21:44.131094"], ["updated_at", "2021-05-08 11:21:44.131094"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 20ms (ActiveRecord: 4.1ms | Allocations: 4186)


Started GET "/rooms/1" for ::1 at 2021-05-08 13:21:44 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a142b591f067a179a3070ae95c174f04736ef173"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 16.5ms | Allocations: 740)
  Rendered rooms/index.html.erb within layouts/application (Duration: 240.4ms | Allocations: 15824)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 270ms (Views: 250.1ms | ActiveRecord: 5.7ms | Allocations: 20288)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:21:44 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-08 13:21:44 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:21:44 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 13:21:51 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a142b591f067a179a3070ae95c174f04736ef173"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-08 11:21:51.783686"], ["updated_at", "2021-05-08 11:21:51.783686"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 9fd59bb9-7788-479a-9fd7-0d9591294286) to Async(default) with arguments: #<GlobalID:0x00007fe946b3cc98 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 302 Found in 125ms (ActiveRecord: 9.9ms | Allocations: 12001)


  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [9fd59bb9-7788-479a-9fd7-0d9591294286] Performing SendMessageJob (Job ID: 9fd59bb9-7788-479a-9fd7-0d9591294286) from Async(default) enqueued at 2021-05-08T11:21:51Z with arguments: #<GlobalID:0x00007fe946b66b88 @uri=#<URI::GID gid://chat-room/Message/1>>
[ActiveJob] [SendMessageJob] [9fd59bb9-7788-479a-9fd7-0d9591294286]   [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [9fd59bb9-7788-479a-9fd7-0d9591294286]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [9fd59bb9-7788-479a-9fd7-0d9591294286]   Rendered messages/_mine.html.erb (Duration: 28.6ms | Allocations: 2708)
Started GET "/rooms/1" for ::1 at 2021-05-08 13:21:51 +0200
[ActiveJob] [SendMessageJob] [9fd59bb9-7788-479a-9fd7-0d9591294286]   Rendered messages/_theirs.html.erb (Duration: 2.3ms | Allocations: 594)
[ActiveJob] [SendMessageJob] [9fd59bb9-7788-479a-9fd7-0d9591294286] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 1, room_id: 1, created_at: "2021-05-08 11:21:51", updated_at: "2021-05-08 11:21:51">}
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a142b591f067a179a3070ae95c174f04736ef173"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.7ms | Allocations: 440)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
[ActiveJob] [SendMessageJob] [9fd59bb9-7788-479a-9fd7-0d9591294286] Performed SendMessageJob (Job ID: 9fd59bb9-7788-479a-9fd7-0d9591294286) from Async(default) in 119.49ms
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 22.9ms | Allocations: 2168)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 51.0ms | Allocations: 5845)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 62.5ms | ActiveRecord: 3.3ms | Allocations: 10561)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:21:52 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 13:21:52 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:21:52 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-08 13:21:59 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.3ms | Allocations: 3013)


Started GET "/sign_in" for ::1 at 2021-05-08 13:22:00 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.8ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.1ms | ActiveRecord: 0.3ms | Allocations: 4525)


Started GET "/sign_up" for ::1 at 2021-05-08 13:22:02 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 3.2ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 31.9ms | ActiveRecord: 0.3ms | Allocations: 4700)


Started POST "/users" for ::1 at 2021-05-08 13:22:09 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"adrian@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5878b29c7750848c9133c530941767365ec84339"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 11:22:09.674269"], ["updated_at", "2021-05-08 11:22:09.674269"], ["email", "adrian@gmail.com"], ["encrypted_password", "$2a$12$kDiFZB1TmNMRdpsmBK6xJ.zc/j9ZYKBQDLf6KAYL3Xvk0t..2Slfa"], ["remember_token", "612bb0672453392d018175fdafcf61bb02868327"]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 499ms (ActiveRecord: 3.9ms | Allocations: 11213)


Started GET "/" for ::1 at 2021-05-08 13:22:09 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.1ms | Allocations: 437)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 2325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.5ms | ActiveRecord: 1.1ms | Allocations: 6243)


Started GET "/cable" for ::1 at 2021-05-08 13:22:09 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:22:09 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 13:22:11 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.8ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 9.6ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 60.7ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 76.3ms | ActiveRecord: 1.5ms | Allocations: 8699)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 13:22:20 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-08 11:22:20.097840"], ["updated_at", "2021-05-08 11:22:20.097840"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (3.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 8cae93a1-1c57-4987-919c-c30ffb386c2e) to Async(default) with arguments: #<GlobalID:0x00007fe947a07f48 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 57ms (ActiveRecord: 5.2ms | Allocations: 5474)


  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8cae93a1-1c57-4987-919c-c30ffb386c2e] Performing SendMessageJob (Job ID: 8cae93a1-1c57-4987-919c-c30ffb386c2e) from Async(default) enqueued at 2021-05-08T11:22:20Z with arguments: #<GlobalID:0x00007fe9474822d0 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [8cae93a1-1c57-4987-919c-c30ffb386c2e]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8cae93a1-1c57-4987-919c-c30ffb386c2e]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [8cae93a1-1c57-4987-919c-c30ffb386c2e]   Rendered messages/_mine.html.erb (Duration: 3.3ms | Allocations: 723)
[ActiveJob] [SendMessageJob] [8cae93a1-1c57-4987-919c-c30ffb386c2e]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [8cae93a1-1c57-4987-919c-c30ffb386c2e] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-08 11:22:20", updated_at: "2021-05-08 11:22:20">}
[ActiveJob] [SendMessageJob] [8cae93a1-1c57-4987-919c-c30ffb386c2e] Performed SendMessageJob (Job ID: 8cae93a1-1c57-4987-919c-c30ffb386c2e) from Async(default) in 12.13ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-08 13:22:20 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 9.7ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (8.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 9.0ms | Allocations: 766)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.1ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.6ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 71.4ms | Allocations: 5135)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 116ms (Views: 70.7ms | ActiveRecord: 18.3ms | Allocations: 9559)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:22:20 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 13:22:20 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:22:20 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:22:23 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "a142b591f067a179a3070ae95c174f04736ef173"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 431)
  [1m[36mRoom Load (1.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.2ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 45.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 83.2ms | Allocations: 5134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 112ms (Views: 94.9ms | ActiveRecord: 3.1ms | Allocations: 9564)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:22:28 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:29:56 +0200
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 56.9ms | Allocations: 2808)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.3ms | Allocations: 1110)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.0ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 10.6ms | Allocations: 733)
  Rendered rooms/index.html.erb within layouts/application (Duration: 313.5ms | Allocations: 21349)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 475ms (Views: 366.2ms | ActiveRecord: 18.5ms | Allocations: 46178)


Started GET "/cable" for ::1 at 2021-05-08 13:29:57 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:29:57 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1.json" for ::1 at 2021-05-08 13:30:00 +0200
Processing by RoomsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.json.jbuilder
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.json.jbuilder:1
  Rendered rooms/_room.json.jbuilder (Duration: 1.8ms | Allocations: 190)
  Rendered rooms/index.json.jbuilder (Duration: 11.0ms | Allocations: 2319)
Completed 200 OK in 60ms (Views: 46.2ms | ActiveRecord: 1.9ms | Allocations: 9784)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:30:00 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 13:30:04 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:30:04 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/1/edit" for ::1 at 2021-05-08 13:30:17 +0200
Processing by RoomsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/edit.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.8ms | Allocations: 493)
  Rendered rooms/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 757)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 21.6ms | ActiveRecord: 0.5ms | Allocations: 5368)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:30:17 +0200
Started GET "/rooms/1" for ::1 at 2021-05-08 13:30:20 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 431)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 25.6ms | Allocations: 5138)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 34.3ms | ActiveRecord: 5.2ms | Allocations: 9569)


Started GET "/cable" for ::1 at 2021-05-08 13:30:20 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:30:20 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1/edit" for ::1 at 2021-05-08 13:30:44 +0200
Processing by RoomsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/edit.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.9ms | Allocations: 482)
  Rendered rooms/edit.html.erb within layouts/application (Duration: 5.9ms | Allocations: 599)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 36.8ms | ActiveRecord: 1.0ms | Allocations: 5042)


Started GET "/rooms/1/destroy" for ::1 at 2021-05-08 13:30:45 +0200
  
ActionController::RoutingError (No route matches [GET] "/rooms/1/destroy"):
  
actionpack (6.0.3.7) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.7) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.7) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.7) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.7) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.7) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:30:46 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:30:47 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 43.7ms | Allocations: 450)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (2.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 20.8ms | Allocations: 766)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 9.1ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 5.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 133.3ms | Allocations: 5166)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 181ms (Views: 164.5ms | ActiveRecord: 6.2ms | Allocations: 9652)


Started GET "/cable" for ::1 at 2021-05-08 13:30:48 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:30:48 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1%C2%A1new" for ::1 at 2021-05-08 13:31:15 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1Â¡new"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.5ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 8.3ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 3.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 99.3ms | Allocations: 5484)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 134ms (Views: 122.1ms | ActiveRecord: 3.9ms | Allocations: 9919)


Started GET "/cable" for ::1 at 2021-05-08 13:31:15 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:31:15 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:31:15 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:31:21 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 174.5ms | Allocations: 5135)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 185ms (Views: 180.0ms | ActiveRecord: 1.6ms | Allocations: 9556)


Started GET "/cable" for ::1 at 2021-05-08 13:31:21 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:31:21 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:31:21 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms/new" for ::1 at 2021-05-08 13:31:22 +0200
Processing by RoomsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  Rendering rooms/new.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.3ms | Allocations: 449)
  Rendered rooms/new.html.erb within layouts/application (Duration: 10.8ms | Allocations: 661)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 18.1ms | ActiveRecord: 0.2ms | Allocations: 4708)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:31:22 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/rooms" for ::1 at 2021-05-08 13:31:25 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.1ms | Allocations: 431)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 3389)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 47.8ms | ActiveRecord: 2.5ms | Allocations: 15024)


Started GET "/cable" for ::1 at 2021-05-08 13:31:25 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:31:25 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms" for ::1 at 2021-05-08 13:32:21 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 9.6ms | Allocations: 498)
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 77.2ms | Allocations: 7784)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 186ms (Views: 101.7ms | ActiveRecord: 12.4ms | Allocations: 19145)


Started GET "/cable" for ::1 at 2021-05-08 13:32:22 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:32:22 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 13:32:24 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (5.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 7.8ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 959)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 363)
  Rendered rooms/index.html.erb within layouts/application (Duration: 278.9ms | Allocations: 9940)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 327ms (Views: 295.8ms | ActiveRecord: 9.3ms | Allocations: 21729)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:41:34 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 436)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 787)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.2ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 332.1ms | Allocations: 14090)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 353ms (Views: 343.4ms | ActiveRecord: 4.2ms | Allocations: 18556)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:41:34 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 13:41:34 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:41:34 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 11:41:52.644057"], ["updated_at", "2021-05-08 11:41:52.644057"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 11:41:52.660275"], ["updated_at", "2021-05-08 11:41:52.660275"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 11:41:52.826511"], ["updated_at", "2021-05-08 11:41:52.826511"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-08 11:41:52.837091"], ["key", "environment"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 11:41:52.848555"], ["updated_at", "2021-05-08 11:41:52.848555"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-08 13:47:46 +0200
  [1m[35m (5.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 45ms (ActiveRecord: 0.0ms | Allocations: 7076)


Started GET "/sign_in" for ::1 at 2021-05-08 13:47:46 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 25.6ms | Allocations: 1344)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 37.8ms | Allocations: 1926)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 113ms (Views: 111.7ms | ActiveRecord: 0.0ms | Allocations: 6748)


Started POST "/session" for ::1 at 2021-05-08 13:47:59 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussaama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussaama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.0ms | Allocations: 522)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 617)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 760ms (Views: 32.4ms | ActiveRecord: 9.6ms | Allocations: 12234)


Started GET "/sign_up" for ::1 at 2021-05-08 13:48:01 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.1ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 28.1ms | ActiveRecord: 0.0ms | Allocations: 4879)


Started POST "/users" for ::1 at 2021-05-08 13:48:12 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 11:48:13.368365"], ["updated_at", "2021-05-08 11:48:13.368365"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$FLKEI94oLX9DUaTnWKZBuu9TbptgcuBRkOOV6lU673bsmFlufKpAu"], ["remember_token", "07175bff595ecc9b9edcaa0aa7bd7575bfc37feb"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 446ms (ActiveRecord: 6.1ms | Allocations: 6781)


Started GET "/" for ::1 at 2021-05-08 13:48:13 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07175bff595ecc9b9edcaa0aa7bd7575bfc37feb"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 15.0ms | Allocations: 840)
  [1m[36mRoom Load (2.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 73.3ms | Allocations: 5174)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 165ms (Views: 135.5ms | ActiveRecord: 4.7ms | Allocations: 18493)


Started GET "/cable" for ::1 at 2021-05-08 13:48:13 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:48:13 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started DELETE "/sign_out" for ::1 at 2021-05-08 13:48:15 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07175bff595ecc9b9edcaa0aa7bd7575bfc37feb"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["updated_at", "2021-05-08 11:48:16.051112"], ["id", 1]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 41ms (ActiveRecord: 9.4ms | Allocations: 5612)


Started GET "/sign_in" for ::1 at 2021-05-08 13:48:16 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 9.3ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 10.0ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.6ms | ActiveRecord: 0.0ms | Allocations: 3181)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:48:16 +0200
RoomChannel stopped streaming from room_channel_
Started POST "/session" for ::1 at 2021-05-08 13:48:22 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.3ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 609)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 483ms (Views: 15.4ms | ActiveRecord: 0.3ms | Allocations: 4445)


Started POST "/session" for ::1 at 2021-05-08 13:48:30 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 471ms (ActiveRecord: 0.3ms | Allocations: 1559)


Started GET "/" for ::1 at 2021-05-08 13:48:31 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.1ms | Allocations: 435)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 1277)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 36.5ms | ActiveRecord: 5.1ms | Allocations: 5190)


Started GET "/cable" for ::1 at 2021-05-08 13:48:31 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:48:31 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-08 13:48:43 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:28:in `block in create'
  [1m[36mRoom Create (1.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 1"], ["created_at", "2021-05-08 11:48:44.001952"], ["updated_at", "2021-05-08 11:48:44.001952"]]
  â†³ app/controllers/rooms_controller.rb:28:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:28:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 26ms (ActiveRecord: 3.6ms | Allocations: 4178)


Started GET "/rooms/1" for ::1 at 2021-05-08 13:48:44 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.0ms | Allocations: 431)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 10.9ms | Allocations: 742)
  Rendered rooms/index.html.erb within layouts/application (Duration: 248.4ms | Allocations: 15970)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 319ms (Views: 293.7ms | ActiveRecord: 10.9ms | Allocations: 20436)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:48:44 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/cable" for ::1 at 2021-05-08 13:48:44 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:48:44 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:48:46 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.5ms | Allocations: 437)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 3426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 24.4ms | ActiveRecord: 1.9ms | Allocations: 7843)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 13:48:52 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (2.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-08 11:48:52.951709"], ["updated_at", "2021-05-08 11:48:52.951709"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (28.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 157cfd15-8040-4776-b29c-c7c293822692) to Async(default) with arguments: #<GlobalID:0x00007fd7fd3e7f10 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 117ms (ActiveRecord: 32.0ms | Allocations: 10616)


  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [157cfd15-8040-4776-b29c-c7c293822692] Performing SendMessageJob (Job ID: 157cfd15-8040-4776-b29c-c7c293822692) from Async(default) enqueued at 2021-05-08T11:48:53Z with arguments: #<GlobalID:0x00007fd80065ba50 @uri=#<URI::GID gid://chat-room/Message/1>>
[ActiveJob] [SendMessageJob] [157cfd15-8040-4776-b29c-c7c293822692]   [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [157cfd15-8040-4776-b29c-c7c293822692]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [157cfd15-8040-4776-b29c-c7c293822692]   Rendered messages/_mine.html.erb (Duration: 9.8ms | Allocations: 1049)
Started GET "/rooms/1" for ::1 at 2021-05-08 13:48:53 +0200
[ActiveJob] [SendMessageJob] [157cfd15-8040-4776-b29c-c7c293822692]   Rendered messages/_theirs.html.erb (Duration: 1.3ms | Allocations: 149)
[ActiveJob] [SendMessageJob] [157cfd15-8040-4776-b29c-c7c293822692] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 1, room_id: 1, created_at: "2021-05-08 11:48:52", updated_at: "2021-05-08 11:48:52">}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 8.6ms | Allocations: 436)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
[ActiveJob] [SendMessageJob] [157cfd15-8040-4776-b29c-c7c293822692] Performed SendMessageJob (Job ID: 157cfd15-8040-4776-b29c-c7c293822692) from Async(default) in 61.33ms
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.8ms | Allocations: 938)
  Rendered messages/_form.html.erb (Duration: 6.1ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 55.1ms | Allocations: 5304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 63.1ms | ActiveRecord: 3.0ms | Allocations: 10364)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:48:53 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 13:48:53 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:48:53 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-08 13:49:11 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.7ms | Allocations: 3032)


Started GET "/sign_in" for ::1 at 2021-05-08 13:49:11 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 6.5ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 23.3ms | ActiveRecord: 0.8ms | Allocations: 4525)


Started GET "/sign_up" for ::1 at 2021-05-08 13:49:13 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.9ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 17.6ms | ActiveRecord: 0.3ms | Allocations: 4713)


Started POST "/users" for ::1 at 2021-05-08 13:49:20 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"adrian@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "612bb0672453392d018175fdafcf61bb02868327"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 11:49:20.944199"], ["updated_at", "2021-05-08 11:49:20.944199"], ["email", "adrian@gmail.com"], ["encrypted_password", "$2a$12$UUbO5nEml6B6rTam/aL8suGWmY5J3KfNRGzER2dCxjpx60qyBcwzG"], ["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 511ms (ActiveRecord: 5.5ms | Allocations: 18905)


Started GET "/" for ::1 at 2021-05-08 13:49:21 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.5ms | Allocations: 437)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 2325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 45.8ms | ActiveRecord: 1.2ms | Allocations: 6384)


Started GET "/cable" for ::1 at 2021-05-08 13:49:21 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:49:21 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 13:49:23 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 431)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.7ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 29.4ms | ActiveRecord: 2.9ms | Allocations: 8705)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 13:49:30 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-08 11:49:30.207931"], ["updated_at", "2021-05-08 11:49:30.207931"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9) to Async(default) with arguments: #<GlobalID:0x00007fd7fd289768 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 24ms (ActiveRecord: 3.8ms | Allocations: 5545)


  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9] Performing SendMessageJob (Job ID: 8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9) from Async(default) enqueued at 2021-05-08T11:49:30Z with arguments: #<GlobalID:0x00007fd8005c1f68 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9]   Rendered messages/_mine.html.erb (Duration: 3.8ms | Allocations: 723)
[ActiveJob] [SendMessageJob] [8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-08 11:49:30", updated_at: "2021-05-08 11:49:30">}
[ActiveJob] [SendMessageJob] [8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9] Performed SendMessageJob (Job ID: 8af93fe9-f9c2-4adb-ac68-9e24fb46fcd9) from Async(default) in 9.17ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-08 13:49:30 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.4ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.5ms | Allocations: 766)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.0ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 4.7ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 43.7ms | Allocations: 5135)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 59.5ms | ActiveRecord: 4.8ms | Allocations: 9554)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 13:49:30 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 13:49:30 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 13:49:30 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 13:49:35 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 768)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 5134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 31.3ms | ActiveRecord: 2.2ms | Allocations: 9558)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 12:35:09.240166"], ["updated_at", "2021-05-08 12:35:09.240166"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 12:35:09.265882"], ["updated_at", "2021-05-08 12:35:09.265882"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 12:35:09.362110"], ["updated_at", "2021-05-08 12:35:09.362110"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-08 12:35:09.368296"], ["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 12:35:09.375229"], ["updated_at", "2021-05-08 12:35:09.375229"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/rooms/1" for ::1 at 2021-05-08 14:39:59 +0200
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 87ms (ActiveRecord: 3.0ms | Allocations: 14072)


Started GET "/sign_in" for ::1 at 2021-05-08 14:39:59 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 16.5ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 23.3ms | Allocations: 1921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 61.8ms | ActiveRecord: 0.3ms | Allocations: 8054)


Started GET "/sign_up" for ::1 at 2021-05-08 14:40:07 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 6.5ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 13.7ms | Allocations: 1435)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 36.9ms | ActiveRecord: 0.3ms | Allocations: 11291)


Started POST "/session" for ::1 at 2021-05-08 14:40:35 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 6.5ms | Allocations: 695)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 848)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
Completed 401 Unauthorized in 514ms (Views: 21.1ms | ActiveRecord: 1.1ms | Allocations: 7598)


Started GET "/sign_up" for ::1 at 2021-05-08 14:40:37 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.2ms | Allocations: 301)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 722)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 18.4ms | ActiveRecord: 0.3ms | Allocations: 4697)


Started POST "/users" for ::1 at 2021-05-08 14:40:44 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "39958138fb4b90a1a4ca449ddf9c4239d18e8210"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 12:40:44.631359"], ["updated_at", "2021-05-08 12:40:44.631359"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$NEA5hhsPNo5MO1zkQqUaduh.LdW7KJS/lPFEIZIwLwYsa6iXxUp5W"], ["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 482ms (ActiveRecord: 4.9ms | Allocations: 14851)


Started GET "/rooms/1" for ::1 at 2021-05-08 14:40:44 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:56:in `set_room'
Completed 404 Not Found in 120ms (ActiveRecord: 25.0ms | Allocations: 6353)


  
ActiveRecord::RecordNotFound (Couldn't find Room with 'id'=1):
  
app/controllers/rooms_controller.rb:56:in `set_room'
Started GET "/rooms/1" for ::1 at 2021-05-08 14:42:12 +0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
Completed 404 Not Found in 231ms (ActiveRecord: 8.7ms | Allocations: 10620)


  
ActiveRecord::RecordNotFound (Couldn't find Room with 'id'=1):
  
app/controllers/rooms_controller.rb:69:in `set_room'
Started GET "/" for ::1 at 2021-05-08 14:42:18 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.1ms | Allocations: 1067)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 37.4ms | Allocations: 7167)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 60.7ms | ActiveRecord: 0.9ms | Allocations: 13980)


Started GET "/cable" for ::1 at 2021-05-08 14:42:19 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:42:19 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/rooms" for ::1 at 2021-05-08 14:42:22 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"sam"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.4ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "sam"], ["created_at", "2021-05-08 12:42:22.890867"], ["updated_at", "2021-05-08 12:42:22.890867"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 28ms (ActiveRecord: 4.8ms | Allocations: 6574)


Started GET "/rooms/1" for ::1 at 2021-05-08 14:42:22 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.2ms | Allocations: 431)
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 12.7ms | Allocations: 742)
  Rendered rooms/index.html.erb within layouts/application (Duration: 376.7ms | Allocations: 13602)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 410ms (Views: 379.3ms | ActiveRecord: 13.3ms | Allocations: 17953)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 14:42:23 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 14:42:24 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:42:24 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 12:42:45.426476"], ["updated_at", "2021-05-08 12:42:45.426476"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 12:42:45.435046"], ["updated_at", "2021-05-08 12:42:45.435046"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 12:42:45.522661"], ["updated_at", "2021-05-08 12:42:45.522661"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-08 12:42:45.528904"], ["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 12:42:45.535162"], ["updated_at", "2021-05-08 12:42:45.535162"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/rooms/1" for ::1 at 2021-05-08 14:46:39 +0200
  [1m[35m (3.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 67ms (ActiveRecord: 3.9ms | Allocations: 7015)


Started GET "/sign_in" for ::1 at 2021-05-08 14:46:39 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 11.9ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 17.4ms | Allocations: 1921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 49.5ms | ActiveRecord: 0.3ms | Allocations: 8060)


Started POST "/session" for ::1 at 2021-05-08 14:46:56 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 6.5ms | Allocations: 522)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1076)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
Completed 401 Unauthorized in 543ms (Views: 32.3ms | ActiveRecord: 1.5ms | Allocations: 21084)


Started GET "/sign_up" for ::1 at 2021-05-08 14:46:58 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 3.9ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 10.0ms | Allocations: 1426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 51.9ms | ActiveRecord: 0.4ms | Allocations: 6218)


Started POST "/users" for ::1 at 2021-05-08 14:47:04 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "60ce99bada9fefdaef38efcc170d7bee18155668"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 12:47:05.191358"], ["updated_at", "2021-05-08 12:47:05.191358"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$w9C3PED1Htifl3pwPUfVDe9ODFL1sy6Avjze6WSkX0J3BNERKnyAi"], ["remember_token", "9dcb0b595c281ff3a502e4a0a6601515cd52845c"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 509ms (ActiveRecord: 8.2ms | Allocations: 9570)


Started GET "/rooms/1" for ::1 at 2021-05-08 14:47:05 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9dcb0b595c281ff3a502e4a0a6601515cd52845c"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
Completed 404 Not Found in 87ms (ActiveRecord: 30.8ms | Allocations: 7367)


  
ActiveRecord::RecordNotFound (Couldn't find Room with 'id'=1):
  
app/controllers/rooms_controller.rb:69:in `set_room'
Started GET "/" for ::1 at 2021-05-08 14:47:10 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9dcb0b595c281ff3a502e4a0a6601515cd52845c"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 7.1ms | Allocations: 866)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 35.8ms | Allocations: 4876)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 58.0ms | ActiveRecord: 0.7ms | Allocations: 9518)


Started GET "/cable" for ::1 at 2021-05-08 14:47:10 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:47:11 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started DELETE "/sign_out" for ::1 at 2021-05-08 14:47:18 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9dcb0b595c281ff3a502e4a0a6601515cd52845c"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["updated_at", "2021-05-08 12:47:18.368478"], ["id", 1]]
  [1m[35m (4.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 27ms (ActiveRecord: 6.2ms | Allocations: 5616)


Started GET "/sign_in" for ::1 at 2021-05-08 14:47:18 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.8ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.0ms | Allocations: 3178)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 14:47:18 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started POST "/session" for ::1 at 2021-05-08 14:47:28 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.2ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 905)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 490ms (Views: 29.8ms | ActiveRecord: 0.4ms | Allocations: 12083)


Started POST "/session" for ::1 at 2021-05-08 14:47:36 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 458ms (ActiveRecord: 0.3ms | Allocations: 1585)


Started GET "/" for ::1 at 2021-05-08 14:47:37 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.3ms | Allocations: 435)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1276)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 23.7ms | ActiveRecord: 0.6ms | Allocations: 5186)


Started GET "/cable" for ::1 at 2021-05-08 14:47:37 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:47:37 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/rooms" for ::1 at 2021-05-08 14:47:41 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.9ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 1"], ["created_at", "2021-05-08 12:47:41.898959"], ["updated_at", "2021-05-08 12:47:41.898959"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 18ms (ActiveRecord: 3.3ms | Allocations: 4183)


Started GET "/rooms/1" for ::1 at 2021-05-08 14:47:41 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.1ms | Allocations: 431)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 5.3ms | Allocations: 740)
  Rendered rooms/index.html.erb within layouts/application (Duration: 111.5ms | Allocations: 13643)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 145ms (Views: 129.0ms | ActiveRecord: 6.2ms | Allocations: 17996)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 14:47:42 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 14:47:42 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:47:42 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for ::1 at 2021-05-08 14:47:43 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.3ms | Allocations: 437)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 1.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 3426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 28.2ms | ActiveRecord: 1.6ms | Allocations: 7849)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"1\"}"}) [Gem::LoadError - Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
Started POST "/messages" for ::1 at 2021-05-08 14:47:47 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (1.8ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (2.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-08 12:47:47.079511"], ["updated_at", "2021-05-08 12:47:47.079511"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 64c17b7c-3052-4c4c-ad44-d0860f9b838c) to Async(default) with arguments: #<GlobalID:0x00007fe7295501a0 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 86ms (ActiveRecord: 7.9ms | Allocations: 10620)


  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [64c17b7c-3052-4c4c-ad44-d0860f9b838c] Performing SendMessageJob (Job ID: 64c17b7c-3052-4c4c-ad44-d0860f9b838c) from Async(default) enqueued at 2021-05-08T12:47:47Z with arguments: #<GlobalID:0x00007fe729582150 @uri=#<URI::GID gid://chat-room/Message/1>>
Started GET "/rooms/1" for ::1 at 2021-05-08 14:47:47 +0200
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] [SendMessageJob] [64c17b7c-3052-4c4c-ad44-d0860f9b838c]   [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Processing by RoomsController#show as HTML
[ActiveJob] [SendMessageJob] [64c17b7c-3052-4c4c-ad44-d0860f9b838c]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [64c17b7c-3052-4c4c-ad44-d0860f9b838c]   Rendered messages/_mine.html.erb (Duration: 22.7ms | Allocations: 2728)
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [64c17b7c-3052-4c4c-ad44-d0860f9b838c]   Rendered messages/_theirs.html.erb (Duration: 6.3ms | Allocations: 142)
[ActiveJob] [SendMessageJob] [64c17b7c-3052-4c4c-ad44-d0860f9b838c] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 1, room_id: 1, created_at: "2021-05-08 12:47:47", updated_at: "2021-05-08 12:47:47">}
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [64c17b7c-3052-4c4c-ad44-d0860f9b838c] Error performing SendMessageJob (Job ID: 64c17b7c-3052-4c4c-ad44-d0860f9b838c) from Async(default) in 79.12ms: Gem::LoadError (Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.):
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:48:in `block in broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:182:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:46:in `broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:25:in `broadcast'
/Users/oussama/chat/app/jobs/send_message_job.rb:15:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:40:in `block in perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:39:in `perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:25:in `block in execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:71:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:23:in `execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.7ms | Allocations: 436)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 66.4ms | Allocations: 5056)
  Rendered messages/_form.html.erb (Duration: 4.2ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 123.0ms | Allocations: 13567)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 169ms (Views: 131.6ms | ActiveRecord: 4.7ms | Allocations: 19364)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 14:47:47 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 14:47:47 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:47:47 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/" for ::1 at 2021-05-08 14:48:09 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 18ms (ActiveRecord: 0.8ms | Allocations: 3013)


Started GET "/sign_in" for ::1 at 2021-05-08 14:48:09 +0200
Processing by Clearance::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 5.1ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 19.7ms | ActiveRecord: 0.3ms | Allocations: 4528)


Started GET "/sign_up" for ::1 at 2021-05-08 14:48:12 +0200
Processing by Clearance::UsersController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.2ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 18.1ms | ActiveRecord: 0.8ms | Allocations: 4694)


Started POST "/users" for ::1 at 2021-05-08 14:48:18 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"adrian@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "dfe0c98f9f7696a83a9529234dc2a2c3109c257c"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 12:48:18.948002"], ["updated_at", "2021-05-08 12:48:18.948002"], ["email", "adrian@gmail.com"], ["encrypted_password", "$2a$12$Do81LXVSnChl/SAyyTlZ9uuYQmC975FcB5nhh4g.DzQkKWoJxrN9u"], ["remember_token", "5949de0350a6d88bb944ecaf71d09bcf4125ac58"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 505ms (ActiveRecord: 4.4ms | Allocations: 12509)


Started GET "/" for ::1 at 2021-05-08 14:48:19 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5949de0350a6d88bb944ecaf71d09bcf4125ac58"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 437)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 2469)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 39.6ms | ActiveRecord: 1.1ms | Allocations: 6384)


Started GET "/cable" for ::1 at 2021-05-08 14:48:19 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:48:19 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for ::1 at 2021-05-08 14:48:20 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5949de0350a6d88bb944ecaf71d09bcf4125ac58"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 33.9ms | ActiveRecord: 2.0ms | Allocations: 8692)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"\"}"}) [Gem::LoadError - Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
Started GET "/rooms/1" for ::1 at 2021-05-08 14:48:26 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5949de0350a6d88bb944ecaf71d09bcf4125ac58"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.4ms | Allocations: 431)
  [1m[36mRoom Load (4.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.6ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 67.3ms | Allocations: 11782)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 86.0ms | ActiveRecord: 6.6ms | Allocations: 16210)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"1\"}"}) [Gem::LoadError - Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
Started POST "/messages" for ::1 at 2021-05-08 14:48:29 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5949de0350a6d88bb944ecaf71d09bcf4125ac58"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (1.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-08 12:48:29.454693"], ["updated_at", "2021-05-08 12:48:29.454693"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 0efa75d7-37b5-4b99-b21a-65ea4421e678) to Async(default) with arguments: #<GlobalID:0x00007fe728d670b0 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 31ms (ActiveRecord: 3.7ms | Allocations: 5558)


  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [0efa75d7-37b5-4b99-b21a-65ea4421e678] Performing SendMessageJob (Job ID: 0efa75d7-37b5-4b99-b21a-65ea4421e678) from Async(default) enqueued at 2021-05-08T12:48:29Z with arguments: #<GlobalID:0x00007fe728d7d8b0 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [0efa75d7-37b5-4b99-b21a-65ea4421e678]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [0efa75d7-37b5-4b99-b21a-65ea4421e678]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [0efa75d7-37b5-4b99-b21a-65ea4421e678]   Rendered messages/_mine.html.erb (Duration: 4.5ms | Allocations: 724)
[ActiveJob] [SendMessageJob] [0efa75d7-37b5-4b99-b21a-65ea4421e678]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [0efa75d7-37b5-4b99-b21a-65ea4421e678] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-08 12:48:29", updated_at: "2021-05-08 12:48:29">}
[ActiveJob] [SendMessageJob] [0efa75d7-37b5-4b99-b21a-65ea4421e678] Error performing SendMessageJob (Job ID: 0efa75d7-37b5-4b99-b21a-65ea4421e678) from Async(default) in 15.87ms: Gem::LoadError (Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.):
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:48:in `block in broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:182:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:46:in `broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:25:in `broadcast'
/Users/oussama/chat/app/jobs/send_message_job.rb:15:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:40:in `block in perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:39:in `perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:25:in `block in execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:71:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:23:in `execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/rooms/1" for ::1 at 2021-05-08 14:48:29 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "5949de0350a6d88bb944ecaf71d09bcf4125ac58"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 7.6ms | Allocations: 432)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 768)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 3.4ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 98.9ms | Allocations: 5137)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 158ms (Views: 134.1ms | ActiveRecord: 3.0ms | Allocations: 9563)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 14:48:29 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 14:48:29 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:48:29 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for ::1 at 2021-05-08 14:48:32 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.6ms | Allocations: 431)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.0ms | Allocations: 1349)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 12.3ms | Allocations: 2060)
  Rendered messages/_form.html.erb (Duration: 3.0ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 73.4ms | Allocations: 11463)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 102ms (Views: 91.1ms | ActiveRecord: 3.1ms | Allocations: 17395)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 14:48:32 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 14:48:32 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 14:48:32 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/" for ::1 at 2021-05-08 15:06:24 +0200
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 20.5ms | Allocations: 8626)
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 75.9ms | Allocations: 20719)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 156ms (Views: 95.1ms | ActiveRecord: 5.1ms | Allocations: 36387)


Started GET "/cable" for ::1 at 2021-05-08 15:06:24 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:06:24 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started DELETE "/sign_out" for ::1 at 2021-05-08 15:06:26 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "9aa59007559881a7e457c5d446a0ff51c7f5e7c2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (8.0ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "1ade71dab2ef7f502f7ee82979bafa6cfdce4d57"], ["updated_at", "2021-05-08 13:06:26.574151"], ["id", 1]]
  [1m[35m (7.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 44ms (ActiveRecord: 16.3ms | Allocations: 5832)


Started GET "/sign_in" for ::1 at 2021-05-08 15:06:26 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 16.8ms | Allocations: 920)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 21.0ms | Allocations: 1380)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 63.5ms | ActiveRecord: 0.0ms | Allocations: 5065)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:06:26 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 13:06:51.740202"], ["updated_at", "2021-05-08 13:06:51.740202"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 13:06:51.767320"], ["updated_at", "2021-05-08 13:06:51.767320"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 13:06:51.879953"], ["updated_at", "2021-05-08 13:06:51.879953"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-08 13:06:51.886471"], ["key", "environment"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 13:06:51.893277"], ["updated_at", "2021-05-08 13:06:51.893277"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-08 15:11:28 +0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.0ms | Allocations: 10353)


Started GET "/sign_in" for ::1 at 2021-05-08 15:11:28 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 7.0ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 1921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 33.0ms | ActiveRecord: 0.0ms | Allocations: 6722)


Started POST "/session" for ::1 at 2021-05-08 15:11:48 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.1ms | Allocations: 522)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 914)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 392ms (Views: 34.0ms | ActiveRecord: 1.4ms | Allocations: 25943)


Started GET "/sign_up" for ::1 at 2021-05-08 15:11:51 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.3ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 4875)


Started POST "/users" for ::1 at 2021-05-08 15:11:59 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 13:11:59.980219"], ["updated_at", "2021-05-08 13:11:59.980219"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$quwJSOEZDHwDKvRiSwaX4eBbVuHMPzQ4W46l.3xBF2hzfzoVrj29u"], ["remember_token", "d8dd64fa8e3abe25d929eb10d19360006588b42b"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 360ms (ActiveRecord: 2.9ms | Allocations: 7789)


Started GET "/" for ::1 at 2021-05-08 15:12:00 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d8dd64fa8e3abe25d929eb10d19360006588b42b"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.2ms | Allocations: 840)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 25.6ms | Allocations: 5175)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 40.4ms | ActiveRecord: 2.2ms | Allocations: 11330)


Started GET "/cable" for ::1 at 2021-05-08 15:12:00 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:12:00 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started DELETE "/sign_out" for ::1 at 2021-05-08 15:12:03 +0200
Processing by Clearance::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d8dd64fa8e3abe25d929eb10d19360006588b42b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "remember_token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["updated_at", "2021-05-08 13:12:03.314048"], ["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/sign_in
Completed 302 Found in 15ms (ActiveRecord: 2.1ms | Allocations: 5620)


Started GET "/sign_in" for ::1 at 2021-05-08 15:12:03 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.1ms | Allocations: 532)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms | Allocations: 3186)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:12:03 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started POST "/session" for ::1 at 2021-05-08 15:12:12 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.4ms | Allocations: 515)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 897)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 345ms (Views: 14.1ms | ActiveRecord: 0.2ms | Allocations: 11593)


Started POST "/session" for ::1 at 2021-05-08 15:12:21 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 339ms (ActiveRecord: 0.2ms | Allocations: 2075)


Started GET "/" for ::1 at 2021-05-08 15:12:21 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 435)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.4ms | Allocations: 6853)


Started GET "/cable" for ::1 at 2021-05-08 15:12:21 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:12:21 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/rooms" for ::1 at 2021-05-08 15:12:33 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (0.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 1"], ["created_at", "2021-05-08 13:12:33.706186"], ["updated_at", "2021-05-08 13:12:33.706186"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 14ms (ActiveRecord: 2.8ms | Allocations: 4176)


Started GET "/rooms/1" for ::1 at 2021-05-08 15:12:33 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 4.2ms | Allocations: 431)
  [1m[36mRoom Load (2.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 5.5ms | Allocations: 1357)
  Rendered rooms/index.html.erb within layouts/application (Duration: 66.7ms | Allocations: 19673)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 70.7ms | ActiveRecord: 5.4ms | Allocations: 26850)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:12:33 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 15:12:33 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:12:33 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for ::1 at 2021-05-08 15:12:35 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 437)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 0.8ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 3426)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 16.2ms | ActiveRecord: 1.1ms | Allocations: 7846)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"1\"}"}) [Gem::LoadError - Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
Started POST "/messages" for ::1 at 2021-05-08 15:12:38 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-08 13:12:38.776594"], ["updated_at", "2021-05-08 13:12:38.776594"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 38f02397-8b68-4755-acd9-9a0d51e8eca1) to Async(default) with arguments: #<GlobalID:0x00007fe82bc69df8 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 68ms (ActiveRecord: 3.8ms | Allocations: 11307)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [38f02397-8b68-4755-acd9-9a0d51e8eca1] Performing SendMessageJob (Job ID: 38f02397-8b68-4755-acd9-9a0d51e8eca1) from Async(default) enqueued at 2021-05-08T13:12:38Z with arguments: #<GlobalID:0x00007fe8296a3290 @uri=#<URI::GID gid://chat-room/Message/1>>
[ActiveJob] [SendMessageJob] [38f02397-8b68-4755-acd9-9a0d51e8eca1]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [38f02397-8b68-4755-acd9-9a0d51e8eca1]   â†³ app/views/messages/_mine.html.erb:7
Started GET "/rooms/1" for ::1 at 2021-05-08 15:12:38 +0200
[ActiveJob] [SendMessageJob] [38f02397-8b68-4755-acd9-9a0d51e8eca1]   Rendered messages/_mine.html.erb (Duration: 9.5ms | Allocations: 1528)
[ActiveJob] [SendMessageJob] [38f02397-8b68-4755-acd9-9a0d51e8eca1]   Rendered messages/_theirs.html.erb (Duration: 1.3ms | Allocations: 414)
[ActiveJob] [SendMessageJob] [38f02397-8b68-4755-acd9-9a0d51e8eca1] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 1, room_id: 1, created_at: "2021-05-08 13:12:38", updated_at: "2021-05-08 13:12:38">}
[ActiveJob] [SendMessageJob] [38f02397-8b68-4755-acd9-9a0d51e8eca1] Error performing SendMessageJob (Job ID: 38f02397-8b68-4755-acd9-9a0d51e8eca1) from Async(default) in 25.25ms: Gem::LoadError (Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.):
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:48:in `block in broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:182:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:46:in `broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:25:in `broadcast'
/Users/oussama/chat/app/jobs/send_message_job.rb:15:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:40:in `block in perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:39:in `perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:25:in `block in execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:71:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:23:in `execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.4ms | Allocations: 436)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 8.5ms | Allocations: 1441)
  Rendered messages/_form.html.erb (Duration: 1.3ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 31.2ms | Allocations: 10111)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 39.3ms | ActiveRecord: 2.1ms | Allocations: 14533)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:12:38 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 15:12:39 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:12:39 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/" for ::1 at 2021-05-08 15:13:21 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 308)


Started GET "/sign_in" for ::1 at 2021-05-08 15:13:21 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 2.0ms | Allocations: 536)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 630)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms | Allocations: 3197)


Started GET "/sign_up" for ::1 at 2021-05-08 15:13:29 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 2.8ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 16.3ms | ActiveRecord: 0.0ms | Allocations: 3366)


Started POST "/users" for ::1 at 2021-05-08 15:13:35 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"adrian@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 13:13:36.254309"], ["updated_at", "2021-05-08 13:13:36.254309"], ["email", "adrian@gmail.com"], ["encrypted_password", "$2a$12$MT.DtaQttSSlPSppUTcgWOPrF8kQACMVxciAgWtz6JRIPH7R/Vxem"], ["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 389ms (ActiveRecord: 2.8ms | Allocations: 6076)


Started GET "/" for ::1 at 2021-05-08 15:13:36 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 437)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 26.6ms | ActiveRecord: 0.9ms | Allocations: 12349)


Started GET "/cable" for ::1 at 2021-05-08 15:13:36 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:13:36 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for ::1 at 2021-05-08 15:13:37 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.4ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.7ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.2ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 26.7ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 36.6ms | ActiveRecord: 2.3ms | Allocations: 8689)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"\"}"}) [Gem::LoadError - Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
Started POST "/messages" for ::1 at 2021-05-08 15:13:52 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola Oussama"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola Oussama"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-08 13:13:52.962960"], ["updated_at", "2021-05-08 13:13:52.962960"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: fc7751e5-5471-4383-8ca3-b3ab620ff412) to Async(default) with arguments: #<GlobalID:0x00007fe82965b418 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 302 Found in 23ms (ActiveRecord: 3.0ms | Allocations: 5828)


[ActiveJob] [SendMessageJob] [fc7751e5-5471-4383-8ca3-b3ab620ff412] Performing SendMessageJob (Job ID: fc7751e5-5471-4383-8ca3-b3ab620ff412) from Async(default) enqueued at 2021-05-08T13:13:52Z with arguments: #<GlobalID:0x00007fe82966b9a8 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [fc7751e5-5471-4383-8ca3-b3ab620ff412]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [fc7751e5-5471-4383-8ca3-b3ab620ff412]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [fc7751e5-5471-4383-8ca3-b3ab620ff412]   Rendered messages/_mine.html.erb (Duration: 7.9ms | Allocations: 776)
[ActiveJob] [SendMessageJob] [fc7751e5-5471-4383-8ca3-b3ab620ff412]   Rendered messages/_theirs.html.erb (Duration: 0.2ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [fc7751e5-5471-4383-8ca3-b3ab620ff412] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola Oussama\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola Oussama\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola Oussama", user_id: 2, room_id: 1, created_at: "2021-05-08 13:13:52", updated_at: "2021-05-08 13:13:52">}
Started GET "/rooms/1" for ::1 at 2021-05-08 15:13:53 +0200
[ActiveJob] [SendMessageJob] [fc7751e5-5471-4383-8ca3-b3ab620ff412] Error performing SendMessageJob (Job ID: fc7751e5-5471-4383-8ca3-b3ab620ff412) from Async(default) in 46.07ms: Gem::LoadError (Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.):
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:48:in `block in broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:182:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:46:in `broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:25:in `broadcast'
/Users/oussama/chat/app/jobs/send_message_job.rb:15:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:40:in `block in perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:39:in `perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:25:in `block in execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:71:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:23:in `execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 5.0ms | Allocations: 432)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.1ms | Allocations: 766)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.7ms | Allocations: 767)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 37.0ms | Allocations: 5135)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 45.3ms | ActiveRecord: 1.8ms | Allocations: 9556)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:13:53 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 15:13:53 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:13:53 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for ::1 at 2021-05-08 15:13:58 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.3ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 5134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 41.1ms | ActiveRecord: 1.8ms | Allocations: 9559)


Started GET "/rooms/1" for ::1 at 2021-05-08 15:13:59 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.6ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 5134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 28.2ms | ActiveRecord: 2.9ms | Allocations: 9557)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"1\"}"}) [Gem::LoadError - Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
Started POST "/messages" for ::1 at 2021-05-08 15:14:11 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (2.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-08 13:14:11.862506"], ["updated_at", "2021-05-08 13:14:11.862506"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: e27034ce-e964-4a0a-a9ac-ee192a554309) to Async(default) with arguments: #<GlobalID:0x00007fe82bc6b7e8 @uri=#<URI::GID gid://chat-room/Message/3>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 24ms (ActiveRecord: 4.9ms | Allocations: 5554)


  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [e27034ce-e964-4a0a-a9ac-ee192a554309] Performing SendMessageJob (Job ID: e27034ce-e964-4a0a-a9ac-ee192a554309) from Async(default) enqueued at 2021-05-08T13:14:11Z with arguments: #<GlobalID:0x00007fe82bc9a520 @uri=#<URI::GID gid://chat-room/Message/3>>
[ActiveJob] [SendMessageJob] [e27034ce-e964-4a0a-a9ac-ee192a554309]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [e27034ce-e964-4a0a-a9ac-ee192a554309]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [e27034ce-e964-4a0a-a9ac-ee192a554309]   Rendered messages/_mine.html.erb (Duration: 7.3ms | Allocations: 776)
[ActiveJob] [SendMessageJob] [e27034ce-e964-4a0a-a9ac-ee192a554309]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [e27034ce-e964-4a0a-a9ac-ee192a554309] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 3, content: "Hola", user_id: 1, room_id: 1, created_at: "2021-05-08 13:14:11", updated_at: "2021-05-08 13:14:11">}
[ActiveJob] [SendMessageJob] [e27034ce-e964-4a0a-a9ac-ee192a554309] Error performing SendMessageJob (Job ID: e27034ce-e964-4a0a-a9ac-ee192a554309) from Async(default) in 16.21ms: Gem::LoadError (Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.):
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:48:in `block in broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:182:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:46:in `broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:25:in `broadcast'
/Users/oussama/chat/app/jobs/send_message_job.rb:15:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:40:in `block in perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:39:in `perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:25:in `block in execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:71:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:23:in `execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/rooms/1" for ::1 at 2021-05-08 15:14:11 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.3ms | Allocations: 432)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.9ms | Allocations: 711)
  Rendered messages/_form.html.erb (Duration: 1.7ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 44.0ms | Allocations: 6089)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 52.4ms | ActiveRecord: 2.3ms | Allocations: 10548)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:14:11 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 15:14:12 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:14:12 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rooms/1" for ::1 at 2021-05-08 15:14:17 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.7ms | Allocations: 431)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 766)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.7ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 5936)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 33.8ms | ActiveRecord: 2.1ms | Allocations: 10361)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"RoomChannel\",\"room_id\":\"1\"}"}) [Gem::LoadError - Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.]: /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi' | /Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
Started POST "/messages" for ::1 at 2021-05-08 15:14:26 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-08 13:14:26.228326"], ["updated_at", "2021-05-08 13:14:26.228326"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 7426804d-a68c-474d-9d2c-c0ca67bb84f8) to Async(default) with arguments: #<GlobalID:0x00007fe82cb529c8 @uri=#<URI::GID gid://chat-room/Message/4>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 22ms (ActiveRecord: 2.8ms | Allocations: 5558)


  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [7426804d-a68c-474d-9d2c-c0ca67bb84f8] Performing SendMessageJob (Job ID: 7426804d-a68c-474d-9d2c-c0ca67bb84f8) from Async(default) enqueued at 2021-05-08T13:14:26Z with arguments: #<GlobalID:0x00007fe829536948 @uri=#<URI::GID gid://chat-room/Message/4>>
[ActiveJob] [SendMessageJob] [7426804d-a68c-474d-9d2c-c0ca67bb84f8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [7426804d-a68c-474d-9d2c-c0ca67bb84f8]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [7426804d-a68c-474d-9d2c-c0ca67bb84f8]   Rendered messages/_mine.html.erb (Duration: 6.6ms | Allocations: 724)
[ActiveJob] [SendMessageJob] [7426804d-a68c-474d-9d2c-c0ca67bb84f8]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [7426804d-a68c-474d-9d2c-c0ca67bb84f8] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 4, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-08 13:14:26", updated_at: "2021-05-08 13:14:26">}
Started GET "/rooms/1" for ::1 at 2021-05-08 15:14:26 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.5ms | Allocations: 432)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 12.8ms | Allocations: 1493)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.3ms | Allocations: 791)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 716)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.6ms | Allocations: 716)
  Rendered messages/_form.html.erb (Duration: 1.5ms | Allocations: 313)
  Rendered rooms/index.html.erb within layouts/application (Duration: 46.6ms | Allocations: 7793)
[ActiveJob] [SendMessageJob] [7426804d-a68c-474d-9d2c-c0ca67bb84f8] Error performing SendMessageJob (Job ID: 7426804d-a68c-474d-9d2c-c0ca67bb84f8) from Async(default) in 96.94ms: Gem::LoadError (Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.):
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:48:in `block in broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:182:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:46:in `broadcast'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/broadcasting.rb:25:in `broadcast'
/Users/oussama/chat/app/jobs/send_message_job.rb:15:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:40:in `block in perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/i18n-1.8.10/lib/i18n.rb:314:in `with_locale'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/notifications.rb:180:in `instrument'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:45:in `tag_logger'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:39:in `perform_now'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:25:in `block in execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/reloader.rb:71:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/execution.rb:23:in `execute'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activejob-6.0.3.7/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 61.6ms | ActiveRecord: 2.5ms | Allocations: 13398)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:14:26 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/cable" for ::1 at 2021-05-08 15:14:26 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:14:26 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:14:37 +0200
There was an exception - Gem::LoadError(Error loading the 'redis' Action Cable pubsub adapter. Missing a gem it depends on? redis is not part of the bundle. Add it to your Gemfile.)
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bundler-2.2.16/lib/bundler/rubygems_integration.rb:334:in `block (2 levels) in replace_gem'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/subscription_adapter/redis.rb:5:in `<main>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/bootsnap-1.7.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/zeitwerk-2.4.2/lib/zeitwerk/kernel.rb:34:in `require'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/configuration.rb:34:in `pubsub_adapter'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `block in pubsub'
/Users/oussama/.rvm/rubies/ruby-2.6.3/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/base.rb:83:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:51:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:114:in `pubsub'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:108:in `block in stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/streams.rb:107:in `stop_all_streams'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:273:in `block in simple'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:517:in `invoke_after'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:126:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/activesupport-6.0.3.7/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:40:in `work'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/actioncable-6.0.3.7/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/Users/oussama/.rvm/gems/ruby-2.6.3/gems/concurrent-ruby-1.1.8/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started GET "/rooms/1" for ::1 at 2021-05-08 15:15:19 +0200
  [1m[35m (2.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (4.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 52.7ms | Allocations: 3157)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.9ms | Allocations: 1112)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 15.9ms | Allocations: 4455)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 12.1ms | Allocations: 2379)
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 12.4ms | Allocations: 1904)
  Rendered messages/_form.html.erb (Duration: 4.7ms | Allocations: 733)
  Rendered rooms/index.html.erb within layouts/application (Duration: 364.5ms | Allocations: 30694)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 626ms (Views: 493.6ms | ActiveRecord: 16.1ms | Allocations: 48452)


Started GET "/cable" for ::1 at 2021-05-08 15:15:20 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:15:20 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-08 15:15:31 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 440)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2369)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 0.8ms | Allocations: 6297)


Started GET "/cable" for ::1 at 2021-05-08 15:15:31 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:15:31 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:15:32 +0200
RoomChannel stopped streaming from room_channel_
Started GET "/" for ::1 at 2021-05-08 15:15:43 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 347)


Started GET "/sign_in" for ::1 at 2021-05-08 15:15:43 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 3.8ms | Allocations: 1273)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2699)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.4ms | ActiveRecord: 0.0ms | Allocations: 11747)


Started POST "/session" for ::1 at 2021-05-08 15:15:49 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"adrian@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 377ms (ActiveRecord: 2.0ms | Allocations: 1988)


Started GET "/" for ::1 at 2021-05-08 15:15:50 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 439)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 2373)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 23.4ms | ActiveRecord: 2.5ms | Allocations: 6305)


Started GET "/cable" for ::1 at 2021-05-08 15:15:50 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:15:50 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 15:15:52 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 431)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 766)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.0ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.0ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.6ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 2.9ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 33.9ms | Allocations: 6744)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 43.9ms | ActiveRecord: 2.9ms | Allocations: 11187)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 15:15:56 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-08 13:15:56.172987"], ["updated_at", "2021-05-08 13:15:56.172987"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (14.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 12982edf-6247-4e00-bd74-7efd57ddb90a) to Async(default) with arguments: #<GlobalID:0x00007fe222b3e370 @uri=#<URI::GID gid://chat-room/Message/5>>
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Redirected to http://localhost:3000/rooms/1
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Completed 302 Found in 126ms (ActiveRecord: 16.7ms | Allocations: 11947)


[ActiveJob] [SendMessageJob] [12982edf-6247-4e00-bd74-7efd57ddb90a] Performing SendMessageJob (Job ID: 12982edf-6247-4e00-bd74-7efd57ddb90a) from Async(default) enqueued at 2021-05-08T13:15:56Z with arguments: #<GlobalID:0x00007fe222b639e0 @uri=#<URI::GID gid://chat-room/Message/5>>
[ActiveJob] [SendMessageJob] [12982edf-6247-4e00-bd74-7efd57ddb90a]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [12982edf-6247-4e00-bd74-7efd57ddb90a]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [12982edf-6247-4e00-bd74-7efd57ddb90a]   Rendered messages/_mine.html.erb (Duration: 4.7ms | Allocations: 933)
[ActiveJob] [SendMessageJob] [12982edf-6247-4e00-bd74-7efd57ddb90a]   Rendered messages/_theirs.html.erb (Duration: 1.1ms | Allocations: 138)
[ActiveJob] [SendMessageJob] [12982edf-6247-4e00-bd74-7efd57ddb90a] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 5, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-08 13:15:56", updated_at: "2021-05-08 13:15:56">}
Started GET "/rooms/1" for ::1 at 2021-05-08 15:15:56 +0200
Processing by RoomsController#show as HTML
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  Parameters: {"id"=>"1"}
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
[ActiveJob] [SendMessageJob] [12982edf-6247-4e00-bd74-7efd57ddb90a] Performed SendMessageJob (Job ID: 12982edf-6247-4e00-bd74-7efd57ddb90a) from Async(default) in 18.11ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "d5d3421add9b88f2ef6d6788ea374e6b093eaf14"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 6.2ms | Allocations: 436)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.8ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.8ms | Allocations: 767)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.0ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.4ms | Allocations: 710)
  Rendered messages/_form.html.erb (Duration: 1.1ms | Allocations: 308)
  Rendered rooms/index.html.erb within layouts/application (Duration: 48.4ms | Allocations: 7562)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 54.0ms | ActiveRecord: 5.2ms | Allocations: 12261)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:15:56 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 15:15:56 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:15:56 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 15:15:58 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.4ms | Allocations: 431)
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.8ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.1ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.2ms | Allocations: 708)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 1.5ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 0.9ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 41.7ms | Allocations: 7544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 48.5ms | ActiveRecord: 2.1ms | Allocations: 11963)


Started GET "/rooms/1" for ::1 at 2021-05-08 15:15:59 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "163f9056caa1ba324582838278ff2b620fe044f8"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.6ms | Allocations: 431)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.5ms | Allocations: 768)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.4ms | Allocations: 765)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 710)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 3.6ms | Allocations: 708)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.4ms | Allocations: 708)
  Rendered messages/_form.html.erb (Duration: 1.6ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 37.4ms | Allocations: 7545)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 42.8ms | ActiveRecord: 2.4ms | Allocations: 11980)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:16:02 +0200
RoomChannel stopped streaming from room_channel_1
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 13:35:28.672824"], ["updated_at", "2021-05-08 13:35:28.672824"]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 13:35:28.692929"], ["updated_at", "2021-05-08 13:35:28.692929"]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "email" varchar, "encrypted_password" varchar(128), "confirmation_token" varchar(128), "remember_token" varchar(128))[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_remember_token" ON "users" ("remember_token")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_user_id" ON "amessages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "messages"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer NOT NULL PRIMARY KEY, "content" text DEFAULT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","user_id","room_id","created_at","updated_at")
                     SELECT "id","content","user_id","room_id","created_at","updated_at" FROM "amessages"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amessages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210507173731)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200501133501),
(20200501133520),
(20200501133606);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-08 13:35:28.858444"], ["updated_at", "2021-05-08 13:35:28.858444"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2021-05-08 13:35:28.884802"], ["key", "environment"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8581c8ce7ed4f024724ffd0bf1d1c514b680627a"], ["created_at", "2021-05-08 13:35:28.897049"], ["updated_at", "2021-05-08 13:35:28.897049"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-05-08 15:40:26 +0200
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 33ms (ActiveRecord: 0.0ms | Allocations: 11534)


Started GET "/sign_in" for ::1 at 2021-05-08 15:40:26 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 19.9ms | Allocations: 1344)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 27.7ms | Allocations: 1926)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 77.0ms | ActiveRecord: 0.0ms | Allocations: 6729)


Started POST "/session" for ::1 at 2021-05-08 15:41:03 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 7.8ms | Allocations: 522)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 9.5ms | Allocations: 648)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 633ms (Views: 71.5ms | ActiveRecord: 2.8ms | Allocations: 18541)


Started GET "/sign_up" for ::1 at 2021-05-08 15:41:06 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 12.8ms | Allocations: 516)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 80.2ms | Allocations: 1431)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 128ms (Views: 123.8ms | ActiveRecord: 0.0ms | Allocations: 4895)


Started POST "/users" for ::1 at 2021-05-08 15:41:13 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 13:41:14.627965"], ["updated_at", "2021-05-08 13:41:14.627965"], ["email", "oussama@gmail.com"], ["encrypted_password", "$2a$12$FXARAQZSBPPA2TdI5YsItuM8GqhTio5x5fGNoHSyf4M6XPmIlteoy"], ["remember_token", "07ac91dcd517916faae412be6ff9bd56a0756d36"]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1422ms (ActiveRecord: 5.4ms | Allocations: 18336)


Started GET "/" for ::1 at 2021-05-08 15:41:14 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07ac91dcd517916faae412be6ff9bd56a0756d36"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 9.5ms | Allocations: 840)
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  Rendered rooms/index.html.erb within layouts/application (Duration: 114.4ms | Allocations: 5192)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 244ms (Views: 179.4ms | ActiveRecord: 14.1ms | Allocations: 11494)


Started GET "/cable" for ::1 at 2021-05-08 15:41:15 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:41:15 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started POST "/rooms" for ::1 at 2021-05-08 15:41:24 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Sala 1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07ac91dcd517916faae412be6ff9bd56a0756d36"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.0ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sala 1"], ["created_at", "2021-05-08 13:41:24.228103"], ["updated_at", "2021-05-08 13:41:24.228103"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 15ms (ActiveRecord: 3.8ms | Allocations: 4178)


Started GET "/rooms/1" for ::1 at 2021-05-08 15:41:24 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07ac91dcd517916faae412be6ff9bd56a0756d36"], ["LIMIT", 1]]
  [1m[36mRoom Load (5.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.8ms | Allocations: 431)
  [1m[36mRoom Load (1.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 6.1ms | Allocations: 740)
  Rendered rooms/index.html.erb within layouts/application (Duration: 136.5ms | Allocations: 13585)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 197ms (Views: 170.3ms | ActiveRecord: 12.3ms | Allocations: 18058)


Started GET "/cable" for ::1 at 2021-05-08 15:41:24 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:41:24 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:41:24 +0200
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 15:41:40 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07ac91dcd517916faae412be6ff9bd56a0756d36"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (1.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 1], ["room_id", 1], ["created_at", "2021-05-08 13:41:40.277581"], ["updated_at", "2021-05-08 13:41:40.277581"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 6228142b-d3db-4cf6-aebd-3714d0bafe44) to Async(default) with arguments: #<GlobalID:0x00007fa65febe8f0 @uri=#<URI::GID gid://chat-room/Message/1>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 118ms (ActiveRecord: 6.0ms | Allocations: 10649)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [6228142b-d3db-4cf6-aebd-3714d0bafe44] Performing SendMessageJob (Job ID: 6228142b-d3db-4cf6-aebd-3714d0bafe44) from Async(default) enqueued at 2021-05-08T13:41:40Z with arguments: #<GlobalID:0x00007fa660cf0748 @uri=#<URI::GID gid://chat-room/Message/1>>
[ActiveJob] [SendMessageJob] [6228142b-d3db-4cf6-aebd-3714d0bafe44]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [6228142b-d3db-4cf6-aebd-3714d0bafe44]   â†³ app/views/messages/_mine.html.erb:7
Started GET "/rooms/1" for ::1 at 2021-05-08 15:41:40 +0200
[ActiveJob] [SendMessageJob] [6228142b-d3db-4cf6-aebd-3714d0bafe44]   Rendered messages/_mine.html.erb (Duration: 16.4ms | Allocations: 1532)
[ActiveJob] [SendMessageJob] [6228142b-d3db-4cf6-aebd-3714d0bafe44]   Rendered messages/_theirs.html.erb (Duration: 1.0ms | Allocations: 155)
Processing by RoomsController#show as HTML
[ActiveJob] [SendMessageJob] [6228142b-d3db-4cf6-aebd-3714d0bafe44] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 1, content: "Hola", user_id: 1, room_id: 1, created_at: "2021-05-08 13:41:40", updated_at: "2021-05-08 13:41:40">}
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07ac91dcd517916faae412be6ff9bd56a0756d36"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
[ActiveJob] [SendMessageJob] [6228142b-d3db-4cf6-aebd-3714d0bafe44] Performed SendMessageJob (Job ID: 6228142b-d3db-4cf6-aebd-3714d0bafe44) from Async(default) in 78.58ms
  Rendering rooms/index.html.erb within layouts/application
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
  Rendered rooms/_form.html.erb (Duration: 2.9ms | Allocations: 440)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 16.4ms | Allocations: 938)
  Rendered messages/_form.html.erb (Duration: 27.4ms | Allocations: 315)
  Rendered rooms/index.html.erb within layouts/application (Duration: 81.0ms | Allocations: 4870)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 151ms (Views: 99.8ms | ActiveRecord: 4.4ms | Allocations: 10191)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:41:40 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 15:41:40 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:41:40 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-08 15:41:51 +0200
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 311)


Started GET "/sign_in" for ::1 at 2021-05-08 15:41:51 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 10.0ms | Allocations: 537)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 631)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 3198)


Started GET "/sign_up" for ::1 at 2021-05-08 15:41:53 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 0.9ms | Allocations: 302)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 729)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.0ms | Allocations: 3365)


Started POST "/users" for ::1 at 2021-05-08 15:42:01 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"adrian@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "adrian@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-08 13:42:01.817769"], ["updated_at", "2021-05-08 13:42:01.817769"], ["email", "adrian@gmail.com"], ["encrypted_password", "$2a$12$X9k/XFrM0o7JoDUmV1KvBOTBe14eFlNP3K1XrXb63qTryJuQdpjxO"], ["remember_token", "04c26f8bfb068b469b2bd9d8185a08dcd410d623"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 565ms (ActiveRecord: 3.5ms | Allocations: 16405)


Started GET "/" for ::1 at 2021-05-08 15:42:01 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "04c26f8bfb068b469b2bd9d8185a08dcd410d623"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.7ms | Allocations: 437)
  [1m[36mRoom Load (1.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 22.5ms | Allocations: 2325)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 70.1ms | ActiveRecord: 2.2ms | Allocations: 6387)


Started GET "/cable" for ::1 at 2021-05-08 15:42:02 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:42:02 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-08 15:42:05 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "04c26f8bfb068b469b2bd9d8185a08dcd410d623"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.1ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.6ms | Allocations: 766)
  Rendered messages/_form.html.erb (Duration: 1.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 26.3ms | Allocations: 4273)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 49.8ms | ActiveRecord: 2.3ms | Allocations: 8692)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/messages" for ::1 at 2021-05-08 15:42:17 +0200
Processing by MessagesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"room_id"=>"1", "content"=>"Hola"}, "commit"=>"Enviar"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "04c26f8bfb068b469b2bd9d8185a08dcd410d623"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mRoom Load (0.7ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[36mMessage Create (8.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "Hola"], ["user_id", 2], ["room_id", 1], ["created_at", "2021-05-08 13:42:17.914946"], ["updated_at", "2021-05-08 13:42:17.914946"]]
  â†³ app/controllers/messages_controller.rb:29:in `create'
  [1m[35m (6.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/messages_controller.rb:29:in `create'
[ActiveJob] Enqueued SendMessageJob (Job ID: 4b73097d-6781-4e14-8651-ca11ba223176) to Async(default) with arguments: #<GlobalID:0x00007fa66034ae50 @uri=#<URI::GID gid://chat-room/Message/2>>
Redirected to http://localhost:3000/rooms/1
Completed 302 Found in 79ms (ActiveRecord: 16.4ms | Allocations: 5809)


  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [4b73097d-6781-4e14-8651-ca11ba223176] Performing SendMessageJob (Job ID: 4b73097d-6781-4e14-8651-ca11ba223176) from Async(default) enqueued at 2021-05-08T13:42:17Z with arguments: #<GlobalID:0x00007fa660ae9878 @uri=#<URI::GID gid://chat-room/Message/2>>
[ActiveJob] [SendMessageJob] [4b73097d-6781-4e14-8651-ca11ba223176]   [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [SendMessageJob] [4b73097d-6781-4e14-8651-ca11ba223176]   â†³ app/views/messages/_mine.html.erb:7
[ActiveJob] [SendMessageJob] [4b73097d-6781-4e14-8651-ca11ba223176]   Rendered messages/_mine.html.erb (Duration: 7.5ms | Allocations: 723)
[ActiveJob] [SendMessageJob] [4b73097d-6781-4e14-8651-ca11ba223176]   Rendered messages/_theirs.html.erb (Duration: 0.1ms | Allocations: 8)
[ActiveJob] [SendMessageJob] [4b73097d-6781-4e14-8651-ca11ba223176] [ActionCable] Broadcasting to room_channel_1: {:mine=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :theirs=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", :message=>#<Message id: 2, content: "Hola", user_id: 2, room_id: 1, created_at: "2021-05-08 13:42:17", updated_at: "2021-05-08 13:42:17">}
[ActiveJob] [SendMessageJob] [4b73097d-6781-4e14-8651-ca11ba223176] Performed SendMessageJob (Job ID: 4b73097d-6781-4e14-8651-ca11ba223176) from Async(default) in 11.06ms
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
RoomChannel transmitting {"mine"=>"<div class=\"message mb-2 me\">\n  <div class=\"content-container\">\n    <div class=\"content\">\n      Hola\n    </div>\n    <div class=\"author\">\n      \n    </div>\n  </div>\n</div>\n", "theirs"=>"<div class=\"message mb-2\">\n  <div class=\"content-container\">\n    <div class=\"... (via streamed from room_channel_1)
Started GET "/rooms/1" for ::1 at 2021-05-08 15:42:17 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "04c26f8bfb068b469b2bd9d8185a08dcd410d623"], ["LIMIT", 1]]
  [1m[36mRoom Load (6.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 3.8ms | Allocations: 432)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 25.2ms | Allocations: 766)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 7.8ms | Allocations: 791)
  Rendered messages/_form.html.erb (Duration: 5.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 70.5ms | Allocations: 5303)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 81.7ms | ActiveRecord: 9.7ms | Allocations: 9761)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-08 15:42:18 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-08 15:42:18 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-08 15:42:18 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/1" for ::1 at 2021-05-08 15:42:20 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "07ac91dcd517916faae412be6ff9bd56a0756d36"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 431)
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 6.9ms | Allocations: 768)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 4.4ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 1.5ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 46.7ms | Allocations: 5134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 62.6ms | ActiveRecord: 3.0ms | Allocations: 9554)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
Started GET "/" for ::1 at 2021-05-09 13:00:08 +0200
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RoomsController#index as HTML
Redirected to http://localhost:3000/sign_in
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 32ms (ActiveRecord: 0.0ms | Allocations: 9246)


Started GET "/sign_in" for ::1 at 2021-05-09 13:00:08 +0200
Processing by Clearance::SessionsController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 9.9ms | Allocations: 1339)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 13.9ms | Allocations: 1921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms | Allocations: 6768)


Started POST "/session" for ::1 at 2021-05-09 13:00:13 +0200
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/_form.html.erb (Duration: 1.7ms | Allocations: 523)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/sessions/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1174)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 463ms (Views: 24.6ms | ActiveRecord: 2.0ms | Allocations: 19090)


Started GET "/sign_up" for ::1 at 2021-05-09 13:00:15 +0200
Processing by Clearance::UsersController#new as HTML
  Rendering /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/_form.html.erb (Duration: 1.8ms | Allocations: 511)
  Rendered /Users/oussama/.rvm/gems/ruby-2.6.3/gems/clearance-2.4.0/app/views/users/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1428)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.0ms | Allocations: 4927)


Started POST "/users" for ::1 at 2021-05-09 13:00:16 +0200
Processing by Clearance::UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"oussama.taheri27@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "oussama.taheri27@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password", "remember_token") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2021-05-09 11:00:17.036590"], ["updated_at", "2021-05-09 11:00:17.036590"], ["email", "oussama.taheri27@gmail.com"], ["encrypted_password", "$2a$12$sH2Ff4vzb.zeES59SNg8W.Z9YKy1BzrHoZGz5kcKwhNXgmpd.0NCa"], ["remember_token", "7d12bbf29c2da3b80f106e5282800525175314b4"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 358ms (ActiveRecord: 3.5ms | Allocations: 7850)


Started GET "/" for ::1 at 2021-05-09 13:00:17 +0200
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7d12bbf29c2da3b80f106e5282800525175314b4"], ["LIMIT", 1]]
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 17.4ms | Allocations: 989)
  [1m[36mRoom Load (0.9ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  Rendered rooms/index.html.erb within layouts/application (Duration: 129.3ms | Allocations: 11959)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 161ms (Views: 134.0ms | ActiveRecord: 8.1ms | Allocations: 18056)


Started GET "/cable" for ::1 at 2021-05-09 13:00:17 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-09 13:00:17 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_
Started GET "/rooms/1" for ::1 at 2021-05-09 13:00:21 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7d12bbf29c2da3b80f106e5282800525175314b4"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.0ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 5.9ms | Allocations: 1115)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.9ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 4.1ms | Allocations: 734)
  Rendered rooms/index.html.erb within layouts/application (Duration: 50.0ms | Allocations: 11123)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 57.1ms | ActiveRecord: 3.1ms | Allocations: 15613)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":""}
RoomChannel stopped streaming from room_channel_
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started POST "/rooms" for ::1 at 2021-05-09 13:00:29 +0200
Processing by RoomsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room1"}, "commit"=>"AÃ±adir"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7d12bbf29c2da3b80f106e5282800525175314b4"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[36mRoom Create (1.8ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Room1"], ["created_at", "2021-05-09 11:00:29.109189"], ["updated_at", "2021-05-09 11:00:29.109189"]]
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/rooms_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/rooms/2
Completed 302 Found in 22ms (ActiveRecord: 3.7ms | Allocations: 4259)


Started GET "/rooms/2" for ::1 at 2021-05-09 13:00:29 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7d12bbf29c2da3b80f106e5282800525175314b4"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.9ms | Allocations: 437)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 5.8ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 4478)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 51.6ms | ActiveRecord: 1.5ms | Allocations: 17757)


Finished "/cable/" [WebSocket] for ::1 at 2021-05-09 13:00:29 +0200
RoomChannel stopped streaming from room_channel_1
Started GET "/cable" for ::1 at 2021-05-09 13:00:29 +0200
Started GET "/cable/" [WebSocket] for ::1 at 2021-05-09 13:00:29 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Started GET "/rooms/1" for ::1 at 2021-05-09 13:00:30 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7d12bbf29c2da3b80f106e5282800525175314b4"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 1.6ms | Allocations: 431)
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:60
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.5ms | Allocations: 766)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/messages/_message.html.erb:1
  Rendered messages/_message.html.erb (Duration: 2.8ms | Allocations: 765)
  Rendered messages/_form.html.erb (Duration: 9.3ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 32.7ms | Allocations: 6157)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 36.6ms | ActiveRecord: 2.3ms | Allocations: 10639)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"2"}
RoomChannel stopped streaming from room_channel_2
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_1
Started GET "/rooms/2" for ::1 at 2021-05-09 13:01:02 +0200
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."remember_token" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["remember_token", "7d12bbf29c2da3b80f106e5282800525175314b4"], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/rooms_controller.rb:69:in `set_room'
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_form.html.erb (Duration: 2.3ms | Allocations: 431)
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms"[0m
  â†³ app/views/rooms/index.html.erb:35
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 1]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "messages" ON "users"."id" = "messages"."user_id" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:43:in `uniq'
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ?[0m  [["room_id", 2]]
  â†³ app/views/rooms/index.html.erb:60
  Rendered messages/_form.html.erb (Duration: 4.7ms | Allocations: 307)
  Rendered rooms/index.html.erb within layouts/application (Duration: 27.2ms | Allocations: 4463)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 41.4ms | ActiveRecord: 2.2ms | Allocations: 8930)


Unsubscribing from channel: {"channel":"RoomChannel","room_id":"1"}
RoomChannel stopped streaming from room_channel_1
RoomChannel is transmitting the subscription confirmation
RoomChannel is streaming from room_channel_2
Finished "/cable/" [WebSocket] for ::1 at 2021-05-09 13:01:39 +0200
RoomChannel stopped streaming from room_channel_2
